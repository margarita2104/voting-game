var D1=Object.defineProperty;var N1=(n,t,e)=>t in n?D1(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var gt=(n,t,e)=>N1(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();function k1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Af={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function L1(){if(Ry)return Nl;Ry=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:n,type:s,key:u,ref:l!==void 0?l:null,props:o}}return Nl.Fragment=t,Nl.jsx=e,Nl.jsxs=e,Nl}var My;function z1(){return My||(My=1,Af.exports=L1()),Af.exports}var ut=z1(),Rf={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function I1(){if(Oy)return dt;Oy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C(w,j,W){this.props=w,this.context=j,this.refs=T,this.updater=W||S}C.prototype.isReactComponent={},C.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},C.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function R(){}R.prototype=C.prototype;function H(w,j,W){this.props=w,this.context=j,this.refs=T,this.updater=W||S}var I=H.prototype=new R;I.constructor=H,E(I,C.prototype),I.isPureReactComponent=!0;var F=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function tt(w,j,W,G,Z,mt){return W=mt.ref,{$$typeof:n,type:w,key:j,ref:W!==void 0?W:null,props:mt}}function $(w,j){return tt(w.type,j,void 0,void 0,void 0,w.props)}function it(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function at(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return j[W]})}var ft=/\/+/g;function lt(w,j){return typeof w=="object"&&w!==null&&w.key!=null?at(""+w.key):j.toString(36)}function jt(){}function Zt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(jt,jt):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ct(w,j,W,G,Z){var mt=typeof w;(mt==="undefined"||mt==="boolean")&&(w=null);var et=!1;if(w===null)et=!0;else switch(mt){case"bigint":case"string":case"number":et=!0;break;case"object":switch(w.$$typeof){case n:case t:et=!0;break;case m:return et=w._init,ct(et(w._payload),j,W,G,Z)}}if(et)return Z=Z(w),et=G===""?"."+lt(w,0):G,F(Z)?(W="",et!=null&&(W=et.replace(ft,"$&/")+"/"),ct(Z,j,W,"",function(ei){return ei})):Z!=null&&(it(Z)&&(Z=$(Z,W+(Z.key==null||w&&w.key===Z.key?"":(""+Z.key).replace(ft,"$&/")+"/")+et)),j.push(Z)),1;et=0;var Be=G===""?".":G+":";if(F(w))for(var Ft=0;Ft<w.length;Ft++)G=w[Ft],mt=Be+lt(G,Ft),et+=ct(G,j,W,mt,Z);else if(Ft=y(w),typeof Ft=="function")for(w=Ft.call(w),Ft=0;!(G=w.next()).done;)G=G.value,mt=Be+lt(G,Ft++),et+=ct(G,j,W,mt,Z);else if(mt==="object"){if(typeof w.then=="function")return ct(Zt(w),j,W,G,Z);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return et}function L(w,j,W){if(w==null)return w;var G=[],Z=0;return ct(w,G,"","",function(mt){return j.call(W,mt,Z++)}),G}function Y(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var K=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function ht(){}return dt.Children={map:L,forEach:function(w,j,W){L(w,function(){j.apply(this,arguments)},W)},count:function(w){var j=0;return L(w,function(){j++}),j},toArray:function(w){return L(w,function(j){return j})||[]},only:function(w){if(!it(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=C,dt.Fragment=e,dt.Profiler=l,dt.PureComponent=H,dt.StrictMode=s,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return V.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,j,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=E({},w.props),Z=w.key,mt=void 0;if(j!=null)for(et in j.ref!==void 0&&(mt=void 0),j.key!==void 0&&(Z=""+j.key),j)!Q.call(j,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&j.ref===void 0||(G[et]=j[et]);var et=arguments.length-2;if(et===1)G.children=W;else if(1<et){for(var Be=Array(et),Ft=0;Ft<et;Ft++)Be[Ft]=arguments[Ft+2];G.children=Be}return tt(w.type,Z,void 0,void 0,mt,G)},dt.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},dt.createElement=function(w,j,W){var G,Z={},mt=null;if(j!=null)for(G in j.key!==void 0&&(mt=""+j.key),j)Q.call(j,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Z[G]=j[G]);var et=arguments.length-2;if(et===1)Z.children=W;else if(1<et){for(var Be=Array(et),Ft=0;Ft<et;Ft++)Be[Ft]=arguments[Ft+2];Z.children=Be}if(w&&w.defaultProps)for(G in et=w.defaultProps,et)Z[G]===void 0&&(Z[G]=et[G]);return tt(w,mt,void 0,void 0,null,Z)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:h,render:w}},dt.isValidElement=it,dt.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:Y}},dt.memo=function(w,j){return{$$typeof:g,type:w,compare:j===void 0?null:j}},dt.startTransition=function(w){var j=V.T,W={};V.T=W;try{var G=w(),Z=V.S;Z!==null&&Z(W,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(ht,K)}catch(mt){K(mt)}finally{V.T=j}},dt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},dt.use=function(w){return V.H.use(w)},dt.useActionState=function(w,j,W){return V.H.useActionState(w,j,W)},dt.useCallback=function(w,j){return V.H.useCallback(w,j)},dt.useContext=function(w){return V.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,j){return V.H.useDeferredValue(w,j)},dt.useEffect=function(w,j,W){var G=V.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,j)},dt.useId=function(){return V.H.useId()},dt.useImperativeHandle=function(w,j,W){return V.H.useImperativeHandle(w,j,W)},dt.useInsertionEffect=function(w,j){return V.H.useInsertionEffect(w,j)},dt.useLayoutEffect=function(w,j){return V.H.useLayoutEffect(w,j)},dt.useMemo=function(w,j){return V.H.useMemo(w,j)},dt.useOptimistic=function(w,j){return V.H.useOptimistic(w,j)},dt.useReducer=function(w,j,W){return V.H.useReducer(w,j,W)},dt.useRef=function(w){return V.H.useRef(w)},dt.useState=function(w){return V.H.useState(w)},dt.useSyncExternalStore=function(w,j,W){return V.H.useSyncExternalStore(w,j,W)},dt.useTransition=function(){return V.H.useTransition()},dt.version="19.1.0",dt}var Dy;function Dd(){return Dy||(Dy=1,Rf.exports=I1()),Rf.exports}var z=Dd();const Pb=k1(z);var Mf={exports:{}},kl={},Of={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function H1(){return Ny||(Ny=1,function(n){function t(L,Y){var K=L.length;L.push(Y);t:for(;0<K;){var ht=K-1>>>1,w=L[ht];if(0<l(w,Y))L[ht]=Y,L[K]=w,K=ht;else break t}}function e(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Y=L[0],K=L.pop();if(K!==Y){L[0]=K;t:for(var ht=0,w=L.length,j=w>>>1;ht<j;){var W=2*(ht+1)-1,G=L[W],Z=W+1,mt=L[Z];if(0>l(G,K))Z<w&&0>l(mt,G)?(L[ht]=mt,L[Z]=K,ht=Z):(L[ht]=G,L[W]=K,ht=W);else if(Z<w&&0>l(mt,K))L[ht]=mt,L[Z]=K,ht=Z;else break t}}return Y}function l(L,Y){var K=L.sortIndex-Y.sortIndex;return K!==0?K:L.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],g=[],m=1,_=null,y=3,S=!1,E=!1,T=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var Y=e(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=L)s(g),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=e(g)}}function V(L){if(T=!1,F(L),!E)if(e(d)!==null)E=!0,Q||(Q=!0,lt());else{var Y=e(g);Y!==null&&ct(V,Y.startTime-L)}}var Q=!1,tt=-1,$=5,it=-1;function at(){return C?!0:!(n.unstable_now()-it<$)}function ft(){if(C=!1,Q){var L=n.unstable_now();it=L;var Y=!0;try{t:{E=!1,T&&(T=!1,H(tt),tt=-1),S=!0;var K=y;try{e:{for(F(L),_=e(d);_!==null&&!(_.expirationTime>L&&at());){var ht=_.callback;if(typeof ht=="function"){_.callback=null,y=_.priorityLevel;var w=ht(_.expirationTime<=L);if(L=n.unstable_now(),typeof w=="function"){_.callback=w,F(L),Y=!0;break e}_===e(d)&&s(d),F(L)}else s(d);_=e(d)}if(_!==null)Y=!0;else{var j=e(g);j!==null&&ct(V,j.startTime-L),Y=!1}}break t}finally{_=null,y=K,S=!1}Y=void 0}}finally{Y?lt():Q=!1}}}var lt;if(typeof I=="function")lt=function(){I(ft)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Zt=jt.port2;jt.port1.onmessage=ft,lt=function(){Zt.postMessage(null)}}else lt=function(){R(ft,0)};function ct(L,Y){tt=R(function(){L(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(L){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var K=y;y=Y;try{return L()}finally{y=K}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=y;y=L;try{return Y()}finally{y=K}},n.unstable_scheduleCallback=function(L,Y,K){var ht=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ht+K:ht):K=ht,L){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=K+w,L={id:m++,callback:Y,priorityLevel:L,startTime:K,expirationTime:w,sortIndex:-1},K>ht?(L.sortIndex=K,t(g,L),e(d)===null&&L===e(g)&&(T?(H(tt),tt=-1):T=!0,ct(V,K-ht))):(L.sortIndex=w,t(d,L),E||S||(E=!0,Q||(Q=!0,lt()))),L},n.unstable_shouldYield=at,n.unstable_wrapCallback=function(L){var Y=y;return function(){var K=y;y=Y;try{return L.apply(this,arguments)}finally{y=K}}}}(Df)),Df}var ky;function B1(){return ky||(ky=1,Of.exports=H1()),Of.exports}var Nf={exports:{}},Ce={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function U1(){if(Ly)return Ce;Ly=1;var n=Dd();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:d,containerInfo:g,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ce.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,m)},Ce.flushSync=function(d){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=m,s.d.f()}},Ce.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Ce.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ce.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ce.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Ce.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);s.d.L(d,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ce.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Ce.requestFormReset=function(d){s.d.r(d)},Ce.unstable_batchedUpdates=function(d,g){return d(g)},Ce.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},Ce.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ce.version="19.1.0",Ce}var zy;function P1(){if(zy)return Nf.exports;zy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Nf.exports=U1(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function j1(){if(Iy)return kl;Iy=1;var n=B1(),t=Dd(),e=P1();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,r=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(r=a.return),i=a.return;while(i)}return a.tag===3?r:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var r=i,c=a;;){var f=r.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===r)return h(f),i;if(p===c)return h(f),a;p=p.sibling}throw Error(s(188))}if(r.return!==c.return)r=f,c=p;else{for(var v=!1,b=f.child;b;){if(b===r){v=!0,r=f,c=p;break}if(b===c){v=!0,c=f,r=p;break}b=b.sibling}if(!v){for(b=p.child;b;){if(b===r){v=!0,r=p,c=f;break}if(b===c){v=!0,c=p,r=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function lt(i){return i===null||typeof i!="object"?null:(i=ft&&i[ft]||i["@@iterator"],typeof i=="function"?i:null)}var jt=Symbol.for("react.client.reference");function Zt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===jt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case Q:return"SuspenseList";case it:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case I:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case tt:return a=i.displayName||null,a!==null?a:Zt(i.type)||"Memo";case $:a=i._payload,i=i._init;try{return Zt(i(a))}catch{}}return null}var ct=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ht=[],w=-1;function j(i){return{current:i}}function W(i){0>w||(i.current=ht[w],ht[w]=null,w--)}function G(i,a){w++,ht[w]=i.current,i.current=a}var Z=j(null),mt=j(null),et=j(null),Be=j(null);function Ft(i,a){switch(G(et,a),G(mt,i),G(Z,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?ny(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=ny(a),i=iy(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(Z),G(Z,i)}function ei(){W(Z),W(mt),W(et)}function hu(i){i.memoizedState!==null&&G(Be,i);var a=Z.current,r=iy(a,i.type);a!==r&&(G(mt,i),G(Z,r))}function Dr(i){mt.current===i&&(W(Z),W(mt)),Be.current===i&&(W(Be),Al._currentValue=K)}var fu=Object.prototype.hasOwnProperty,du=n.unstable_scheduleCallback,gu=n.unstable_cancelCallback,cE=n.unstable_shouldYield,uE=n.unstable_requestPaint,yn=n.unstable_now,hE=n.unstable_getCurrentPriorityLevel,Ig=n.unstable_ImmediatePriority,Hg=n.unstable_UserBlockingPriority,Nr=n.unstable_NormalPriority,fE=n.unstable_LowPriority,Bg=n.unstable_IdlePriority,dE=n.log,gE=n.unstable_setDisableYieldValue,za=null,Ue=null;function ni(i){if(typeof dE=="function"&&gE(i),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(za,i)}catch{}}var Pe=Math.clz32?Math.clz32:_E,pE=Math.log,mE=Math.LN2;function _E(i){return i>>>=0,i===0?32:31-(pE(i)/mE|0)|0}var kr=256,Lr=4194304;function ji(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zr(i,a,r){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var b=c&134217727;return b!==0?(c=b&~p,c!==0?f=ji(c):(v&=b,v!==0?f=ji(v):r||(r=b&~i,r!==0&&(f=ji(r))))):(b=c&~p,b!==0?f=ji(b):v!==0?f=ji(v):r||(r=c&~i,r!==0&&(f=ji(r)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,r=a&-a,p>=r||p===32&&(r&4194048)!==0)?a:f}function Ia(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function yE(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(){var i=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),i}function Pg(){var i=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),i}function pu(i){for(var a=[],r=0;31>r;r++)a.push(i);return a}function Ha(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vE(i,a,r,c,f,p){var v=i.pendingLanes;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=r,i.entangledLanes&=r,i.errorRecoveryDisabledLanes&=r,i.shellSuspendCounter=0;var b=i.entanglements,x=i.expirationTimes,D=i.hiddenUpdates;for(r=v&~r;0<r;){var B=31-Pe(r),P=1<<B;b[B]=0,x[B]=-1;var N=D[B];if(N!==null)for(D[B]=null,B=0;B<N.length;B++){var k=N[B];k!==null&&(k.lane&=-536870913)}r&=~P}c!==0&&jg(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(v&~a))}function jg(i,a,r){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Pe(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|r&4194090}function Vg(i,a){var r=i.entangledLanes|=a;for(i=i.entanglements;r;){var c=31-Pe(r),f=1<<c;f&a|i[c]&a&&(i[c]|=a),r&=~f}}function mu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _u(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fg(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Ey(i.type))}function bE(i,a){var r=Y.p;try{return Y.p=i,a()}finally{Y.p=r}}var ii=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ii,Re="__reactProps$"+ii,Cs="__reactContainer$"+ii,yu="__reactEvents$"+ii,SE="__reactListeners$"+ii,EE="__reactHandles$"+ii,Yg="__reactResources$"+ii,Ba="__reactMarker$"+ii;function vu(i){delete i[Ee],delete i[Re],delete i[yu],delete i[SE],delete i[EE]}function Ts(i){var a=i[Ee];if(a)return a;for(var r=i.parentNode;r;){if(a=r[Cs]||r[Ee]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(i=ry(i);i!==null;){if(r=i[Ee])return r;i=ry(i)}return a}i=r,r=i.parentNode}return null}function ws(i){if(i=i[Ee]||i[Cs]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ua(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function As(i){var a=i[Yg];return a||(a=i[Yg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function re(i){i[Ba]=!0}var qg=new Set,Gg={};function Vi(i,a){Rs(i,a),Rs(i+"Capture",a)}function Rs(i,a){for(Gg[i]=a,i=0;i<a.length;i++)qg.add(a[i])}var xE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wg={},Xg={};function CE(i){return fu.call(Xg,i)?!0:fu.call(Wg,i)?!1:xE.test(i)?Xg[i]=!0:(Wg[i]=!0,!1)}function Ir(i,a,r){if(CE(a))if(r===null)i.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+r)}}function Hr(i,a,r){if(r===null)i.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+r)}}function Mn(i,a,r,c){if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttributeNS(a,r,""+c)}}var bu,Qg;function Ms(i){if(bu===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);bu=a&&a[1]||"",Qg=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bu+i+Qg}var Su=!1;function Eu(i,a){if(!i||Su)return"";Su=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(k){var N=k}Reflect.construct(i,[],P)}else{try{P.call()}catch(k){N=k}i.call(P.prototype)}}else{try{throw Error()}catch(k){N=k}(P=i())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(k){if(k&&N&&typeof k.stack=="string")return[k.stack,N.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),v=p[0],b=p[1];if(v&&b){var x=v.split(`
`),D=b.split(`
`);for(f=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(c===x.length||f===D.length)for(c=x.length-1,f=D.length-1;1<=c&&0<=f&&x[c]!==D[f];)f--;for(;1<=c&&0<=f;c--,f--)if(x[c]!==D[f]){if(c!==1||f!==1)do if(c--,f--,0>f||x[c]!==D[f]){var B=`
`+x[c].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=c&&0<=f);break}}}finally{Su=!1,Error.prepareStackTrace=r}return(r=i?i.displayName||i.name:"")?Ms(r):""}function TE(i){switch(i.tag){case 26:case 27:case 5:return Ms(i.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return Eu(i.type,!1);case 11:return Eu(i.type.render,!1);case 1:return Eu(i.type,!0);case 31:return Ms("Activity");default:return""}}function Kg(i){try{var a="";do a+=TE(i),i=i.return;while(i);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wE(i){var a=Zg(i)?"checked":"value",r=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,p=r.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(i,a,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Br(i){i._valueTracker||(i._valueTracker=wE(i))}function $g(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return i&&(c=Zg(i)?i.checked?"true":"false":i.value),i=c,i!==r?(a.setValue(i),!0):!1}function Ur(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var AE=/[\n"\\]/g;function Ke(i){return i.replace(AE,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xu(i,a,r,c,f,p,v,b){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),a!=null?v==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Qe(a)):i.value!==""+Qe(a)&&(i.value=""+Qe(a)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),a!=null?Cu(i,v,Qe(a)):r!=null?Cu(i,v,Qe(r)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+Qe(b):i.removeAttribute("name")}function Jg(i,a,r,c,f,p,v,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;r=r!=null?""+Qe(r):"",a=a!=null?""+Qe(a):r,b||a===i.value||(i.value=a),i.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=b?i.checked:!!c,i.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function Cu(i,a,r){a==="number"&&Ur(i.ownerDocument)===i||i.defaultValue===""+r||(i.defaultValue=""+r)}function Os(i,a,r,c){if(i=i.options,a){a={};for(var f=0;f<r.length;f++)a["$"+r[f]]=!0;for(r=0;r<i.length;r++)f=a.hasOwnProperty("$"+i[r].value),i[r].selected!==f&&(i[r].selected=f),f&&c&&(i[r].defaultSelected=!0)}else{for(r=""+Qe(r),a=null,f=0;f<i.length;f++){if(i[f].value===r){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function tp(i,a,r){if(a!=null&&(a=""+Qe(a),a!==i.value&&(i.value=a),r==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=r!=null?""+Qe(r):""}function ep(i,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(s(92));if(ct(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=Qe(a),i.defaultValue=r,c=i.textContent,c===r&&c!==""&&c!==null&&(i.value=c)}function Ds(i,a){if(a){var r=i.firstChild;if(r&&r===i.lastChild&&r.nodeType===3){r.nodeValue=a;return}}i.textContent=a}var RE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function np(i,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,r):typeof r!="number"||r===0||RE.has(a)?a==="float"?i.cssFloat=r:i[a]=(""+r).trim():i[a]=r+"px"}function ip(i,a,r){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&r[f]!==c&&np(i,f,c)}else for(var p in a)a.hasOwnProperty(p)&&np(i,p,a[p])}function Tu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ME=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(i){return OE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var wu=null;function Au(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,ks=null;function sp(i){var a=ws(i);if(a&&(i=a.stateNode)){var r=i[Re]||null;t:switch(i=a.stateNode,a.type){case"input":if(xu(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=i;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ke(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==i&&c.form===i.form){var f=c[Re]||null;if(!f)throw Error(s(90));xu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===i.form&&$g(c)}break t;case"textarea":tp(i,r.value,r.defaultValue);break t;case"select":a=r.value,a!=null&&Os(i,!!r.multiple,a,!1)}}}var Ru=!1;function ap(i,a,r){if(Ru)return i(a,r);Ru=!0;try{var c=i(a);return c}finally{if(Ru=!1,(Ns!==null||ks!==null)&&(wo(),Ns&&(a=Ns,i=ks,ks=Ns=null,sp(a),i)))for(a=0;a<i.length;a++)sp(i[a])}}function Pa(i,a){var r=i.stateNode;if(r===null)return null;var c=r[Re]||null;if(c===null)return null;r=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(r&&typeof r!="function")throw Error(s(231,a,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(On)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Mu=!1}var si=null,Ou=null,jr=null;function lp(){if(jr)return jr;var i,a=Ou,r=a.length,c,f="value"in si?si.value:si.textContent,p=f.length;for(i=0;i<r&&a[i]===f[i];i++);var v=r-i;for(c=1;c<=v&&a[r-c]===f[p-c];c++);return jr=f.slice(i,1<c?1-c:void 0)}function Vr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Fr(){return!0}function rp(){return!1}function Me(i){function a(r,c,f,p,v){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(r=i[b],this[b]=r?r(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fr:rp,this.isPropagationStopped=rp,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),a}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=Me(Fi),Va=m({},Fi,{view:0,detail:0}),DE=Me(Va),Du,Nu,Fa,qr=m({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(Du=i.screenX-Fa.screenX,Nu=i.screenY-Fa.screenY):Nu=Du=0,Fa=i),Du)},movementY:function(i){return"movementY"in i?i.movementY:Nu}}),op=Me(qr),NE=m({},qr,{dataTransfer:0}),kE=Me(NE),LE=m({},Va,{relatedTarget:0}),ku=Me(LE),zE=m({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=Me(zE),HE=m({},Fi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),BE=Me(HE),UE=m({},Fi,{data:0}),cp=Me(UE),PE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=VE[i])?!!a[i]:!1}function Lu(){return FE}var YE=m({},Va,{key:function(i){if(i.key){var a=PE[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qE=Me(YE),GE=m({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=Me(GE),WE=m({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),XE=Me(WE),QE=m({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=Me(QE),ZE=m({},qr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=Me(ZE),JE=m({},Fi,{newState:0,oldState:0}),tx=Me(JE),ex=[9,13,27,32],zu=On&&"CompositionEvent"in window,Ya=null;On&&"documentMode"in document&&(Ya=document.documentMode);var nx=On&&"TextEvent"in window&&!Ya,hp=On&&(!zu||Ya&&8<Ya&&11>=Ya),fp=" ",dp=!1;function gp(i,a){switch(i){case"keyup":return ex.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ls=!1;function ix(i,a){switch(i){case"compositionend":return pp(a);case"keypress":return a.which!==32?null:(dp=!0,fp);case"textInput":return i=a.data,i===fp&&dp?null:i;default:return null}}function sx(i,a){if(Ls)return i==="compositionend"||!zu&&gp(i,a)?(i=lp(),jr=Ou=si=null,Ls=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hp&&a.locale!=="ko"?null:a.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ax[i.type]:a==="textarea"}function _p(i,a,r,c){Ns?ks?ks.push(c):ks=[c]:Ns=c,a=No(a,"onChange"),0<a.length&&(r=new Yr("onChange","change",null,r,c),i.push({event:r,listeners:a}))}var qa=null,Ga=null;function lx(i){Z_(i,0)}function Gr(i){var a=Ua(i);if($g(a))return i}function yp(i,a){if(i==="change")return a}var vp=!1;if(On){var Iu;if(On){var Hu="oninput"in document;if(!Hu){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Hu=typeof bp.oninput=="function"}Iu=Hu}else Iu=!1;vp=Iu&&(!document.documentMode||9<document.documentMode)}function Sp(){qa&&(qa.detachEvent("onpropertychange",Ep),Ga=qa=null)}function Ep(i){if(i.propertyName==="value"&&Gr(Ga)){var a=[];_p(a,Ga,i,Au(i)),ap(lx,a)}}function rx(i,a,r){i==="focusin"?(Sp(),qa=a,Ga=r,qa.attachEvent("onpropertychange",Ep)):i==="focusout"&&Sp()}function ox(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gr(Ga)}function cx(i,a){if(i==="click")return Gr(a)}function ux(i,a){if(i==="input"||i==="change")return Gr(a)}function hx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var je=typeof Object.is=="function"?Object.is:hx;function Wa(i,a){if(je(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var r=Object.keys(i),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!fu.call(a,f)||!je(i[f],a[f]))return!1}return!0}function xp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cp(i,a){var r=xp(i);i=0;for(var c;r;){if(r.nodeType===3){if(c=i+r.textContent.length,i<=a&&c>=a)return{node:r,offset:a-i};i=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xp(r)}}function Tp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Tp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function wp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ur(i.document);a instanceof i.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)i=a.contentWindow;else break;a=Ur(i.document)}return a}function Bu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var fx=On&&"documentMode"in document&&11>=document.documentMode,zs=null,Uu=null,Xa=null,Pu=!1;function Ap(i,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pu||zs==null||zs!==Ur(c)||(c=zs,"selectionStart"in c&&Bu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xa&&Wa(Xa,c)||(Xa=c,c=No(Uu,"onSelect"),0<c.length&&(a=new Yr("onSelect","select",null,a,r),i.push({event:a,listeners:c}),a.target=zs)))}function Yi(i,a){var r={};return r[i.toLowerCase()]=a.toLowerCase(),r["Webkit"+i]="webkit"+a,r["Moz"+i]="moz"+a,r}var Is={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},ju={},Rp={};On&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function qi(i){if(ju[i])return ju[i];if(!Is[i])return i;var a=Is[i],r;for(r in a)if(a.hasOwnProperty(r)&&r in Rp)return ju[i]=a[r];return i}var Mp=qi("animationend"),Op=qi("animationiteration"),Dp=qi("animationstart"),dx=qi("transitionrun"),gx=qi("transitionstart"),px=qi("transitioncancel"),Np=qi("transitionend"),kp=new Map,Vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vu.push("scrollEnd");function cn(i,a){kp.set(i,a),Vi(a,[i])}var Lp=new WeakMap;function Ze(i,a){if(typeof i=="object"&&i!==null){var r=Lp.get(i);return r!==void 0?r:(a={value:i,source:a,stack:Kg(a)},Lp.set(i,a),a)}return{value:i,source:a,stack:Kg(a)}}var $e=[],Hs=0,Fu=0;function Wr(){for(var i=Hs,a=Fu=Hs=0;a<i;){var r=$e[a];$e[a++]=null;var c=$e[a];$e[a++]=null;var f=$e[a];$e[a++]=null;var p=$e[a];if($e[a++]=null,c!==null&&f!==null){var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}p!==0&&zp(r,f,p)}}function Xr(i,a,r,c){$e[Hs++]=i,$e[Hs++]=a,$e[Hs++]=r,$e[Hs++]=c,Fu|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Yu(i,a,r,c){return Xr(i,a,r,c),Qr(i)}function Bs(i,a){return Xr(i,null,null,a),Qr(i)}function zp(i,a,r){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r);for(var f=!1,p=i.return;p!==null;)p.childLanes|=r,c=p.alternate,c!==null&&(c.childLanes|=r),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&a!==null&&(f=31-Pe(r),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[a]:c.push(a),a.lane=r|536870912),p):null}function Qr(i){if(50<vl)throw vl=0,Kh=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Us={};function mx(i,a,r,c){this.tag=i,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(i,a,r,c){return new mx(i,a,r,c)}function qu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dn(i,a){var r=i.alternate;return r===null?(r=Ve(i.tag,a,i.key,i.mode),r.elementType=i.elementType,r.type=i.type,r.stateNode=i.stateNode,r.alternate=i,i.alternate=r):(r.pendingProps=a,r.type=i.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=i.flags&65011712,r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,a=i.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=i.sibling,r.index=i.index,r.ref=i.ref,r.refCleanup=i.refCleanup,r}function Ip(i,a){i.flags&=65011714;var r=i.alternate;return r===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,i.type=r.type,a=r.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Kr(i,a,r,c,f,p){var v=0;if(c=i,typeof i=="function")qu(i)&&(v=1);else if(typeof i=="string")v=y1(i,r,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case it:return i=Ve(31,r,a,f),i.elementType=it,i.lanes=p,i;case E:return Gi(r.children,f,p,a);case T:v=8,f|=24;break;case C:return i=Ve(12,r,a,f|2),i.elementType=C,i.lanes=p,i;case V:return i=Ve(13,r,a,f),i.elementType=V,i.lanes=p,i;case Q:return i=Ve(19,r,a,f),i.elementType=Q,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case I:v=10;break t;case H:v=9;break t;case F:v=11;break t;case tt:v=14;break t;case $:v=16,c=null;break t}v=29,r=Error(s(130,i===null?"null":typeof i,"")),c=null}return a=Ve(v,r,a,f),a.elementType=i,a.type=c,a.lanes=p,a}function Gi(i,a,r,c){return i=Ve(7,i,c,a),i.lanes=r,i}function Gu(i,a,r){return i=Ve(6,i,null,a),i.lanes=r,i}function Wu(i,a,r){return a=Ve(4,i.children!==null?i.children:[],i.key,a),a.lanes=r,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ps=[],js=0,Zr=null,$r=0,Je=[],tn=0,Wi=null,Nn=1,kn="";function Xi(i,a){Ps[js++]=$r,Ps[js++]=Zr,Zr=i,$r=a}function Hp(i,a,r){Je[tn++]=Nn,Je[tn++]=kn,Je[tn++]=Wi,Wi=i;var c=Nn;i=kn;var f=32-Pe(c)-1;c&=~(1<<f),r+=1;var p=32-Pe(a)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Nn=1<<32-Pe(a)+f|r<<f|c,kn=p+i}else Nn=1<<p|r<<f|c,kn=i}function Xu(i){i.return!==null&&(Xi(i,1),Hp(i,1,0))}function Qu(i){for(;i===Zr;)Zr=Ps[--js],Ps[js]=null,$r=Ps[--js],Ps[js]=null;for(;i===Wi;)Wi=Je[--tn],Je[tn]=null,kn=Je[--tn],Je[tn]=null,Nn=Je[--tn],Je[tn]=null}var we=null,Wt=null,wt=!1,Qi=null,vn=!1,Ku=Error(s(519));function Ki(i){var a=Error(s(418,""));throw Za(Ze(a,i)),Ku}function Bp(i){var a=i.stateNode,r=i.type,c=i.memoizedProps;switch(a[Ee]=i,a[Re]=c,r){case"dialog":St("cancel",a),St("close",a);break;case"iframe":case"object":case"embed":St("load",a);break;case"video":case"audio":for(r=0;r<Sl.length;r++)St(Sl[r],a);break;case"source":St("error",a);break;case"img":case"image":case"link":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"input":St("invalid",a),Jg(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Br(a);break;case"select":St("invalid",a);break;case"textarea":St("invalid",a),ep(a,c.value,c.defaultValue,c.children),Br(a)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||ey(a.textContent,r)?(c.popover!=null&&(St("beforetoggle",a),St("toggle",a)),c.onScroll!=null&&St("scroll",a),c.onScrollEnd!=null&&St("scrollend",a),c.onClick!=null&&(a.onclick=ko),a=!0):a=!1,a||Ki(i)}function Up(i){for(we=i.return;we;)switch(we.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:we=we.return}}function Qa(i){if(i!==we)return!1;if(!wt)return Up(i),wt=!0,!1;var a=i.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=i.type,r=!(r!=="form"&&r!=="button")||df(i.type,i.memoizedProps)),r=!r),r&&Wt&&Ki(i),Up(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){Wt=hn(i.nextSibling);break t}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;i=i.nextSibling}Wt=null}}else a===27?(a=Wt,bi(i.type)?(i=_f,_f=null,Wt=i):Wt=a):Wt=we?hn(i.stateNode.nextSibling):null;return!0}function Ka(){Wt=we=null,wt=!1}function Pp(){var i=Qi;return i!==null&&(Ne===null?Ne=i:Ne.push.apply(Ne,i),Qi=null),i}function Za(i){Qi===null?Qi=[i]:Qi.push(i)}var Zu=j(null),Zi=null,Ln=null;function ai(i,a,r){G(Zu,a._currentValue),a._currentValue=r}function zn(i){i._currentValue=Zu.current,W(Zu)}function $u(i,a,r){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===r)break;i=i.return}}function Ju(i,a,r,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=f;for(var x=0;x<a.length;x++)if(b.context===a[x]){p.lanes|=r,b=p.alternate,b!==null&&(b.lanes|=r),$u(p.return,r,i),c||(v=null);break t}p=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=r,p=v.alternate,p!==null&&(p.lanes|=r),$u(v,r,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function $a(i,a,r,c){i=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;je(f.pendingProps.value,v.value)||(i!==null?i.push(b):i=[b])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Al):i=[Al])}f=f.return}i!==null&&Ju(a,i,r,c),a.flags|=262144}function Jr(i){for(i=i.firstContext;i!==null;){if(!je(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $i(i){Zi=i,Ln=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xe(i){return jp(Zi,i)}function to(i,a){return Zi===null&&$i(i),jp(i,a)}function jp(i,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Ln===null){if(i===null)throw Error(s(308));Ln=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ln=Ln.next=a;return r}var _x=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(r,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(r){return r()})}},yx=n.unstable_scheduleCallback,vx=n.unstable_NormalPriority,se={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new _x,data:new Map,refCount:0}}function Ja(i){i.refCount--,i.refCount===0&&yx(vx,function(){i.controller.abort()})}var tl=null,eh=0,Vs=0,Fs=null;function bx(i,a){if(tl===null){var r=tl=[];eh=0,Vs=sf(),Fs={status:"pending",value:void 0,then:function(c){r.push(c)}}}return eh++,a.then(Vp,Vp),a}function Vp(){if(--eh===0&&tl!==null){Fs!==null&&(Fs.status="fulfilled");var i=tl;tl=null,Vs=0,Fs=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Sx(i,a){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<r.length;f++)(0,r[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var Fp=L.S;L.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&bx(i,a),Fp!==null&&Fp(i,a)};var Ji=j(null);function nh(){var i=Ji.current;return i!==null?i:Ht.pooledCache}function eo(i,a){a===null?G(Ji,Ji.current):G(Ji,a.pool)}function Yp(){var i=nh();return i===null?null:{parent:se._currentValue,pool:i}}var el=Error(s(460)),qp=Error(s(474)),no=Error(s(542)),ih={then:function(){}};function Gp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function io(){}function Wp(i,a,r){switch(r=i[r],r===void 0?i.push(a):r!==a&&(a.then(io,io),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qp(i),i;default:if(typeof a.status=="string")a.then(io,io);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qp(i),i}throw nl=a,el}}var nl=null;function Xp(){if(nl===null)throw Error(s(459));var i=nl;return nl=null,i}function Qp(i){if(i===el||i===no)throw Error(s(483))}var li=!1;function sh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function oi(i,a,r){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Rt&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Qr(i),zp(i,null,r),a}return Xr(i,c,a,r),Qr(i)}function il(i,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,r|=c,a.lanes=r,Vg(i,r)}}function lh(i,a){var r=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,r=r.next}while(r!==null);p===null?f=p=a:p=p.next=a}else f=p=a;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=r;return}i=r.lastBaseUpdate,i===null?r.firstBaseUpdate=a:i.next=a,r.lastBaseUpdate=a}var rh=!1;function sl(){if(rh){var i=Fs;if(i!==null)throw i}}function al(i,a,r,c){rh=!1;var f=i.updateQueue;li=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,D=x.next;x.next=null,v===null?p=D:v.next=D,v=x;var B=i.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==v&&(b===null?B.firstBaseUpdate=D:b.next=D,B.lastBaseUpdate=x))}if(p!==null){var P=f.baseState;v=0,B=D=x=null,b=p;do{var N=b.lane&-536870913,k=N!==b.lane;if(k?(xt&N)===N:(c&N)===N){N!==0&&N===Vs&&(rh=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var rt=i,nt=b;N=a;var Lt=r;switch(nt.tag){case 1:if(rt=nt.payload,typeof rt=="function"){P=rt.call(Lt,P,N);break t}P=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=nt.payload,N=typeof rt=="function"?rt.call(Lt,P,N):rt,N==null)break t;P=m({},P,N);break t;case 2:li=!0}}N=b.callback,N!==null&&(i.flags|=64,k&&(i.flags|=8192),k=f.callbacks,k===null?f.callbacks=[N]:k.push(N))}else k={lane:N,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(D=B=k,x=P):B=B.next=k,v|=N;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;k=b,b=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);B===null&&(x=P),f.baseState=x,f.firstBaseUpdate=D,f.lastBaseUpdate=B,p===null&&(f.shared.lanes=0),mi|=v,i.lanes=v,i.memoizedState=P}}function Kp(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function Zp(i,a){var r=i.callbacks;if(r!==null)for(i.callbacks=null,i=0;i<r.length;i++)Kp(r[i],a)}var Ys=j(null),so=j(0);function $p(i,a){i=Vn,G(so,i),G(Ys,a),Vn=i|a.baseLanes}function oh(){G(so,Vn),G(Ys,Ys.current)}function ch(){Vn=so.current,W(Ys),W(so)}var ci=0,pt=null,Nt=null,ee=null,ao=!1,qs=!1,ts=!1,lo=0,ll=0,Gs=null,Ex=0;function $t(){throw Error(s(321))}function uh(i,a){if(a===null)return!1;for(var r=0;r<a.length&&r<i.length;r++)if(!je(i[r],a[r]))return!1;return!0}function hh(i,a,r,c,f,p){return ci=p,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=i===null||i.memoizedState===null?zm:Im,ts=!1,p=r(c,f),ts=!1,qs&&(p=tm(a,r,c,f)),Jp(i),p}function Jp(i){L.H=fo;var a=Nt!==null&&Nt.next!==null;if(ci=0,ee=Nt=pt=null,ao=!1,ll=0,Gs=null,a)throw Error(s(300));i===null||oe||(i=i.dependencies,i!==null&&Jr(i)&&(oe=!0))}function tm(i,a,r,c){pt=i;var f=0;do{if(qs&&(Gs=null),ll=0,qs=!1,25<=f)throw Error(s(301));if(f+=1,ee=Nt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=Mx,p=a(r,c)}while(qs);return p}function xx(){var i=L.H,a=i.useState()[0];return a=typeof a.then=="function"?rl(a):a,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(pt.flags|=1024),a}function fh(){var i=lo!==0;return lo=0,i}function dh(i,a,r){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~r}function gh(i){if(ao){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ao=!1}ci=0,ee=Nt=pt=null,qs=!1,ll=lo=0,Gs=null}function Oe(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?pt.memoizedState=ee=i:ee=ee.next=i,ee}function ne(){if(Nt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var a=ee===null?pt.memoizedState:ee.next;if(a!==null)ee=a,Nt=i;else{if(i===null)throw pt.alternate===null?Error(s(467)):Error(s(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ee===null?pt.memoizedState=ee=i:ee=ee.next=i}return ee}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(i){var a=ll;return ll+=1,Gs===null&&(Gs=[]),i=Wp(Gs,i,a),a=pt,(ee===null?a.memoizedState:ee.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?zm:Im),i}function ro(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rl(i);if(i.$$typeof===I)return xe(i)}throw Error(s(438,String(i)))}function mh(i){var a=null,r=pt.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=pt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=ph(),pt.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(i),c=0;c<i;c++)r[c]=at;return a.index++,r}function In(i,a){return typeof a=="function"?a(i):a}function oo(i){var a=ne();return _h(a,Nt,i)}function _h(i,a,r){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}a.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{a=f.next;var b=v=null,x=null,D=a,B=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(xt&P)===P:(ci&P)===P){var N=D.revertLane;if(N===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Vs&&(B=!0);else if((ci&N)===N){D=D.next,N===Vs&&(B=!0);continue}else P={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(b=x=P,v=p):x=x.next=P,pt.lanes|=N,mi|=N;P=D.action,ts&&r(p,P),p=D.hasEagerState?D.eagerState:r(p,P)}else N={lane:P,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(b=x=N,v=p):x=x.next=N,pt.lanes|=P,mi|=P;D=D.next}while(D!==null&&D!==a);if(x===null?v=p:x.next=b,!je(p,i.memoizedState)&&(oe=!0,B&&(r=Fs,r!==null)))throw r;i.memoizedState=p,i.baseState=v,i.baseQueue=x,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function yh(i){var a=ne(),r=a.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var c=r.dispatch,f=r.pending,p=a.memoizedState;if(f!==null){r.pending=null;var v=f=f.next;do p=i(p,v.action),v=v.next;while(v!==f);je(p,a.memoizedState)||(oe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),r.lastRenderedState=p}return[p,c]}function em(i,a,r){var c=pt,f=ne(),p=wt;if(p){if(r===void 0)throw Error(s(407));r=r()}else r=a();var v=!je((Nt||f).memoizedState,r);v&&(f.memoizedState=r,oe=!0),f=f.queue;var b=sm.bind(null,c,f,i);if(ol(2048,8,b,[i]),f.getSnapshot!==a||v||ee!==null&&ee.memoizedState.tag&1){if(c.flags|=2048,Ws(9,co(),im.bind(null,c,f,r,a),null),Ht===null)throw Error(s(349));p||(ci&124)!==0||nm(c,a,r)}return r}function nm(i,a,r){i.flags|=16384,i={getSnapshot:a,value:r},a=pt.updateQueue,a===null?(a=ph(),pt.updateQueue=a,a.stores=[i]):(r=a.stores,r===null?a.stores=[i]:r.push(i))}function im(i,a,r,c){a.value=r,a.getSnapshot=c,am(a)&&lm(i)}function sm(i,a,r){return r(function(){am(a)&&lm(i)})}function am(i){var a=i.getSnapshot;i=i.value;try{var r=a();return!je(i,r)}catch{return!0}}function lm(i){var a=Bs(i,2);a!==null&&We(a,i,2)}function vh(i){var a=Oe();if(typeof i=="function"){var r=i;if(i=r(),ts){ni(!0);try{r()}finally{ni(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:i},a}function rm(i,a,r,c){return i.baseState=r,_h(i,Nt,typeof c=="function"?c:In)}function Cx(i,a,r,c,f){if(ho(i))throw Error(s(485));if(i=a.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};L.T!==null?r(!0):p.isTransition=!1,c(p),r=a.pending,r===null?(p.next=a.pending=p,om(a,p)):(p.next=r.next,a.pending=r.next=p)}}function om(i,a){var r=a.action,c=a.payload,f=i.state;if(a.isTransition){var p=L.T,v={};L.T=v;try{var b=r(f,c),x=L.S;x!==null&&x(v,b),cm(i,a,b)}catch(D){bh(i,a,D)}finally{L.T=p}}else try{p=r(f,c),cm(i,a,p)}catch(D){bh(i,a,D)}}function cm(i,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){um(i,a,c)},function(c){return bh(i,a,c)}):um(i,a,r)}function um(i,a,r){a.status="fulfilled",a.value=r,hm(a),i.state=r,a=i.pending,a!==null&&(r=a.next,r===a?i.pending=null:(r=r.next,a.next=r,om(i,r)))}function bh(i,a,r){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,hm(a),a=a.next;while(a!==c)}i.action=null}function hm(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function fm(i,a){return a}function dm(i,a){if(wt){var r=Ht.formState;if(r!==null){t:{var c=pt;if(wt){if(Wt){e:{for(var f=Wt,p=vn;f.nodeType!==8;){if(!p){f=null;break e}if(f=hn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Wt=hn(f.nextSibling),c=f.data==="F!";break t}}Ki(c)}c=!1}c&&(a=r[0])}}return r=Oe(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:a},r.queue=c,r=Nm.bind(null,pt,c),c.dispatch=r,c=vh(!1),p=Th.bind(null,pt,!1,c.queue),c=Oe(),f={state:a,dispatch:null,action:i,pending:null},c.queue=f,r=Cx.bind(null,pt,f,p,r),f.dispatch=r,c.memoizedState=i,[a,r,!1]}function gm(i){var a=ne();return pm(a,Nt,i)}function pm(i,a,r){if(a=_h(i,a,fm)[0],i=oo(In)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=rl(a)}catch(v){throw v===el?no:v}else c=a;a=ne();var f=a.queue,p=f.dispatch;return r!==a.memoizedState&&(pt.flags|=2048,Ws(9,co(),Tx.bind(null,f,r),null)),[c,p,i]}function Tx(i,a){i.action=a}function mm(i){var a=ne(),r=Nt;if(r!==null)return pm(a,r,i);ne(),a=a.memoizedState,r=ne();var c=r.queue.dispatch;return r.memoizedState=i,[a,c,!1]}function Ws(i,a,r,c){return i={tag:i,create:r,deps:c,inst:a,next:null},a=pt.updateQueue,a===null&&(a=ph(),pt.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=i.next=i:(c=r.next,r.next=i,i.next=c,a.lastEffect=i),i}function co(){return{destroy:void 0,resource:void 0}}function _m(){return ne().memoizedState}function uo(i,a,r,c){var f=Oe();c=c===void 0?null:c,pt.flags|=i,f.memoizedState=Ws(1|a,co(),r,c)}function ol(i,a,r,c){var f=ne();c=c===void 0?null:c;var p=f.memoizedState.inst;Nt!==null&&c!==null&&uh(c,Nt.memoizedState.deps)?f.memoizedState=Ws(a,p,r,c):(pt.flags|=i,f.memoizedState=Ws(1|a,p,r,c))}function ym(i,a){uo(8390656,8,i,a)}function vm(i,a){ol(2048,8,i,a)}function bm(i,a){return ol(4,2,i,a)}function Sm(i,a){return ol(4,4,i,a)}function Em(i,a){if(typeof a=="function"){i=i();var r=a(i);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function xm(i,a,r){r=r!=null?r.concat([i]):null,ol(4,4,Em.bind(null,a,i),r)}function Sh(){}function Cm(i,a){var r=ne();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&uh(a,c[1])?c[0]:(r.memoizedState=[i,a],i)}function Tm(i,a){var r=ne();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&uh(a,c[1]))return c[0];if(c=i(),ts){ni(!0);try{i()}finally{ni(!1)}}return r.memoizedState=[c,a],c}function Eh(i,a,r){return r===void 0||(ci&1073741824)!==0?i.memoizedState=a:(i.memoizedState=r,i=R_(),pt.lanes|=i,mi|=i,r)}function wm(i,a,r,c){return je(r,a)?r:Ys.current!==null?(i=Eh(i,r,c),je(i,a)||(oe=!0),i):(ci&42)===0?(oe=!0,i.memoizedState=r):(i=R_(),pt.lanes|=i,mi|=i,a)}function Am(i,a,r,c,f){var p=Y.p;Y.p=p!==0&&8>p?p:8;var v=L.T,b={};L.T=b,Th(i,!1,a,r);try{var x=f(),D=L.S;if(D!==null&&D(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=Sx(x,c);cl(i,a,B,Ge(i))}else cl(i,a,c,Ge(i))}catch(P){cl(i,a,{then:function(){},status:"rejected",reason:P},Ge())}finally{Y.p=p,L.T=v}}function wx(){}function xh(i,a,r,c){if(i.tag!==5)throw Error(s(476));var f=Rm(i).queue;Am(i,f,a,K,r===null?wx:function(){return Mm(i),r(c)})}function Rm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:K},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:r},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Mm(i){var a=Rm(i).next.queue;cl(i,a,{},Ge())}function Ch(){return xe(Al)}function Om(){return ne().memoizedState}function Dm(){return ne().memoizedState}function Ax(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var r=Ge();i=ri(r);var c=oi(a,i,r);c!==null&&(We(c,a,r),il(c,a,r)),a={cache:th()},i.payload=a;return}a=a.return}}function Rx(i,a,r){var c=Ge();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ho(i)?km(a,r):(r=Yu(i,a,r,c),r!==null&&(We(r,i,c),Lm(r,a,c)))}function Nm(i,a,r){var c=Ge();cl(i,a,r,c)}function cl(i,a,r,c){var f={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ho(i))km(a,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,b=p(v,r);if(f.hasEagerState=!0,f.eagerState=b,je(b,v))return Xr(i,a,f,0),Ht===null&&Wr(),!1}catch{}finally{}if(r=Yu(i,a,f,c),r!==null)return We(r,i,c),Lm(r,a,c),!0}return!1}function Th(i,a,r,c){if(c={lane:2,revertLane:sf(),action:c,hasEagerState:!1,eagerState:null,next:null},ho(i)){if(a)throw Error(s(479))}else a=Yu(i,r,c,2),a!==null&&We(a,i,2)}function ho(i){var a=i.alternate;return i===pt||a!==null&&a===pt}function km(i,a){qs=ao=!0;var r=i.pending;r===null?a.next=a:(a.next=r.next,r.next=a),i.pending=a}function Lm(i,a,r){if((r&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,r|=c,a.lanes=r,Vg(i,r)}}var fo={readContext:xe,use:ro,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},zm={readContext:xe,use:ro,useCallback:function(i,a){return Oe().memoizedState=[i,a===void 0?null:a],i},useContext:xe,useEffect:ym,useImperativeHandle:function(i,a,r){r=r!=null?r.concat([i]):null,uo(4194308,4,Em.bind(null,a,i),r)},useLayoutEffect:function(i,a){return uo(4194308,4,i,a)},useInsertionEffect:function(i,a){uo(4,2,i,a)},useMemo:function(i,a){var r=Oe();a=a===void 0?null:a;var c=i();if(ts){ni(!0);try{i()}finally{ni(!1)}}return r.memoizedState=[c,a],c},useReducer:function(i,a,r){var c=Oe();if(r!==void 0){var f=r(a);if(ts){ni(!0);try{r(a)}finally{ni(!1)}}}else f=a;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=Rx.bind(null,pt,i),[c.memoizedState,i]},useRef:function(i){var a=Oe();return i={current:i},a.memoizedState=i},useState:function(i){i=vh(i);var a=i.queue,r=Nm.bind(null,pt,a);return a.dispatch=r,[i.memoizedState,r]},useDebugValue:Sh,useDeferredValue:function(i,a){var r=Oe();return Eh(r,i,a)},useTransition:function(){var i=vh(!1);return i=Am.bind(null,pt,i.queue,!0,!1),Oe().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,r){var c=pt,f=Oe();if(wt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=a(),Ht===null)throw Error(s(349));(xt&124)!==0||nm(c,a,r)}f.memoizedState=r;var p={value:r,getSnapshot:a};return f.queue=p,ym(sm.bind(null,c,p,i),[i]),c.flags|=2048,Ws(9,co(),im.bind(null,c,p,r,a),null),r},useId:function(){var i=Oe(),a=Ht.identifierPrefix;if(wt){var r=kn,c=Nn;r=(c&~(1<<32-Pe(c)-1)).toString(32)+r,a=""+a+"R"+r,r=lo++,0<r&&(a+="H"+r.toString(32)),a+=""}else r=Ex++,a=""+a+"r"+r.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Ch,useFormState:dm,useActionState:dm,useOptimistic:function(i){var a=Oe();a.memoizedState=a.baseState=i;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=Th.bind(null,pt,!0,r),r.dispatch=a,[i,a]},useMemoCache:mh,useCacheRefresh:function(){return Oe().memoizedState=Ax.bind(null,pt)}},Im={readContext:xe,use:ro,useCallback:Cm,useContext:xe,useEffect:vm,useImperativeHandle:xm,useInsertionEffect:bm,useLayoutEffect:Sm,useMemo:Tm,useReducer:oo,useRef:_m,useState:function(){return oo(In)},useDebugValue:Sh,useDeferredValue:function(i,a){var r=ne();return wm(r,Nt.memoizedState,i,a)},useTransition:function(){var i=oo(In)[0],a=ne().memoizedState;return[typeof i=="boolean"?i:rl(i),a]},useSyncExternalStore:em,useId:Om,useHostTransitionStatus:Ch,useFormState:gm,useActionState:gm,useOptimistic:function(i,a){var r=ne();return rm(r,Nt,i,a)},useMemoCache:mh,useCacheRefresh:Dm},Mx={readContext:xe,use:ro,useCallback:Cm,useContext:xe,useEffect:vm,useImperativeHandle:xm,useInsertionEffect:bm,useLayoutEffect:Sm,useMemo:Tm,useReducer:yh,useRef:_m,useState:function(){return yh(In)},useDebugValue:Sh,useDeferredValue:function(i,a){var r=ne();return Nt===null?Eh(r,i,a):wm(r,Nt.memoizedState,i,a)},useTransition:function(){var i=yh(In)[0],a=ne().memoizedState;return[typeof i=="boolean"?i:rl(i),a]},useSyncExternalStore:em,useId:Om,useHostTransitionStatus:Ch,useFormState:mm,useActionState:mm,useOptimistic:function(i,a){var r=ne();return Nt!==null?rm(r,Nt,i,a):(r.baseState=i,[i,r.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Dm},Xs=null,ul=0;function go(i){var a=ul;return ul+=1,Xs===null&&(Xs=[]),Wp(Xs,i,a)}function hl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function po(i,a){throw a.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Hm(i){var a=i._init;return a(i._payload)}function Bm(i){function a(M,A){if(i){var O=M.deletions;O===null?(M.deletions=[A],M.flags|=16):O.push(A)}}function r(M,A){if(!i)return null;for(;A!==null;)a(M,A),A=A.sibling;return null}function c(M){for(var A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function f(M,A){return M=Dn(M,A),M.index=0,M.sibling=null,M}function p(M,A,O){return M.index=O,i?(O=M.alternate,O!==null?(O=O.index,O<A?(M.flags|=67108866,A):O):(M.flags|=67108866,A)):(M.flags|=1048576,A)}function v(M){return i&&M.alternate===null&&(M.flags|=67108866),M}function b(M,A,O,U){return A===null||A.tag!==6?(A=Gu(O,M.mode,U),A.return=M,A):(A=f(A,O),A.return=M,A)}function x(M,A,O,U){var X=O.type;return X===E?B(M,A,O.props.children,U,O.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$&&Hm(X)===A.type)?(A=f(A,O.props),hl(A,O),A.return=M,A):(A=Kr(O.type,O.key,O.props,null,M.mode,U),hl(A,O),A.return=M,A)}function D(M,A,O,U){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=Wu(O,M.mode,U),A.return=M,A):(A=f(A,O.children||[]),A.return=M,A)}function B(M,A,O,U,X){return A===null||A.tag!==7?(A=Gi(O,M.mode,U,X),A.return=M,A):(A=f(A,O),A.return=M,A)}function P(M,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Gu(""+A,M.mode,O),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case y:return O=Kr(A.type,A.key,A.props,null,M.mode,O),hl(O,A),O.return=M,O;case S:return A=Wu(A,M.mode,O),A.return=M,A;case $:var U=A._init;return A=U(A._payload),P(M,A,O)}if(ct(A)||lt(A))return A=Gi(A,M.mode,O,null),A.return=M,A;if(typeof A.then=="function")return P(M,go(A),O);if(A.$$typeof===I)return P(M,to(M,A),O);po(M,A)}return null}function N(M,A,O,U){var X=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return X!==null?null:b(M,A,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case y:return O.key===X?x(M,A,O,U):null;case S:return O.key===X?D(M,A,O,U):null;case $:return X=O._init,O=X(O._payload),N(M,A,O,U)}if(ct(O)||lt(O))return X!==null?null:B(M,A,O,U,null);if(typeof O.then=="function")return N(M,A,go(O),U);if(O.$$typeof===I)return N(M,A,to(M,O),U);po(M,O)}return null}function k(M,A,O,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return M=M.get(O)||null,b(A,M,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return M=M.get(U.key===null?O:U.key)||null,x(A,M,U,X);case S:return M=M.get(U.key===null?O:U.key)||null,D(A,M,U,X);case $:var _t=U._init;return U=_t(U._payload),k(M,A,O,U,X)}if(ct(U)||lt(U))return M=M.get(O)||null,B(A,M,U,X,null);if(typeof U.then=="function")return k(M,A,O,go(U),X);if(U.$$typeof===I)return k(M,A,O,to(A,U),X);po(A,U)}return null}function rt(M,A,O,U){for(var X=null,_t=null,J=A,st=A=0,ue=null;J!==null&&st<O.length;st++){J.index>st?(ue=J,J=null):ue=J.sibling;var Ct=N(M,J,O[st],U);if(Ct===null){J===null&&(J=ue);break}i&&J&&Ct.alternate===null&&a(M,J),A=p(Ct,A,st),_t===null?X=Ct:_t.sibling=Ct,_t=Ct,J=ue}if(st===O.length)return r(M,J),wt&&Xi(M,st),X;if(J===null){for(;st<O.length;st++)J=P(M,O[st],U),J!==null&&(A=p(J,A,st),_t===null?X=J:_t.sibling=J,_t=J);return wt&&Xi(M,st),X}for(J=c(J);st<O.length;st++)ue=k(J,M,st,O[st],U),ue!==null&&(i&&ue.alternate!==null&&J.delete(ue.key===null?st:ue.key),A=p(ue,A,st),_t===null?X=ue:_t.sibling=ue,_t=ue);return i&&J.forEach(function(Ti){return a(M,Ti)}),wt&&Xi(M,st),X}function nt(M,A,O,U){if(O==null)throw Error(s(151));for(var X=null,_t=null,J=A,st=A=0,ue=null,Ct=O.next();J!==null&&!Ct.done;st++,Ct=O.next()){J.index>st?(ue=J,J=null):ue=J.sibling;var Ti=N(M,J,Ct.value,U);if(Ti===null){J===null&&(J=ue);break}i&&J&&Ti.alternate===null&&a(M,J),A=p(Ti,A,st),_t===null?X=Ti:_t.sibling=Ti,_t=Ti,J=ue}if(Ct.done)return r(M,J),wt&&Xi(M,st),X;if(J===null){for(;!Ct.done;st++,Ct=O.next())Ct=P(M,Ct.value,U),Ct!==null&&(A=p(Ct,A,st),_t===null?X=Ct:_t.sibling=Ct,_t=Ct);return wt&&Xi(M,st),X}for(J=c(J);!Ct.done;st++,Ct=O.next())Ct=k(J,M,st,Ct.value,U),Ct!==null&&(i&&Ct.alternate!==null&&J.delete(Ct.key===null?st:Ct.key),A=p(Ct,A,st),_t===null?X=Ct:_t.sibling=Ct,_t=Ct);return i&&J.forEach(function(O1){return a(M,O1)}),wt&&Xi(M,st),X}function Lt(M,A,O,U){if(typeof O=="object"&&O!==null&&O.type===E&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case y:t:{for(var X=O.key;A!==null;){if(A.key===X){if(X=O.type,X===E){if(A.tag===7){r(M,A.sibling),U=f(A,O.props.children),U.return=M,M=U;break t}}else if(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$&&Hm(X)===A.type){r(M,A.sibling),U=f(A,O.props),hl(U,O),U.return=M,M=U;break t}r(M,A);break}else a(M,A);A=A.sibling}O.type===E?(U=Gi(O.props.children,M.mode,U,O.key),U.return=M,M=U):(U=Kr(O.type,O.key,O.props,null,M.mode,U),hl(U,O),U.return=M,M=U)}return v(M);case S:t:{for(X=O.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){r(M,A.sibling),U=f(A,O.children||[]),U.return=M,M=U;break t}else{r(M,A);break}else a(M,A);A=A.sibling}U=Wu(O,M.mode,U),U.return=M,M=U}return v(M);case $:return X=O._init,O=X(O._payload),Lt(M,A,O,U)}if(ct(O))return rt(M,A,O,U);if(lt(O)){if(X=lt(O),typeof X!="function")throw Error(s(150));return O=X.call(O),nt(M,A,O,U)}if(typeof O.then=="function")return Lt(M,A,go(O),U);if(O.$$typeof===I)return Lt(M,A,to(M,O),U);po(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(r(M,A.sibling),U=f(A,O),U.return=M,M=U):(r(M,A),U=Gu(O,M.mode,U),U.return=M,M=U),v(M)):r(M,A)}return function(M,A,O,U){try{ul=0;var X=Lt(M,A,O,U);return Xs=null,X}catch(J){if(J===el||J===no)throw J;var _t=Ve(29,J,null,M.mode);return _t.lanes=U,_t.return=M,_t}finally{}}}var Qs=Bm(!0),Um=Bm(!1),en=j(null),bn=null;function ui(i){var a=i.alternate;G(ae,ae.current&1),G(en,i),bn===null&&(a===null||Ys.current!==null||a.memoizedState!==null)&&(bn=i)}function Pm(i){if(i.tag===22){if(G(ae,ae.current),G(en,i),bn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(bn=i)}}else hi()}function hi(){G(ae,ae.current),G(en,en.current)}function Hn(i){W(en),bn===i&&(bn=null),W(ae)}var ae=j(0);function mo(i){for(var a=i;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||mf(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function wh(i,a,r,c){a=i.memoizedState,r=r(c,a),r=r==null?a:m({},a,r),i.memoizedState=r,i.lanes===0&&(i.updateQueue.baseState=r)}var Ah={enqueueSetState:function(i,a,r){i=i._reactInternals;var c=Ge(),f=ri(c);f.payload=a,r!=null&&(f.callback=r),a=oi(i,f,c),a!==null&&(We(a,i,c),il(a,i,c))},enqueueReplaceState:function(i,a,r){i=i._reactInternals;var c=Ge(),f=ri(c);f.tag=1,f.payload=a,r!=null&&(f.callback=r),a=oi(i,f,c),a!==null&&(We(a,i,c),il(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var r=Ge(),c=ri(r);c.tag=2,a!=null&&(c.callback=a),a=oi(i,c,r),a!==null&&(We(a,i,r),il(a,i,r))}};function jm(i,a,r,c,f,p,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,v):a.prototype&&a.prototype.isPureReactComponent?!Wa(r,c)||!Wa(f,p):!0}function Vm(i,a,r,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==i&&Ah.enqueueReplaceState(a,a.state,null)}function es(i,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(i=i.defaultProps){r===a&&(r=m({},r));for(var f in i)r[f]===void 0&&(r[f]=i[f])}return r}var _o=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Fm(i){_o(i)}function Ym(i){console.error(i)}function qm(i){_o(i)}function yo(i,a){try{var r=i.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Gm(i,a,r){try{var c=i.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rh(i,a,r){return r=ri(r),r.tag=3,r.payload={element:null},r.callback=function(){yo(i,a)},r}function Wm(i){return i=ri(i),i.tag=3,i}function Xm(i,a,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){Gm(a,r,c)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Gm(a,r,c),typeof f!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function Ox(i,a,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&$a(a,r,f,!0),r=en.current,r!==null){switch(r.tag){case 13:return bn===null?$h():r.alternate===null&&Xt===0&&(Xt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===ih?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),tf(i,c,f)),!1;case 22:return r.flags|=65536,c===ih?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),tf(i,c,f)),!1}throw Error(s(435,r.tag))}return tf(i,c,f),$h(),!1}if(wt)return a=en.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Ku&&(i=Error(s(422),{cause:c}),Za(Ze(i,r)))):(c!==Ku&&(a=Error(s(423),{cause:c}),Za(Ze(a,r))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Ze(c,r),f=Rh(i.stateNode,c,f),lh(i,f),Xt!==4&&(Xt=2)),!1;var p=Error(s(520),{cause:c});if(p=Ze(p,r),yl===null?yl=[p]:yl.push(p),Xt!==4&&(Xt=2),a===null)return!0;c=Ze(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,i=f&-f,r.lanes|=i,i=Rh(r.stateNode,c,i),lh(r,i),!1;case 1:if(a=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_i===null||!_i.has(p))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Wm(f),Xm(f,i,r,c),lh(r,f),!1}r=r.return}while(r!==null);return!1}var Qm=Error(s(461)),oe=!1;function me(i,a,r,c){a.child=i===null?Um(a,null,r,c):Qs(a,i.child,r,c)}function Km(i,a,r,c,f){r=r.render;var p=a.ref;if("ref"in c){var v={};for(var b in c)b!=="ref"&&(v[b]=c[b])}else v=c;return $i(a),c=hh(i,a,r,v,p,f),b=fh(),i!==null&&!oe?(dh(i,a,f),Bn(i,a,f)):(wt&&b&&Xu(a),a.flags|=1,me(i,a,c,f),a.child)}function Zm(i,a,r,c,f){if(i===null){var p=r.type;return typeof p=="function"&&!qu(p)&&p.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=p,$m(i,a,p,c,f)):(i=Kr(r.type,null,c,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Ih(i,f)){var v=p.memoizedProps;if(r=r.compare,r=r!==null?r:Wa,r(v,c)&&i.ref===a.ref)return Bn(i,a,f)}return a.flags|=1,i=Dn(p,c),i.ref=a.ref,i.return=a,a.child=i}function $m(i,a,r,c,f){if(i!==null){var p=i.memoizedProps;if(Wa(p,c)&&i.ref===a.ref)if(oe=!1,a.pendingProps=c=p,Ih(i,f))(i.flags&131072)!==0&&(oe=!0);else return a.lanes=i.lanes,Bn(i,a,f)}return Mh(i,a,r,c,f)}function Jm(i,a,r){var c=a.pendingProps,f=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|r:r,i!==null){for(f=a.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return t_(i,a,c,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&eo(a,p!==null?p.cachePool:null),p!==null?$p(a,p):oh(),Pm(a);else return a.lanes=a.childLanes=536870912,t_(i,a,p!==null?p.baseLanes|r:r,r)}else p!==null?(eo(a,p.cachePool),$p(a,p),hi(),a.memoizedState=null):(i!==null&&eo(a,null),oh(),hi());return me(i,a,f,r),a.child}function t_(i,a,r,c){var f=nh();return f=f===null?null:{parent:se._currentValue,pool:f},a.memoizedState={baseLanes:r,cachePool:f},i!==null&&eo(a,null),oh(),Pm(a),i!==null&&$a(i,a,c,!0),null}function vo(i,a){var r=a.ref;if(r===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(i===null||i.ref!==r)&&(a.flags|=4194816)}}function Mh(i,a,r,c,f){return $i(a),r=hh(i,a,r,c,void 0,f),c=fh(),i!==null&&!oe?(dh(i,a,f),Bn(i,a,f)):(wt&&c&&Xu(a),a.flags|=1,me(i,a,r,f),a.child)}function e_(i,a,r,c,f,p){return $i(a),a.updateQueue=null,r=tm(a,c,r,f),Jp(i),c=fh(),i!==null&&!oe?(dh(i,a,p),Bn(i,a,p)):(wt&&c&&Xu(a),a.flags|=1,me(i,a,r,p),a.child)}function n_(i,a,r,c,f){if($i(a),a.stateNode===null){var p=Us,v=r.contextType;typeof v=="object"&&v!==null&&(p=xe(v)),p=new r(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ah,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},sh(a),v=r.contextType,p.context=typeof v=="object"&&v!==null?xe(v):Us,p.state=a.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(wh(a,r,v,c),p.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Ah.enqueueReplaceState(p,p.state,null),al(a,c,p,f),sl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var b=a.memoizedProps,x=es(r,b);p.props=x;var D=p.context,B=r.contextType;v=Us,typeof B=="object"&&B!==null&&(v=xe(B));var P=r.getDerivedStateFromProps;B=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||D!==v)&&Vm(a,p,c,v),li=!1;var N=a.memoizedState;p.state=N,al(a,c,p,f),sl(),D=a.memoizedState,b||N!==D||li?(typeof P=="function"&&(wh(a,r,P,c),D=a.memoizedState),(x=li||jm(a,r,x,c,N,D,v))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=D),p.props=c,p.state=D,p.context=v,c=x):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,ah(i,a),v=a.memoizedProps,B=es(r,v),p.props=B,P=a.pendingProps,N=p.context,D=r.contextType,x=Us,typeof D=="object"&&D!==null&&(x=xe(D)),b=r.getDerivedStateFromProps,(D=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==P||N!==x)&&Vm(a,p,c,x),li=!1,N=a.memoizedState,p.state=N,al(a,c,p,f),sl();var k=a.memoizedState;v!==P||N!==k||li||i!==null&&i.dependencies!==null&&Jr(i.dependencies)?(typeof b=="function"&&(wh(a,r,b,c),k=a.memoizedState),(B=li||jm(a,r,B,c,N,k,x)||i!==null&&i.dependencies!==null&&Jr(i.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,k,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,k,x)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&N===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&N===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=k),p.props=c,p.state=k,p.context=x,c=B):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&N===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&N===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,vo(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Qs(a,i.child,null,f),a.child=Qs(a,null,r,f)):me(i,a,r,f),a.memoizedState=p.state,i=a.child):i=Bn(i,a,f),i}function i_(i,a,r,c){return Ka(),a.flags|=256,me(i,a,r,c),a.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(i){return{baseLanes:i,cachePool:Yp()}}function Nh(i,a,r){return i=i!==null?i.childLanes&~r:0,a&&(i|=nn),i}function s_(i,a,r){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=i!==null&&i.memoizedState===null?!1:(ae.current&2)!==0),v&&(f=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,i===null){if(wt){if(f?ui(a):hi(),wt){var b=Wt,x;if(x=b){t:{for(x=b,b=vn;x.nodeType!==8;){if(!b){b=null;break t}if(x=hn(x.nextSibling),x===null){b=null;break t}}b=x}b!==null?(a.memoizedState={dehydrated:b,treeContext:Wi!==null?{id:Nn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},x=Ve(18,null,null,0),x.stateNode=b,x.return=a,a.child=x,we=a,Wt=null,x=!0):x=!1}x||Ki(a)}if(b=a.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return mf(b)?a.lanes=32:a.lanes=536870912,null;Hn(a)}return b=c.children,c=c.fallback,f?(hi(),f=a.mode,b=bo({mode:"hidden",children:b},f),c=Gi(c,f,r,null),b.return=a,c.return=a,b.sibling=c,a.child=b,f=a.child,f.memoizedState=Dh(r),f.childLanes=Nh(i,v,r),a.memoizedState=Oh,c):(ui(a),kh(a,b))}if(x=i.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(p)a.flags&256?(ui(a),a.flags&=-257,a=Lh(i,a,r)):a.memoizedState!==null?(hi(),a.child=i.child,a.flags|=128,a=null):(hi(),f=c.fallback,b=a.mode,c=bo({mode:"visible",children:c.children},b),f=Gi(f,b,r,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,Qs(a,i.child,null,r),c=a.child,c.memoizedState=Dh(r),c.childLanes=Nh(i,v,r),a.memoizedState=Oh,a=f);else if(ui(a),mf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var D=v.dgst;v=D,c=Error(s(419)),c.stack="",c.digest=v,Za({value:c,source:null,stack:null}),a=Lh(i,a,r)}else if(oe||$a(i,a,r,!1),v=(r&i.childLanes)!==0,oe||v){if(v=Ht,v!==null&&(c=r&-r,c=(c&42)!==0?1:mu(c),c=(c&(v.suspendedLanes|r))!==0?0:c,c!==0&&c!==x.retryLane))throw x.retryLane=c,Bs(i,c),We(v,i,c),Qm;b.data==="$?"||$h(),a=Lh(i,a,r)}else b.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=x.treeContext,Wt=hn(b.nextSibling),we=a,wt=!0,Qi=null,vn=!1,i!==null&&(Je[tn++]=Nn,Je[tn++]=kn,Je[tn++]=Wi,Nn=i.id,kn=i.overflow,Wi=a),a=kh(a,c.children),a.flags|=4096);return a}return f?(hi(),f=c.fallback,b=a.mode,x=i.child,D=x.sibling,c=Dn(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&65011712,D!==null?f=Dn(D,f):(f=Gi(f,b,r,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,b=i.child.memoizedState,b===null?b=Dh(r):(x=b.cachePool,x!==null?(D=se._currentValue,x=x.parent!==D?{parent:D,pool:D}:x):x=Yp(),b={baseLanes:b.baseLanes|r,cachePool:x}),f.memoizedState=b,f.childLanes=Nh(i,v,r),a.memoizedState=Oh,c):(ui(a),r=i.child,i=r.sibling,r=Dn(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,i!==null&&(v=a.deletions,v===null?(a.deletions=[i],a.flags|=16):v.push(i)),a.child=r,a.memoizedState=null,r)}function kh(i,a){return a=bo({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function bo(i,a){return i=Ve(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lh(i,a,r){return Qs(a,i.child,null,r),i=kh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function a_(i,a,r){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),$u(i.return,a,r)}function zh(i,a,r,c,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=r,p.tailMode=f)}function l_(i,a,r){var c=a.pendingProps,f=c.revealOrder,p=c.tail;if(me(i,a,c.children,r),c=ae.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&a_(i,r,a);else if(i.tag===19)a_(i,r,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(G(ae,c),f){case"forwards":for(r=a.child,f=null;r!==null;)i=r.alternate,i!==null&&mo(i)===null&&(f=r),r=r.sibling;r=f,r===null?(f=a.child,a.child=null):(f=r.sibling,r.sibling=null),zh(a,!1,f,r,p);break;case"backwards":for(r=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&mo(i)===null){a.child=f;break}i=f.sibling,f.sibling=r,r=f,f=i}zh(a,!0,r,null,p);break;case"together":zh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bn(i,a,r){if(i!==null&&(a.dependencies=i.dependencies),mi|=a.lanes,(r&a.childLanes)===0)if(i!==null){if($a(i,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,r=Dn(i,i.pendingProps),a.child=r,r.return=a;i.sibling!==null;)i=i.sibling,r=r.sibling=Dn(i,i.pendingProps),r.return=a;r.sibling=null}return a.child}function Ih(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Jr(i)))}function Dx(i,a,r){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),ai(a,se,i.memoizedState.cache),Ka();break;case 27:case 5:hu(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:ai(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ui(a),a.flags|=128,null):(r&a.child.childLanes)!==0?s_(i,a,r):(ui(a),i=Bn(i,a,r),i!==null?i.sibling:null);ui(a);break;case 19:var f=(i.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||($a(i,a,r,!1),c=(r&a.childLanes)!==0),f){if(c)return l_(i,a,r);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),G(ae,ae.current),c)break;return null;case 22:case 23:return a.lanes=0,Jm(i,a,r);case 24:ai(a,se,i.memoizedState.cache)}return Bn(i,a,r)}function r_(i,a,r){if(i!==null)if(i.memoizedProps!==a.pendingProps)oe=!0;else{if(!Ih(i,r)&&(a.flags&128)===0)return oe=!1,Dx(i,a,r);oe=(i.flags&131072)!==0}else oe=!1,wt&&(a.flags&1048576)!==0&&Hp(a,$r,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")qu(c)?(i=es(c,i),a.tag=1,a=n_(null,a,c,i,r)):(a.tag=0,a=Mh(null,a,c,i,r));else{if(c!=null){if(f=c.$$typeof,f===F){a.tag=11,a=Km(null,a,c,i,r);break t}else if(f===tt){a.tag=14,a=Zm(null,a,c,i,r);break t}}throw a=Zt(c)||c,Error(s(306,a,""))}}return a;case 0:return Mh(i,a,a.type,a.pendingProps,r);case 1:return c=a.type,f=es(c,a.pendingProps),n_(i,a,c,f,r);case 3:t:{if(Ft(a,a.stateNode.containerInfo),i===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,ah(i,a),al(a,c,null,r);var v=a.memoizedState;if(c=v.cache,ai(a,se,c),c!==p.cache&&Ju(a,[se],r,!0),sl(),c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=i_(i,a,c,r);break t}else if(c!==f){f=Ze(Error(s(424)),a),Za(f),a=i_(i,a,c,r);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=hn(i.firstChild),we=a,wt=!0,Qi=null,vn=!0,r=Um(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ka(),c===f){a=Bn(i,a,r);break t}me(i,a,c,r)}a=a.child}return a;case 26:return vo(i,a),i===null?(r=hy(a.type,null,a.pendingProps,null))?a.memoizedState=r:wt||(r=a.type,i=a.pendingProps,c=Lo(et.current).createElement(r),c[Ee]=a,c[Re]=i,ye(c,r,i),re(c),a.stateNode=c):a.memoizedState=hy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return hu(a),i===null&&wt&&(c=a.stateNode=oy(a.type,a.pendingProps,et.current),we=a,vn=!0,f=Wt,bi(a.type)?(_f=f,Wt=hn(c.firstChild)):Wt=f),me(i,a,a.pendingProps.children,r),vo(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&wt&&((f=c=Wt)&&(c=a1(c,a.type,a.pendingProps,vn),c!==null?(a.stateNode=c,we=a,Wt=hn(c.firstChild),vn=!1,f=!0):f=!1),f||Ki(a)),hu(a),f=a.type,p=a.pendingProps,v=i!==null?i.memoizedProps:null,c=p.children,df(f,p)?c=null:v!==null&&df(f,v)&&(a.flags|=32),a.memoizedState!==null&&(f=hh(i,a,xx,null,null,r),Al._currentValue=f),vo(i,a),me(i,a,c,r),a.child;case 6:return i===null&&wt&&((i=r=Wt)&&(r=l1(r,a.pendingProps,vn),r!==null?(a.stateNode=r,we=a,Wt=null,i=!0):i=!1),i||Ki(a)),null;case 13:return s_(i,a,r);case 4:return Ft(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Qs(a,null,c,r):me(i,a,c,r),a.child;case 11:return Km(i,a,a.type,a.pendingProps,r);case 7:return me(i,a,a.pendingProps,r),a.child;case 8:return me(i,a,a.pendingProps.children,r),a.child;case 12:return me(i,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,ai(a,a.type,c.value),me(i,a,c.children,r),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,$i(a),f=xe(f),c=c(f),a.flags|=1,me(i,a,c,r),a.child;case 14:return Zm(i,a,a.type,a.pendingProps,r);case 15:return $m(i,a,a.type,a.pendingProps,r);case 19:return l_(i,a,r);case 31:return c=a.pendingProps,r=a.mode,c={mode:c.mode,children:c.children},i===null?(r=bo(c,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=Dn(i.child,c),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return Jm(i,a,r);case 24:return $i(a),c=xe(se),i===null?(f=nh(),f===null&&(f=Ht,p=th(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=r),f=p),a.memoizedState={parent:c,cache:f},sh(a),ai(a,se,f)):((i.lanes&r)!==0&&(ah(i,a),al(a,null,null,r),sl()),f=i.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ai(a,se,c)):(c=p.cache,ai(a,se,c),c!==f.cache&&Ju(a,[se],r,!0))),me(i,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Un(i){i.flags|=4}function o_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!my(a)){if(a=en.current,a!==null&&((xt&4194048)===xt?bn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||a!==bn))throw nl=ih,qp;i.flags|=8192}}function So(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Pg():536870912,i.lanes|=a,Js|=a)}function fl(i,a){if(!wt)switch(i.tailMode){case"hidden":a=i.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i.tail=null:r.sibling=null;break;case"collapsed":r=i.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Gt(i){var a=i.alternate!==null&&i.alternate.child===i.child,r=0,c=0;if(a)for(var f=i.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=r,a}function Nx(i,a,r){var c=a.pendingProps;switch(Qu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return r=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),zn(se),ei(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(i===null||i.child===null)&&(Qa(a)?Un(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Pp())),Gt(a),null;case 26:return r=a.memoizedState,i===null?(Un(a),r!==null?(Gt(a),o_(a,r)):(Gt(a),a.flags&=-16777217)):r?r!==i.memoizedState?(Un(a),Gt(a),o_(a,r)):(Gt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Un(a),Gt(a),a.flags&=-16777217),null;case 27:Dr(a),r=et.current;var f=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Un(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}i=Z.current,Qa(a)?Bp(a):(i=oy(f,c,r),a.stateNode=i,Un(a))}return Gt(a),null;case 5:if(Dr(a),r=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Un(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}if(i=Z.current,Qa(a))Bp(a);else{switch(f=Lo(et.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?f.createElement(r,{is:c.is}):f.createElement(r)}}i[Ee]=a,i[Re]=c;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=i;t:switch(ye(i,r,c),r){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Un(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Un(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(i=et.current,Qa(a)){if(i=a.stateNode,r=a.memoizedProps,c=null,f=we,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Ee]=a,i=!!(i.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||ey(i.nodeValue,r)),i||Ki(a)}else i=Lo(i).createTextNode(c),i[Ee]=a,a.stateNode=i}return Gt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Qa(a),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=a}else Ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),f=!1}else f=Pp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Hn(a),a):(Hn(a),null)}if(Hn(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=c!==null,i=i!==null&&i.memoizedState!==null,r){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return r!==i&&r&&(a.child.flags|=8192),So(a,a.updateQueue),Gt(a),null;case 4:return ei(),i===null&&of(a.stateNode.containerInfo),Gt(a),null;case 10:return zn(a.type),Gt(a),null;case 19:if(W(ae),f=a.memoizedState,f===null)return Gt(a),null;if(c=(a.flags&128)!==0,p=f.rendering,p===null)if(c)fl(f,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=mo(i),p!==null){for(a.flags|=128,fl(f,!1),i=p.updateQueue,a.updateQueue=i,So(a,i),a.subtreeFlags=0,i=r,r=a.child;r!==null;)Ip(r,i),r=r.sibling;return G(ae,ae.current&1|2),a.child}i=i.sibling}f.tail!==null&&yn()>Co&&(a.flags|=128,c=!0,fl(f,!1),a.lanes=4194304)}else{if(!c)if(i=mo(p),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,So(a,i),fl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!wt)return Gt(a),null}else 2*yn()-f.renderingStartTime>Co&&r!==536870912&&(a.flags|=128,c=!0,fl(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(i=f.last,i!==null?i.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=yn(),a.sibling=null,i=ae.current,G(ae,c?i&1|2:i&1),a):(Gt(a),null);case 22:case 23:return Hn(a),ch(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),r=a.updateQueue,r!==null&&So(a,r.retryQueue),r=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),i!==null&&W(Ji),null;case 24:return r=null,i!==null&&(r=i.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),zn(se),Gt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function kx(i,a){switch(Qu(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return zn(se),ei(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Dr(a),null;case 13:if(Hn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ka()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return W(ae),null;case 4:return ei(),null;case 10:return zn(a.type),null;case 22:case 23:return Hn(a),ch(),i!==null&&W(Ji),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return zn(se),null;case 25:return null;default:return null}}function c_(i,a){switch(Qu(a),a.tag){case 3:zn(se),ei();break;case 26:case 27:case 5:Dr(a);break;case 4:ei();break;case 13:Hn(a);break;case 19:W(ae);break;case 10:zn(a.type);break;case 22:case 23:Hn(a),ch(),i!==null&&W(Ji);break;case 24:zn(se)}}function dl(i,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&i)===i){c=void 0;var p=r.create,v=r.inst;c=p(),v.destroy=c}r=r.next}while(r!==f)}}catch(b){It(a,a.return,b)}}function fi(i,a,r){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var v=c.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=a;var x=r,D=b;try{D()}catch(B){It(f,x,B)}}}c=c.next}while(c!==p)}}catch(B){It(a,a.return,B)}}function u_(i){var a=i.updateQueue;if(a!==null){var r=i.stateNode;try{Zp(a,r)}catch(c){It(i,i.return,c)}}}function h_(i,a,r){r.props=es(i.type,i.memoizedProps),r.state=i.memoizedState;try{r.componentWillUnmount()}catch(c){It(i,a,c)}}function gl(i,a){try{var r=i.ref;if(r!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof r=="function"?i.refCleanup=r(c):r.current=c}}catch(f){It(i,a,f)}}function Sn(i,a){var r=i.ref,c=i.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){It(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){It(i,a,f)}else r.current=null}function f_(i){var a=i.type,r=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){It(i,i.return,f)}}function Hh(i,a,r){try{var c=i.stateNode;t1(c,i.type,r,a),c[Re]=a}catch(f){It(i,i.return,f)}}function d_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bi(i.type)||i.tag===4}function Bh(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||d_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bi(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Uh(i,a,r){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(i,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(i),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=ko));else if(c!==4&&(c===27&&bi(i.type)&&(r=i.stateNode,a=null),i=i.child,i!==null))for(Uh(i,a,r),i=i.sibling;i!==null;)Uh(i,a,r),i=i.sibling}function Eo(i,a,r){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?r.insertBefore(i,a):r.appendChild(i);else if(c!==4&&(c===27&&bi(i.type)&&(r=i.stateNode),i=i.child,i!==null))for(Eo(i,a,r),i=i.sibling;i!==null;)Eo(i,a,r),i=i.sibling}function g_(i){var a=i.stateNode,r=i.memoizedProps;try{for(var c=i.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);ye(a,c,r),a[Ee]=i,a[Re]=r}catch(p){It(i,i.return,p)}}var Pn=!1,Jt=!1,Ph=!1,p_=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Lx(i,a){if(i=i.containerInfo,hf=Po,i=wp(i),Bu(i)){if("selectionStart"in i)var r={start:i.selectionStart,end:i.selectionEnd};else t:{r=(r=i.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break t}var v=0,b=-1,x=-1,D=0,B=0,P=i,N=null;e:for(;;){for(var k;P!==r||f!==0&&P.nodeType!==3||(b=v+f),P!==p||c!==0&&P.nodeType!==3||(x=v+c),P.nodeType===3&&(v+=P.nodeValue.length),(k=P.firstChild)!==null;)N=P,P=k;for(;;){if(P===i)break e;if(N===r&&++D===f&&(b=v),N===p&&++B===c&&(x=v),(k=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=k}r=b===-1||x===-1?null:{start:b,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(ff={focusedElem:i,selectionRange:r},Po=!1,ce=a;ce!==null;)if(a=ce,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ce=i;else for(;ce!==null;){switch(a=ce,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,r=a,f=p.memoizedProps,p=p.memoizedState,c=r.stateNode;try{var rt=es(r.type,f,r.elementType===r.type);i=c.getSnapshotBeforeUpdate(rt,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(nt){It(r,r.return,nt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,r=i.nodeType,r===9)pf(i);else if(r===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,ce=i;break}ce=a.return}}function m_(i,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r),c&4&&dl(5,r);break;case 1:if(di(i,r),c&4)if(i=r.stateNode,a===null)try{i.componentDidMount()}catch(v){It(r,r.return,v)}else{var f=es(r.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(v){It(r,r.return,v)}}c&64&&u_(r),c&512&&gl(r,r.return);break;case 3:if(di(i,r),c&64&&(i=r.updateQueue,i!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Zp(i,a)}catch(v){It(r,r.return,v)}}break;case 27:a===null&&c&4&&g_(r);case 26:case 5:di(i,r),a===null&&c&4&&f_(r),c&512&&gl(r,r.return);break;case 12:di(i,r);break;case 13:di(i,r),c&4&&v_(i,r),c&64&&(i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(r=Fx.bind(null,r),r1(i,r))));break;case 22:if(c=r.memoizedState!==null||Pn,!c){a=a!==null&&a.memoizedState!==null||Jt,f=Pn;var p=Jt;Pn=c,(Jt=a)&&!p?gi(i,r,(r.subtreeFlags&8772)!==0):di(i,r),Pn=f,Jt=p}break;case 30:break;default:di(i,r)}}function __(i){var a=i.alternate;a!==null&&(i.alternate=null,__(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&vu(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,De=!1;function jn(i,a,r){for(r=r.child;r!==null;)y_(i,a,r),r=r.sibling}function y_(i,a,r){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(za,r)}catch{}switch(r.tag){case 26:Jt||Sn(r,a),jn(i,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Jt||Sn(r,a);var c=Yt,f=De;bi(r.type)&&(Yt=r.stateNode,De=!1),jn(i,a,r),xl(r.stateNode),Yt=c,De=f;break;case 5:Jt||Sn(r,a);case 6:if(c=Yt,f=De,Yt=null,jn(i,a,r),Yt=c,De=f,Yt!==null)if(De)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(r.stateNode)}catch(p){It(r,a,p)}else try{Yt.removeChild(r.stateNode)}catch(p){It(r,a,p)}break;case 18:Yt!==null&&(De?(i=Yt,ly(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.stateNode),Dl(i)):ly(Yt,r.stateNode));break;case 4:c=Yt,f=De,Yt=r.stateNode.containerInfo,De=!0,jn(i,a,r),Yt=c,De=f;break;case 0:case 11:case 14:case 15:Jt||fi(2,r,a),Jt||fi(4,r,a),jn(i,a,r);break;case 1:Jt||(Sn(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&h_(r,a,c)),jn(i,a,r);break;case 21:jn(i,a,r);break;case 22:Jt=(c=Jt)||r.memoizedState!==null,jn(i,a,r),Jt=c;break;default:jn(i,a,r)}}function v_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dl(i)}catch(r){It(a,a.return,r)}}function zx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new p_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new p_),a;default:throw Error(s(435,i.tag))}}function jh(i,a){var r=zx(i);a.forEach(function(c){var f=Yx.bind(null,i,c);r.has(c)||(r.add(c),c.then(f,f))})}function Fe(i,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],p=i,v=a,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(bi(b.type)){Yt=b.stateNode,De=!1;break t}break;case 5:Yt=b.stateNode,De=!1;break t;case 3:case 4:Yt=b.stateNode.containerInfo,De=!0;break t}b=b.return}if(Yt===null)throw Error(s(160));y_(p,v,f),Yt=null,De=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)b_(a,i),a=a.sibling}var un=null;function b_(i,a){var r=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fe(a,i),Ye(i),c&4&&(fi(3,i,i.return),dl(3,i),fi(5,i,i.return));break;case 1:Fe(a,i),Ye(i),c&512&&(Jt||r===null||Sn(r,r.return)),c&64&&Pn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(r=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=un;if(Fe(a,i),Ye(i),c&512&&(Jt||r===null||Sn(r,r.return)),c&4){var p=r!==null?r.memoizedState:null;if(c=i.memoizedState,r===null)if(c===null)if(i.stateNode===null){t:{c=i.type,r=i.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ba]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),ye(p,c,r),p[Ee]=i,re(p),c=p;break t;case"link":var v=gy("link","href",f).get(c+(r.href||""));if(v){for(var b=0;b<v.length;b++)if(p=v[b],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(b,1);break e}}p=f.createElement(c),ye(p,c,r),f.head.appendChild(p);break;case"meta":if(v=gy("meta","content",f).get(c+(r.content||""))){for(b=0;b<v.length;b++)if(p=v[b],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(b,1);break e}}p=f.createElement(c),ye(p,c,r),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[Ee]=i,re(p),c=p}i.stateNode=c}else py(f,i.type,i.stateNode);else i.stateNode=dy(f,c,i.memoizedProps);else p!==c?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,c===null?py(f,i.type,i.stateNode):dy(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Hh(i,i.memoizedProps,r.memoizedProps)}break;case 27:Fe(a,i),Ye(i),c&512&&(Jt||r===null||Sn(r,r.return)),r!==null&&c&4&&Hh(i,i.memoizedProps,r.memoizedProps);break;case 5:if(Fe(a,i),Ye(i),c&512&&(Jt||r===null||Sn(r,r.return)),i.flags&32){f=i.stateNode;try{Ds(f,"")}catch(k){It(i,i.return,k)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Hh(i,f,r!==null?r.memoizedProps:f)),c&1024&&(Ph=!0);break;case 6:if(Fe(a,i),Ye(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,r=i.stateNode;try{r.nodeValue=c}catch(k){It(i,i.return,k)}}break;case 3:if(Ho=null,f=un,un=zo(a.containerInfo),Fe(a,i),un=f,Ye(i),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(a.containerInfo)}catch(k){It(i,i.return,k)}Ph&&(Ph=!1,S_(i));break;case 4:c=un,un=zo(i.stateNode.containerInfo),Fe(a,i),Ye(i),un=c;break;case 12:Fe(a,i),Ye(i);break;case 13:Fe(a,i),Ye(i),i.child.flags&8192&&i.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wh=yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jh(i,c)));break;case 22:f=i.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,D=Pn,B=Jt;if(Pn=D||f,Jt=B||x,Fe(a,i),Jt=B,Pn=D,Ye(i),c&8192)t:for(a=i.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(r===null||x||Pn||Jt||ns(i)),r=null,a=i;;){if(a.tag===5||a.tag===26){if(r===null){x=r=a;try{if(p=x.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=x.stateNode;var P=x.memoizedProps.style,N=P!=null&&P.hasOwnProperty("display")?P.display:null;b.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(k){It(x,x.return,k)}}}else if(a.tag===6){if(r===null){x=a;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(k){It(x,x.return,k)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,jh(i,r))));break;case 19:Fe(a,i),Ye(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jh(i,c)));break;case 30:break;case 21:break;default:Fe(a,i),Ye(i)}}function Ye(i){var a=i.flags;if(a&2){try{for(var r,c=i.return;c!==null;){if(d_(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,p=Bh(i);Eo(i,p,f);break;case 5:var v=r.stateNode;r.flags&32&&(Ds(v,""),r.flags&=-33);var b=Bh(i);Eo(i,b,v);break;case 3:case 4:var x=r.stateNode.containerInfo,D=Bh(i);Uh(i,D,x);break;default:throw Error(s(161))}}catch(B){It(i,i.return,B)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function S_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;S_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function di(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m_(i,a.alternate,a),a=a.sibling}function ns(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:fi(4,a,a.return),ns(a);break;case 1:Sn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&h_(a,a.return,r),ns(a);break;case 27:xl(a.stateNode);case 26:case 5:Sn(a,a.return),ns(a);break;case 22:a.memoizedState===null&&ns(a);break;case 30:ns(a);break;default:ns(a)}i=i.sibling}}function gi(i,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=i,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:gi(f,p,r),dl(4,p);break;case 1:if(gi(f,p,r),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){It(c,c.return,D)}if(c=p,f=c.updateQueue,f!==null){var b=c.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Kp(x[f],b)}catch(D){It(c,c.return,D)}}r&&v&64&&u_(p),gl(p,p.return);break;case 27:g_(p);case 26:case 5:gi(f,p,r),r&&c===null&&v&4&&f_(p),gl(p,p.return);break;case 12:gi(f,p,r);break;case 13:gi(f,p,r),r&&v&4&&v_(f,p);break;case 22:p.memoizedState===null&&gi(f,p,r),gl(p,p.return);break;case 30:break;default:gi(f,p,r)}a=a.sibling}}function Vh(i,a){var r=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(i!=null&&i.refCount++,r!=null&&Ja(r))}function Fh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ja(i))}function En(i,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)E_(i,a,r,c),a=a.sibling}function E_(i,a,r,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:En(i,a,r,c),f&2048&&dl(9,a);break;case 1:En(i,a,r,c);break;case 3:En(i,a,r,c),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ja(i)));break;case 12:if(f&2048){En(i,a,r,c),i=a.stateNode;try{var p=a.memoizedProps,v=p.id,b=p.onPostCommit;typeof b=="function"&&b(v,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){It(a,a.return,x)}}else En(i,a,r,c);break;case 13:En(i,a,r,c);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?En(i,a,r,c):pl(i,a):p._visibility&2?En(i,a,r,c):(p._visibility|=2,Ks(i,a,r,c,(a.subtreeFlags&10256)!==0)),f&2048&&Vh(v,a);break;case 24:En(i,a,r,c),f&2048&&Fh(a.alternate,a);break;default:En(i,a,r,c)}}function Ks(i,a,r,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,v=a,b=r,x=c,D=v.flags;switch(v.tag){case 0:case 11:case 15:Ks(p,v,b,x,f),dl(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?Ks(p,v,b,x,f):pl(p,v):(B._visibility|=2,Ks(p,v,b,x,f)),f&&D&2048&&Vh(v.alternate,v);break;case 24:Ks(p,v,b,x,f),f&&D&2048&&Fh(v.alternate,v);break;default:Ks(p,v,b,x,f)}a=a.sibling}}function pl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=i,c=a,f=c.flags;switch(c.tag){case 22:pl(r,c),f&2048&&Vh(c.alternate,c);break;case 24:pl(r,c),f&2048&&Fh(c.alternate,c);break;default:pl(r,c)}a=a.sibling}}var ml=8192;function Zs(i){if(i.subtreeFlags&ml)for(i=i.child;i!==null;)x_(i),i=i.sibling}function x_(i){switch(i.tag){case 26:Zs(i),i.flags&ml&&i.memoizedState!==null&&b1(un,i.memoizedState,i.memoizedProps);break;case 5:Zs(i);break;case 3:case 4:var a=un;un=zo(i.stateNode.containerInfo),Zs(i),un=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ml,ml=16777216,Zs(i),ml=a):Zs(i));break;default:Zs(i)}}function C_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function _l(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];ce=c,w_(c,i)}C_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T_(i),i=i.sibling}function T_(i){switch(i.tag){case 0:case 11:case 15:_l(i),i.flags&2048&&fi(9,i,i.return);break;case 3:_l(i);break;case 12:_l(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,xo(i)):_l(i);break;default:_l(i)}}function xo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];ce=c,w_(c,i)}C_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:fi(8,a,a.return),xo(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,xo(a));break;default:xo(a)}i=i.sibling}}function w_(i,a){for(;ce!==null;){var r=ce;switch(r.tag){case 0:case 11:case 15:fi(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ja(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,ce=c;else t:for(r=i;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(__(c),c===r){ce=null;break t}if(f!==null){f.return=p,ce=f;break t}ce=p}}}var Ix={getCacheForType:function(i){var a=xe(se),r=a.data.get(i);return r===void 0&&(r=i(),a.data.set(i,r)),r}},Hx=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ht=null,bt=null,xt=0,Mt=0,qe=null,pi=!1,$s=!1,Yh=!1,Vn=0,Xt=0,mi=0,is=0,qh=0,nn=0,Js=0,yl=null,Ne=null,Gh=!1,Wh=0,Co=1/0,To=null,_i=null,_e=0,yi=null,ta=null,ea=0,Xh=0,Qh=null,A_=null,vl=0,Kh=null;function Ge(){if((Rt&2)!==0&&xt!==0)return xt&-xt;if(L.T!==null){var i=Vs;return i!==0?i:sf()}return Fg()}function R_(){nn===0&&(nn=(xt&536870912)===0||wt?Ug():536870912);var i=en.current;return i!==null&&(i.flags|=32),nn}function We(i,a,r){(i===Ht&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)&&(na(i,0),vi(i,xt,nn,!1)),Ha(i,r),((Rt&2)===0||i!==Ht)&&(i===Ht&&((Rt&2)===0&&(is|=r),Xt===4&&vi(i,xt,nn,!1)),xn(i))}function M_(i,a,r){if((Rt&6)!==0)throw Error(s(327));var c=!r&&(a&124)===0&&(a&i.expiredLanes)===0||Ia(i,a),f=c?Px(i,a):Jh(i,a,!0),p=c;do{if(f===0){$s&&!c&&vi(i,a,0,!1);break}else{if(r=i.current.alternate,p&&!Bx(r)){f=Jh(i,a,!1),p=!1;continue}if(f===2){if(p=a,i.errorRecoveryDisabledLanes&p)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;t:{var b=i;f=yl;var x=b.current.memoizedState.isDehydrated;if(x&&(na(b,v).flags|=256),v=Jh(b,v,!1),v!==2){if(Yh&&!x){b.errorRecoveryDisabledLanes|=p,is|=p,f=4;break t}p=Ne,Ne=f,p!==null&&(Ne===null?Ne=p:Ne.push.apply(Ne,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){na(i,0),vi(i,a,0,!0);break}t:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:vi(c,a,nn,!pi);break t;case 2:Ne=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=Wh+300-yn(),10<f)){if(vi(c,a,nn,!pi),zr(c,0,!0)!==0)break t;c.timeoutHandle=sy(O_.bind(null,c,r,Ne,To,Gh,a,nn,is,Js,pi,p,2,-0,0),f);break t}O_(c,r,Ne,To,Gh,a,nn,is,Js,pi,p,0,-0,0)}}break}while(!0);xn(i)}function O_(i,a,r,c,f,p,v,b,x,D,B,P,N,k){if(i.timeoutHandle=-1,P=a.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:v1},x_(a),P=S1(),P!==null)){i.cancelPendingCommit=P(H_.bind(null,i,a,p,r,c,f,v,b,x,B,1,N,k)),vi(i,p,v,!D);return}H_(i,a,p,r,c,f,v,b,x)}function Bx(i){for(var a=i;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],p=f.getSnapshot;f=f.value;try{if(!je(p(),f))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vi(i,a,r,c){a&=~qh,a&=~is,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var f=a;0<f;){var p=31-Pe(f),v=1<<p;c[p]=-1,f&=~v}r!==0&&jg(i,r,a)}function wo(){return(Rt&6)===0?(bl(0),!1):!0}function Zh(){if(bt!==null){if(Mt===0)var i=bt.return;else i=bt,Ln=Zi=null,gh(i),Xs=null,ul=0,i=bt;for(;i!==null;)c_(i.alternate,i),i=i.return;bt=null}}function na(i,a){var r=i.timeoutHandle;r!==-1&&(i.timeoutHandle=-1,n1(r)),r=i.cancelPendingCommit,r!==null&&(i.cancelPendingCommit=null,r()),Zh(),Ht=i,bt=r=Dn(i.current,null),xt=a,Mt=0,qe=null,pi=!1,$s=Ia(i,a),Yh=!1,Js=nn=qh=is=mi=Xt=0,Ne=yl=null,Gh=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var f=31-Pe(c),p=1<<f;a|=i[f],c&=~p}return Vn=a,Wr(),r}function D_(i,a){pt=null,L.H=fo,a===el||a===no?(a=Xp(),Mt=3):a===qp?(a=Xp(),Mt=4):Mt=a===Qm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qe=a,bt===null&&(Xt=1,yo(i,Ze(a,i.current)))}function N_(){var i=L.H;return L.H=fo,i===null?fo:i}function k_(){var i=L.A;return L.A=Ix,i}function $h(){Xt=4,pi||(xt&4194048)!==xt&&en.current!==null||($s=!0),(mi&134217727)===0&&(is&134217727)===0||Ht===null||vi(Ht,xt,nn,!1)}function Jh(i,a,r){var c=Rt;Rt|=2;var f=N_(),p=k_();(Ht!==i||xt!==a)&&(To=null,na(i,a)),a=!1;var v=Xt;t:do try{if(Mt!==0&&bt!==null){var b=bt,x=qe;switch(Mt){case 8:Zh(),v=6;break t;case 3:case 2:case 9:case 6:en.current===null&&(a=!0);var D=Mt;if(Mt=0,qe=null,ia(i,b,x,D),r&&$s){v=0;break t}break;default:D=Mt,Mt=0,qe=null,ia(i,b,x,D)}}Ux(),v=Xt;break}catch(B){D_(i,B)}while(!0);return a&&i.shellSuspendCounter++,Ln=Zi=null,Rt=c,L.H=f,L.A=p,bt===null&&(Ht=null,xt=0,Wr()),v}function Ux(){for(;bt!==null;)L_(bt)}function Px(i,a){var r=Rt;Rt|=2;var c=N_(),f=k_();Ht!==i||xt!==a?(To=null,Co=yn()+500,na(i,a)):$s=Ia(i,a);t:do try{if(Mt!==0&&bt!==null){a=bt;var p=qe;e:switch(Mt){case 1:Mt=0,qe=null,ia(i,a,p,1);break;case 2:case 9:if(Gp(p)){Mt=0,qe=null,z_(a);break}a=function(){Mt!==2&&Mt!==9||Ht!==i||(Mt=7),xn(i)},p.then(a,a);break t;case 3:Mt=7;break t;case 4:Mt=5;break t;case 7:Gp(p)?(Mt=0,qe=null,z_(a)):(Mt=0,qe=null,ia(i,a,p,7));break;case 5:var v=null;switch(bt.tag){case 26:v=bt.memoizedState;case 5:case 27:var b=bt;if(!v||my(v)){Mt=0,qe=null;var x=b.sibling;if(x!==null)bt=x;else{var D=b.return;D!==null?(bt=D,Ao(D)):bt=null}break e}}Mt=0,qe=null,ia(i,a,p,5);break;case 6:Mt=0,qe=null,ia(i,a,p,6);break;case 8:Zh(),Xt=6;break t;default:throw Error(s(462))}}jx();break}catch(B){D_(i,B)}while(!0);return Ln=Zi=null,L.H=c,L.A=f,Rt=r,bt!==null?0:(Ht=null,xt=0,Wr(),Xt)}function jx(){for(;bt!==null&&!cE();)L_(bt)}function L_(i){var a=r_(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,a===null?Ao(i):bt=a}function z_(i){var a=i,r=a.alternate;switch(a.tag){case 15:case 0:a=e_(r,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=e_(r,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:gh(a);default:c_(r,a),a=bt=Ip(a,Vn),a=r_(r,a,Vn)}i.memoizedProps=i.pendingProps,a===null?Ao(i):bt=a}function ia(i,a,r,c){Ln=Zi=null,gh(a),Xs=null,ul=0;var f=a.return;try{if(Ox(i,f,a,r,xt)){Xt=1,yo(i,Ze(r,i.current)),bt=null;return}}catch(p){if(f!==null)throw bt=f,p;Xt=1,yo(i,Ze(r,i.current)),bt=null;return}a.flags&32768?(wt||c===1?i=!0:$s||(xt&536870912)!==0?i=!1:(pi=i=!0,(c===2||c===9||c===3||c===6)&&(c=en.current,c!==null&&c.tag===13&&(c.flags|=16384))),I_(a,i)):Ao(a)}function Ao(i){var a=i;do{if((a.flags&32768)!==0){I_(a,pi);return}i=a.return;var r=Nx(a.alternate,a,Vn);if(r!==null){bt=r;return}if(a=a.sibling,a!==null){bt=a;return}bt=a=i}while(a!==null);Xt===0&&(Xt=5)}function I_(i,a){do{var r=kx(i.alternate,i);if(r!==null){r.flags&=32767,bt=r;return}if(r=i.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(i=i.sibling,i!==null)){bt=i;return}bt=i=r}while(i!==null);Xt=6,bt=null}function H_(i,a,r,c,f,p,v,b,x){i.cancelPendingCommit=null;do Ro();while(_e!==0);if((Rt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=Fu,vE(i,r,p,v,b,x),i===Ht&&(bt=Ht=null,xt=0),ta=a,yi=i,ea=r,Xh=p,Qh=f,A_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qx(Nr,function(){return V_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,f=Y.p,Y.p=2,v=Rt,Rt|=4;try{Lx(i,a,r)}finally{Rt=v,Y.p=f,L.T=c}}_e=1,B_(),U_(),P_()}}function B_(){if(_e===1){_e=0;var i=yi,a=ta,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var c=Y.p;Y.p=2;var f=Rt;Rt|=4;try{b_(a,i);var p=ff,v=wp(i.containerInfo),b=p.focusedElem,x=p.selectionRange;if(v!==b&&b&&b.ownerDocument&&Tp(b.ownerDocument.documentElement,b)){if(x!==null&&Bu(b)){var D=x.start,B=x.end;if(B===void 0&&(B=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min(B,b.value.length);else{var P=b.ownerDocument||document,N=P&&P.defaultView||window;if(N.getSelection){var k=N.getSelection(),rt=b.textContent.length,nt=Math.min(x.start,rt),Lt=x.end===void 0?nt:Math.min(x.end,rt);!k.extend&&nt>Lt&&(v=Lt,Lt=nt,nt=v);var M=Cp(b,nt),A=Cp(b,Lt);if(M&&A&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var O=P.createRange();O.setStart(M.node,M.offset),k.removeAllRanges(),nt>Lt?(k.addRange(O),k.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),k.addRange(O))}}}}for(P=[],k=b;k=k.parentNode;)k.nodeType===1&&P.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<P.length;b++){var U=P[b];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Po=!!hf,ff=hf=null}finally{Rt=f,Y.p=c,L.T=r}}i.current=a,_e=2}}function U_(){if(_e===2){_e=0;var i=yi,a=ta,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var c=Y.p;Y.p=2;var f=Rt;Rt|=4;try{m_(i,a.alternate,a)}finally{Rt=f,Y.p=c,L.T=r}}_e=3}}function P_(){if(_e===4||_e===3){_e=0,uE();var i=yi,a=ta,r=ea,c=A_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_e=5:(_e=0,ta=yi=null,j_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(_i=null),_u(r),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(za,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=L.T,f=Y.p,Y.p=2,L.T=null;try{for(var p=i.onRecoverableError,v=0;v<c.length;v++){var b=c[v];p(b.value,{componentStack:b.stack})}}finally{L.T=a,Y.p=f}}(ea&3)!==0&&Ro(),xn(i),f=i.pendingLanes,(r&4194090)!==0&&(f&42)!==0?i===Kh?vl++:(vl=0,Kh=i):vl=0,bl(0)}}function j_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ja(a)))}function Ro(i){return B_(),U_(),P_(),V_()}function V_(){if(_e!==5)return!1;var i=yi,a=Xh;Xh=0;var r=_u(ea),c=L.T,f=Y.p;try{Y.p=32>r?32:r,L.T=null,r=Qh,Qh=null;var p=yi,v=ea;if(_e=0,ta=yi=null,ea=0,(Rt&6)!==0)throw Error(s(331));var b=Rt;if(Rt|=4,T_(p.current),E_(p,p.current,v,r),Rt=b,bl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(za,p)}catch{}return!0}finally{Y.p=f,L.T=c,j_(i,a)}}function F_(i,a,r){a=Ze(r,a),a=Rh(i.stateNode,a,2),i=oi(i,a,2),i!==null&&(Ha(i,2),xn(i))}function It(i,a,r){if(i.tag===3)F_(i,i,r);else for(;a!==null;){if(a.tag===3){F_(a,i,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_i===null||!_i.has(c))){i=Ze(r,i),r=Wm(2),c=oi(a,r,2),c!==null&&(Xm(r,c,a,i),Ha(c,2),xn(c));break}}a=a.return}}function tf(i,a,r){var c=i.pingCache;if(c===null){c=i.pingCache=new Hx;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(r)||(Yh=!0,f.add(r),i=Vx.bind(null,i,a,r),a.then(i,i))}function Vx(i,a,r){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&r,i.warmLanes&=~r,Ht===i&&(xt&r)===r&&(Xt===4||Xt===3&&(xt&62914560)===xt&&300>yn()-Wh?(Rt&2)===0&&na(i,0):qh|=r,Js===xt&&(Js=0)),xn(i)}function Y_(i,a){a===0&&(a=Pg()),i=Bs(i,a),i!==null&&(Ha(i,a),xn(i))}function Fx(i){var a=i.memoizedState,r=0;a!==null&&(r=a.retryLane),Y_(i,r)}function Yx(i,a){var r=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),Y_(i,r)}function qx(i,a){return du(i,a)}var Mo=null,sa=null,ef=!1,Oo=!1,nf=!1,ss=0;function xn(i){i!==sa&&i.next===null&&(sa===null?Mo=sa=i:sa=sa.next=i),Oo=!0,ef||(ef=!0,Wx())}function bl(i,a){if(!nf&&Oo){nf=!0;do for(var r=!1,c=Mo;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var v=c.suspendedLanes,b=c.pingedLanes;p=(1<<31-Pe(42|i)+1)-1,p&=f&~(v&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,X_(c,p))}else p=xt,p=zr(c,c===Ht?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ia(c,p)||(r=!0,X_(c,p));c=c.next}while(r);nf=!1}}function Gx(){q_()}function q_(){Oo=ef=!1;var i=0;ss!==0&&(e1()&&(i=ss),ss=0);for(var a=yn(),r=null,c=Mo;c!==null;){var f=c.next,p=G_(c,a);p===0?(c.next=null,r===null?Mo=f:r.next=f,f===null&&(sa=r)):(r=c,(i!==0||(p&3)!==0)&&(Oo=!0)),c=f}bl(i)}function G_(i,a){for(var r=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var v=31-Pe(p),b=1<<v,x=f[v];x===-1?((b&r)===0||(b&c)!==0)&&(f[v]=yE(b,a)):x<=a&&(i.expiredLanes|=b),p&=~b}if(a=Ht,r=xt,r=zr(i,i===a?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,r===0||i===a&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&gu(c),i.callbackNode=null,i.callbackPriority=0;if((r&3)===0||Ia(i,r)){if(a=r&-r,a===i.callbackPriority)return a;switch(c!==null&&gu(c),_u(r)){case 2:case 8:r=Hg;break;case 32:r=Nr;break;case 268435456:r=Bg;break;default:r=Nr}return c=W_.bind(null,i),r=du(r,c),i.callbackPriority=a,i.callbackNode=r,a}return c!==null&&c!==null&&gu(c),i.callbackPriority=2,i.callbackNode=null,2}function W_(i,a){if(_e!==0&&_e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var r=i.callbackNode;if(Ro()&&i.callbackNode!==r)return null;var c=xt;return c=zr(i,i===Ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(M_(i,c,a),G_(i,yn()),i.callbackNode!=null&&i.callbackNode===r?W_.bind(null,i):null)}function X_(i,a){if(Ro())return null;M_(i,a,!0)}function Wx(){i1(function(){(Rt&6)!==0?du(Ig,Gx):q_()})}function sf(){return ss===0&&(ss=Ug()),ss}function Q_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pr(""+i)}function K_(i,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,i.id&&r.setAttribute("form",i.id),a.parentNode.insertBefore(r,a),i=new FormData(i),r.parentNode.removeChild(r),i}function Xx(i,a,r,c,f){if(a==="submit"&&r&&r.stateNode===f){var p=Q_((f[Re]||null).action),v=c.submitter;v&&(a=(a=v[Re]||null)?Q_(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var b=new Yr("action","action",null,c,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ss!==0){var x=v?K_(f,v):new FormData(f);xh(r,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(b.preventDefault(),x=v?K_(f,v):new FormData(f),xh(r,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var af=0;af<Vu.length;af++){var lf=Vu[af],Qx=lf.toLowerCase(),Kx=lf[0].toUpperCase()+lf.slice(1);cn(Qx,"on"+Kx)}cn(Mp,"onAnimationEnd"),cn(Op,"onAnimationIteration"),cn(Dp,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(dx,"onTransitionRun"),cn(gx,"onTransitionStart"),cn(px,"onTransitionCancel"),cn(Np,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Z_(i,a){a=(a&4)!==0;for(var r=0;r<i.length;r++){var c=i[r],f=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var v=c.length-1;0<=v;v--){var b=c[v],x=b.instance,D=b.currentTarget;if(b=b.listener,x!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=D;try{p(f)}catch(B){_o(B)}f.currentTarget=null,p=x}else for(v=0;v<c.length;v++){if(b=c[v],x=b.instance,D=b.currentTarget,b=b.listener,x!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=D;try{p(f)}catch(B){_o(B)}f.currentTarget=null,p=x}}}}function St(i,a){var r=a[yu];r===void 0&&(r=a[yu]=new Set);var c=i+"__bubble";r.has(c)||($_(a,i,2,!1),r.add(c))}function rf(i,a,r){var c=0;a&&(c|=4),$_(r,i,c,a)}var Do="_reactListening"+Math.random().toString(36).slice(2);function of(i){if(!i[Do]){i[Do]=!0,qg.forEach(function(r){r!=="selectionchange"&&(Zx.has(r)||rf(r,!1,i),rf(r,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Do]||(a[Do]=!0,rf("selectionchange",!1,a))}}function $_(i,a,r,c){switch(Ey(a)){case 2:var f=C1;break;case 8:f=T1;break;default:f=Ef}r=f.bind(null,a,r,i),f=void 0,!Mu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(a,r,{capture:!0,passive:f}):i.addEventListener(a,r,!0):f!==void 0?i.addEventListener(a,r,{passive:f}):i.addEventListener(a,r,!1)}function cf(i,a,r,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var b=c.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Ts(b),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){c=p=v;continue t}b=b.parentNode}}c=c.return}ap(function(){var D=p,B=Au(r),P=[];t:{var N=kp.get(i);if(N!==void 0){var k=Yr,rt=i;switch(i){case"keypress":if(Vr(r)===0)break t;case"keydown":case"keyup":k=qE;break;case"focusin":rt="focus",k=ku;break;case"focusout":rt="blur",k=ku;break;case"beforeblur":case"afterblur":k=ku;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=kE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=XE;break;case Mp:case Op:case Dp:k=IE;break;case Np:k=KE;break;case"scroll":case"scrollend":k=DE;break;case"wheel":k=$E;break;case"copy":case"cut":case"paste":k=BE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=up;break;case"toggle":case"beforetoggle":k=tx}var nt=(a&4)!==0,Lt=!nt&&(i==="scroll"||i==="scrollend"),M=nt?N!==null?N+"Capture":null:N;nt=[];for(var A=D,O;A!==null;){var U=A;if(O=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||O===null||M===null||(U=Pa(A,M),U!=null&&nt.push(El(A,U,O))),Lt)break;A=A.return}0<nt.length&&(N=new k(N,rt,null,r,B),P.push({event:N,listeners:nt}))}}if((a&7)===0){t:{if(N=i==="mouseover"||i==="pointerover",k=i==="mouseout"||i==="pointerout",N&&r!==wu&&(rt=r.relatedTarget||r.fromElement)&&(Ts(rt)||rt[Cs]))break t;if((k||N)&&(N=B.window===B?B:(N=B.ownerDocument)?N.defaultView||N.parentWindow:window,k?(rt=r.relatedTarget||r.toElement,k=D,rt=rt?Ts(rt):null,rt!==null&&(Lt=o(rt),nt=rt.tag,rt!==Lt||nt!==5&&nt!==27&&nt!==6)&&(rt=null)):(k=null,rt=D),k!==rt)){if(nt=op,U="onMouseLeave",M="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(nt=up,U="onPointerLeave",M="onPointerEnter",A="pointer"),Lt=k==null?N:Ua(k),O=rt==null?N:Ua(rt),N=new nt(U,A+"leave",k,r,B),N.target=Lt,N.relatedTarget=O,U=null,Ts(B)===D&&(nt=new nt(M,A+"enter",rt,r,B),nt.target=O,nt.relatedTarget=Lt,U=nt),Lt=U,k&&rt)e:{for(nt=k,M=rt,A=0,O=nt;O;O=aa(O))A++;for(O=0,U=M;U;U=aa(U))O++;for(;0<A-O;)nt=aa(nt),A--;for(;0<O-A;)M=aa(M),O--;for(;A--;){if(nt===M||M!==null&&nt===M.alternate)break e;nt=aa(nt),M=aa(M)}nt=null}else nt=null;k!==null&&J_(P,N,k,nt,!1),rt!==null&&Lt!==null&&J_(P,Lt,rt,nt,!0)}}t:{if(N=D?Ua(D):window,k=N.nodeName&&N.nodeName.toLowerCase(),k==="select"||k==="input"&&N.type==="file")var X=yp;else if(mp(N))if(vp)X=ux;else{X=ox;var _t=rx}else k=N.nodeName,!k||k.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?D&&Tu(D.elementType)&&(X=yp):X=cx;if(X&&(X=X(i,D))){_p(P,X,r,B);break t}_t&&_t(i,N,D),i==="focusout"&&D&&N.type==="number"&&D.memoizedProps.value!=null&&Cu(N,"number",N.value)}switch(_t=D?Ua(D):window,i){case"focusin":(mp(_t)||_t.contentEditable==="true")&&(zs=_t,Uu=D,Xa=null);break;case"focusout":Xa=Uu=zs=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,Ap(P,r,B);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":Ap(P,r,B)}var J;if(zu)t:{switch(i){case"compositionstart":var st="onCompositionStart";break t;case"compositionend":st="onCompositionEnd";break t;case"compositionupdate":st="onCompositionUpdate";break t}st=void 0}else Ls?gp(i,r)&&(st="onCompositionEnd"):i==="keydown"&&r.keyCode===229&&(st="onCompositionStart");st&&(hp&&r.locale!=="ko"&&(Ls||st!=="onCompositionStart"?st==="onCompositionEnd"&&Ls&&(J=lp()):(si=B,Ou="value"in si?si.value:si.textContent,Ls=!0)),_t=No(D,st),0<_t.length&&(st=new cp(st,i,null,r,B),P.push({event:st,listeners:_t}),J?st.data=J:(J=pp(r),J!==null&&(st.data=J)))),(J=nx?ix(i,r):sx(i,r))&&(st=No(D,"onBeforeInput"),0<st.length&&(_t=new cp("onBeforeInput","beforeinput",null,r,B),P.push({event:_t,listeners:st}),_t.data=J)),Xx(P,i,D,r,B)}Z_(P,a)})}function El(i,a,r){return{instance:i,listener:a,currentTarget:r}}function No(i,a){for(var r=a+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Pa(i,r),f!=null&&c.unshift(El(i,f,p)),f=Pa(i,a),f!=null&&c.push(El(i,f,p))),i.tag===3)return c;i=i.return}return[]}function aa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J_(i,a,r,c,f){for(var p=a._reactName,v=[];r!==null&&r!==c;){var b=r,x=b.alternate,D=b.stateNode;if(b=b.tag,x!==null&&x===c)break;b!==5&&b!==26&&b!==27||D===null||(x=D,f?(D=Pa(r,p),D!=null&&v.unshift(El(r,D,x))):f||(D=Pa(r,p),D!=null&&v.push(El(r,D,x)))),r=r.return}v.length!==0&&i.push({event:a,listeners:v})}var $x=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function ty(i){return(typeof i=="string"?i:""+i).replace($x,`
`).replace(Jx,"")}function ey(i,a){return a=ty(a),ty(i)===a}function ko(){}function kt(i,a,r,c,f,p){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ds(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ds(i,""+c);break;case"className":Hr(i,"class",c);break;case"tabIndex":Hr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(i,r,c);break;case"style":ip(i,c,p);break;case"data":if(a!=="object"){Hr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){i.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(r);break}c=Pr(""+c),i.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(a!=="input"&&kt(i,a,"name",f.name,f,null),kt(i,a,"formEncType",f.formEncType,f,null),kt(i,a,"formMethod",f.formMethod,f,null),kt(i,a,"formTarget",f.formTarget,f,null)):(kt(i,a,"encType",f.encType,f,null),kt(i,a,"method",f.method,f,null),kt(i,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(r);break}c=Pr(""+c),i.setAttribute(r,c);break;case"onClick":c!=null&&(i.onclick=ko);break;case"onScroll":c!=null&&St("scroll",i);break;case"onScrollEnd":c!=null&&St("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=r}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}r=Pr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(r,""+c):i.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(r,""):i.removeAttribute(r);break;case"capture":case"download":c===!0?i.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(r,c):i.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(r,c):i.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(r):i.setAttribute(r,c);break;case"popover":St("beforetoggle",i),St("toggle",i),Ir(i,"popover",c);break;case"xlinkActuate":Mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ir(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ME.get(r)||r,Ir(i,r,c))}}function uf(i,a,r,c,f,p){switch(r){case"style":ip(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=r}}break;case"children":typeof c=="string"?Ds(i,c):(typeof c=="number"||typeof c=="bigint")&&Ds(i,""+c);break;case"onScroll":c!=null&&St("scroll",i);break;case"onScrollEnd":c!=null&&St("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ko);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gg.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),a=r.slice(2,f?r.length-7:void 0),p=i[Re]||null,p=p!=null?p[r]:null,typeof p=="function"&&i.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(r in i?i[r]=null:i.hasAttribute(r)&&i.removeAttribute(r)),i.addEventListener(a,c,f);break t}r in i?i[r]=c:c===!0?i.setAttribute(r,""):Ir(i,r,c)}}}function ye(i,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",i),St("load",i);var c=!1,f=!1,p;for(p in r)if(r.hasOwnProperty(p)){var v=r[p];if(v!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:kt(i,a,p,v,r,null)}}f&&kt(i,a,"srcSet",r.srcSet,r,null),c&&kt(i,a,"src",r.src,r,null);return;case"input":St("invalid",i);var b=p=v=f=null,x=null,D=null;for(c in r)if(r.hasOwnProperty(c)){var B=r[c];if(B!=null)switch(c){case"name":f=B;break;case"type":v=B;break;case"checked":x=B;break;case"defaultChecked":D=B;break;case"value":p=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,a));break;default:kt(i,a,c,B,r,null)}}Jg(i,p,b,x,D,v,f,!1),Br(i);return;case"select":St("invalid",i),c=v=p=null;for(f in r)if(r.hasOwnProperty(f)&&(b=r[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":v=b;break;case"multiple":c=b;default:kt(i,a,f,b,r,null)}a=p,r=v,i.multiple=!!c,a!=null?Os(i,!!c,a,!1):r!=null&&Os(i,!!c,r,!0);return;case"textarea":St("invalid",i),p=f=c=null;for(v in r)if(r.hasOwnProperty(v)&&(b=r[v],b!=null))switch(v){case"value":c=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:kt(i,a,v,b,r,null)}ep(i,c,f,p),Br(i);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(c=r[x],c!=null))switch(x){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:kt(i,a,x,c,r,null)}return;case"dialog":St("beforetoggle",i),St("toggle",i),St("cancel",i),St("close",i);break;case"iframe":case"object":St("load",i);break;case"video":case"audio":for(c=0;c<Sl.length;c++)St(Sl[c],i);break;case"image":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"embed":case"source":case"link":St("error",i),St("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in r)if(r.hasOwnProperty(D)&&(c=r[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:kt(i,a,D,c,r,null)}return;default:if(Tu(a)){for(B in r)r.hasOwnProperty(B)&&(c=r[B],c!==void 0&&uf(i,a,B,c,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(c=r[b],c!=null&&kt(i,a,b,c,r,null))}function t1(i,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,b=null,x=null,D=null,B=null;for(k in r){var P=r[k];if(r.hasOwnProperty(k)&&P!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":x=P;default:c.hasOwnProperty(k)||kt(i,a,k,null,c,P)}}for(var N in c){var k=c[N];if(P=r[N],c.hasOwnProperty(N)&&(k!=null||P!=null))switch(N){case"type":p=k;break;case"name":f=k;break;case"checked":D=k;break;case"defaultChecked":B=k;break;case"value":v=k;break;case"defaultValue":b=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,a));break;default:k!==P&&kt(i,a,N,k,c,P)}}xu(i,v,b,x,D,B,p,f);return;case"select":k=v=b=N=null;for(p in r)if(x=r[p],r.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":k=x;default:c.hasOwnProperty(p)||kt(i,a,p,null,c,x)}for(f in c)if(p=c[f],x=r[f],c.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":N=p;break;case"defaultValue":b=p;break;case"multiple":v=p;default:p!==x&&kt(i,a,f,p,c,x)}a=b,r=v,c=k,N!=null?Os(i,!!r,N,!1):!!c!=!!r&&(a!=null?Os(i,!!r,a,!0):Os(i,!!r,r?[]:"",!1));return;case"textarea":k=N=null;for(b in r)if(f=r[b],r.hasOwnProperty(b)&&f!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:kt(i,a,b,null,c,f)}for(v in c)if(f=c[v],p=r[v],c.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":N=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&kt(i,a,v,f,c,p)}tp(i,N,k);return;case"option":for(var rt in r)if(N=r[rt],r.hasOwnProperty(rt)&&N!=null&&!c.hasOwnProperty(rt))switch(rt){case"selected":i.selected=!1;break;default:kt(i,a,rt,null,c,N)}for(x in c)if(N=c[x],k=r[x],c.hasOwnProperty(x)&&N!==k&&(N!=null||k!=null))switch(x){case"selected":i.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:kt(i,a,x,N,c,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in r)N=r[nt],r.hasOwnProperty(nt)&&N!=null&&!c.hasOwnProperty(nt)&&kt(i,a,nt,null,c,N);for(D in c)if(N=c[D],k=r[D],c.hasOwnProperty(D)&&N!==k&&(N!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,a));break;default:kt(i,a,D,N,c,k)}return;default:if(Tu(a)){for(var Lt in r)N=r[Lt],r.hasOwnProperty(Lt)&&N!==void 0&&!c.hasOwnProperty(Lt)&&uf(i,a,Lt,void 0,c,N);for(B in c)N=c[B],k=r[B],!c.hasOwnProperty(B)||N===k||N===void 0&&k===void 0||uf(i,a,B,N,c,k);return}}for(var M in r)N=r[M],r.hasOwnProperty(M)&&N!=null&&!c.hasOwnProperty(M)&&kt(i,a,M,null,c,N);for(P in c)N=c[P],k=r[P],!c.hasOwnProperty(P)||N===k||N==null&&k==null||kt(i,a,P,N,c,k)}var hf=null,ff=null;function Lo(i){return i.nodeType===9?i:i.ownerDocument}function ny(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function df(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gf=null;function e1(){var i=window.event;return i&&i.type==="popstate"?i===gf?!1:(gf=i,!0):(gf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(i){return ay.resolve(null).then(i).catch(s1)}:sy;function s1(i){setTimeout(function(){throw i})}function bi(i){return i==="head"}function ly(i,a){var r=a,c=0,f=0;do{var p=r.nextSibling;if(i.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(0<c&&8>c){r=c;var v=i.ownerDocument;if(r&1&&xl(v.documentElement),r&2&&xl(v.body),r&4)for(r=v.head,xl(r),v=r.firstChild;v;){var b=v.nextSibling,x=v.nodeName;v[Ba]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=b}}if(f===0){i.removeChild(p),Dl(a);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:c=r.charCodeAt(0)-48;else c=0;r=p}while(r);Dl(a)}function pf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),vu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}i.removeChild(r)}}function a1(i,a,r,c){for(;i.nodeType===1;){var f=r;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ba])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=hn(i.nextSibling),i===null)break}return null}function l1(i,a,r){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=hn(i.nextSibling),i===null))return null;return i}function mf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function r1(i,a){var r=i.ownerDocument;if(i.data!=="$?"||r.readyState==="complete")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function hn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var _f=null;function ry(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var r=i.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return i;a--}else r==="/$"&&a++}i=i.previousSibling}return null}function oy(i,a,r){switch(a=Lo(r),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function xl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);vu(i)}var sn=new Map,cy=new Set;function zo(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fn=Y.d;Y.d={f:o1,r:c1,D:u1,C:h1,L:f1,m:d1,X:p1,S:g1,M:m1};function o1(){var i=Fn.f(),a=wo();return i||a}function c1(i){var a=ws(i);a!==null&&a.tag===5&&a.type==="form"?Mm(a):Fn.r(i)}var la=typeof document>"u"?null:document;function uy(i,a,r){var c=la;if(c&&typeof a=="string"&&a){var f=Ke(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),cy.has(f)||(cy.add(f),i={rel:i,crossOrigin:r,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),ye(a,"link",i),re(a),c.head.appendChild(a)))}}function u1(i){Fn.D(i),uy("dns-prefetch",i,null)}function h1(i,a){Fn.C(i,a),uy("preconnect",i,a)}function f1(i,a,r){Fn.L(i,a,r);var c=la;if(c&&i&&a){var f='link[rel="preload"][as="'+Ke(a)+'"]';a==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Ke(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Ke(r.imageSizes)+'"]')):f+='[href="'+Ke(i)+'"]';var p=f;switch(a){case"style":p=ra(i);break;case"script":p=oa(i)}sn.has(p)||(i=m({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:i,as:a},r),sn.set(p,i),c.querySelector(f)!==null||a==="style"&&c.querySelector(Cl(p))||a==="script"&&c.querySelector(Tl(p))||(a=c.createElement("link"),ye(a,"link",i),re(a),c.head.appendChild(a)))}}function d1(i,a){Fn.m(i,a);var r=la;if(r&&i){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ke(c)+'"][href="'+Ke(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=oa(i)}if(!sn.has(p)&&(i=m({rel:"modulepreload",href:i},a),sn.set(p,i),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(p)))return}c=r.createElement("link"),ye(c,"link",i),re(c),r.head.appendChild(c)}}}function g1(i,a,r){Fn.S(i,a,r);var c=la;if(c&&i){var f=As(c).hoistableStyles,p=ra(i);a=a||"default";var v=f.get(p);if(!v){var b={loading:0,preload:null};if(v=c.querySelector(Cl(p)))b.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},r),(r=sn.get(p))&&yf(i,r);var x=v=c.createElement("link");re(x),ye(x,"link",i),x._p=new Promise(function(D,B){x.onload=D,x.onerror=B}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Io(v,a,c)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(p,v)}}}function p1(i,a){Fn.X(i,a);var r=la;if(r&&i){var c=As(r).hoistableScripts,f=oa(i),p=c.get(f);p||(p=r.querySelector(Tl(f)),p||(i=m({src:i,async:!0},a),(a=sn.get(f))&&vf(i,a),p=r.createElement("script"),re(p),ye(p,"link",i),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function m1(i,a){Fn.M(i,a);var r=la;if(r&&i){var c=As(r).hoistableScripts,f=oa(i),p=c.get(f);p||(p=r.querySelector(Tl(f)),p||(i=m({src:i,async:!0,type:"module"},a),(a=sn.get(f))&&vf(i,a),p=r.createElement("script"),re(p),ye(p,"link",i),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function hy(i,a,r,c){var f=(f=et.current)?zo(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=ra(r.href),r=As(f).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){i=ra(r.href);var p=As(f).hoistableStyles,v=p.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,v),(p=f.querySelector(Cl(i)))&&!p._p&&(v.instance=p,v.state.loading=5),sn.has(i)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},sn.set(i,r),p||_1(f,i,r,v.state))),a&&c===null)throw Error(s(528,""));return v}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oa(r),r=As(f).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ra(i){return'href="'+Ke(i)+'"'}function Cl(i){return'link[rel="stylesheet"]['+i+"]"}function fy(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function _1(i,a,r,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ye(a,"link",r),re(a),i.head.appendChild(a))}function oa(i){return'[src="'+Ke(i)+'"]'}function Tl(i){return"script[async]"+i}function dy(i,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Ke(r.href)+'"]');if(c)return a.instance=c,re(c),c;var f=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),re(c),ye(c,"style",f),Io(c,r.precedence,i),a.instance=c;case"stylesheet":f=ra(r.href);var p=i.querySelector(Cl(f));if(p)return a.state.loading|=4,a.instance=p,re(p),p;c=fy(r),(f=sn.get(f))&&yf(c,f),p=(i.ownerDocument||i).createElement("link"),re(p);var v=p;return v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),ye(p,"link",c),a.state.loading|=4,Io(p,r.precedence,i),a.instance=p;case"script":return p=oa(r.src),(f=i.querySelector(Tl(p)))?(a.instance=f,re(f),f):(c=r,(f=sn.get(p))&&(c=m({},r),vf(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),re(f),ye(f,"link",c),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Io(c,r.precedence,i));return a.instance}function Io(i,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,v=0;v<c.length;v++){var b=c[v];if(b.dataset.precedence===a)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(i,a.firstChild))}function yf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function vf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ho=null;function gy(i,a,r){if(Ho===null){var c=new Map,f=Ho=new Map;f.set(r,c)}else f=Ho,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(i))return c;for(c.set(i,null),r=r.getElementsByTagName(i),f=0;f<r.length;f++){var p=r[f];if(!(p[Ba]||p[Ee]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=i+v;var b=c.get(v);b?b.push(p):c.set(v,[p])}}return c}function py(i,a,r){i=i.ownerDocument||i,i.head.insertBefore(r,a==="title"?i.querySelector("head > title"):null)}function y1(i,a,r){if(r===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function my(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var wl=null;function v1(){}function b1(i,a,r){if(wl===null)throw Error(s(475));var c=wl;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ra(r.href),p=i.querySelector(Cl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Bo.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=p,re(p);return}p=i.ownerDocument||i,r=fy(r),(f=sn.get(f))&&yf(r,f),p=p.createElement("link"),re(p);var v=p;v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),ye(p,"link",r),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Bo.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function S1(){if(wl===null)throw Error(s(475));var i=wl;return i.stylesheets&&i.count===0&&bf(i,i.stylesheets),0<i.count?function(a){var r=setTimeout(function(){if(i.stylesheets&&bf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(r)}}:null}function Bo(){if(this.count--,this.count===0){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uo=null;function bf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uo=new Map,a.forEach(E1,i),Uo=null,Bo.call(i))}function E1(i,a){if(!(a.state.loading&4)){var r=Uo.get(i);if(r)var c=r.get(null);else{r=new Map,Uo.set(i,r);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),c=v)}c&&r.set(null,c)}f=a.instance,v=f.getAttribute("data-precedence"),p=r.get(v)||c,p===c&&r.set(null,f),r.set(v,f),this.count++,c=Bo.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var Al={$$typeof:I,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function x1(i,a,r,c,f,p,v,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.hiddenUpdates=pu(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function _y(i,a,r,c,f,p,v,b,x,D,B,P){return i=new x1(i,a,r,v,b,x,D,P),a=1,p===!0&&(a|=24),p=Ve(3,null,null,a),i.current=p,p.stateNode=i,a=th(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:r,cache:a},sh(p),i}function yy(i){return i?(i=Us,i):Us}function vy(i,a,r,c,f,p){f=yy(f),c.context===null?c.context=f:c.pendingContext=f,c=ri(a),c.payload={element:r},p=p===void 0?null:p,p!==null&&(c.callback=p),r=oi(i,c,a),r!==null&&(We(r,i,a),il(r,i,a))}function by(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var r=i.retryLane;i.retryLane=r!==0&&r<a?r:a}}function Sf(i,a){by(i,a),(i=i.alternate)&&by(i,a)}function Sy(i){if(i.tag===13){var a=Bs(i,67108864);a!==null&&We(a,i,67108864),Sf(i,67108864)}}var Po=!0;function C1(i,a,r,c){var f=L.T;L.T=null;var p=Y.p;try{Y.p=2,Ef(i,a,r,c)}finally{Y.p=p,L.T=f}}function T1(i,a,r,c){var f=L.T;L.T=null;var p=Y.p;try{Y.p=8,Ef(i,a,r,c)}finally{Y.p=p,L.T=f}}function Ef(i,a,r,c){if(Po){var f=xf(c);if(f===null)cf(i,a,c,jo,r),xy(i,c);else if(A1(f,i,a,r,c))c.stopPropagation();else if(xy(i,c),a&4&&-1<w1.indexOf(i)){for(;f!==null;){var p=ws(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=ji(p.pendingLanes);if(v!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var x=1<<31-Pe(v);b.entanglements[1]|=x,v&=~x}xn(p),(Rt&6)===0&&(Co=yn()+500,bl(0))}}break;case 13:b=Bs(p,2),b!==null&&We(b,p,2),wo(),Sf(p,2)}if(p=xf(c),p===null&&cf(i,a,c,jo,r),p===f)break;f=p}f!==null&&c.stopPropagation()}else cf(i,a,c,null,r)}}function xf(i){return i=Au(i),Cf(i)}var jo=null;function Cf(i){if(jo=null,i=Ts(i),i!==null){var a=o(i);if(a===null)i=null;else{var r=a.tag;if(r===13){if(i=u(a),i!==null)return i;i=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jo=i,null}function Ey(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hE()){case Ig:return 2;case Hg:return 8;case Nr:case fE:return 32;case Bg:return 268435456;default:return 32}default:return 32}}var Tf=!1,Si=null,Ei=null,xi=null,Rl=new Map,Ml=new Map,Ci=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(i,a){switch(i){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Rl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(a.pointerId)}}function Ol(i,a,r,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=ws(a),a!==null&&Sy(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function A1(i,a,r,c,f){switch(a){case"focusin":return Si=Ol(Si,i,a,r,c,f),!0;case"dragenter":return Ei=Ol(Ei,i,a,r,c,f),!0;case"mouseover":return xi=Ol(xi,i,a,r,c,f),!0;case"pointerover":var p=f.pointerId;return Rl.set(p,Ol(Rl.get(p)||null,i,a,r,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Ml.set(p,Ol(Ml.get(p)||null,i,a,r,c,f)),!0}return!1}function Cy(i){var a=Ts(i.target);if(a!==null){var r=o(a);if(r!==null){if(a=r.tag,a===13){if(a=u(r),a!==null){i.blockedOn=a,bE(i.priority,function(){if(r.tag===13){var c=Ge();c=mu(c);var f=Bs(r,c);f!==null&&We(f,r,c),Sf(r,c)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){i.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vo(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var r=xf(i.nativeEvent);if(r===null){r=i.nativeEvent;var c=new r.constructor(r.type,r);wu=c,r.target.dispatchEvent(c),wu=null}else return a=ws(r),a!==null&&Sy(a),i.blockedOn=r,!1;a.shift()}return!0}function Ty(i,a,r){Vo(i)&&r.delete(a)}function R1(){Tf=!1,Si!==null&&Vo(Si)&&(Si=null),Ei!==null&&Vo(Ei)&&(Ei=null),xi!==null&&Vo(xi)&&(xi=null),Rl.forEach(Ty),Ml.forEach(Ty)}function Fo(i,a){i.blockedOn===a&&(i.blockedOn=null,Tf||(Tf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,R1)))}var Yo=null;function wy(i){Yo!==i&&(Yo=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yo===i&&(Yo=null);for(var a=0;a<i.length;a+=3){var r=i[a],c=i[a+1],f=i[a+2];if(typeof c!="function"){if(Cf(c||r)===null)continue;break}var p=ws(r);p!==null&&(i.splice(a,3),a-=3,xh(p,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function Dl(i){function a(x){return Fo(x,i)}Si!==null&&Fo(Si,i),Ei!==null&&Fo(Ei,i),xi!==null&&Fo(xi,i),Rl.forEach(a),Ml.forEach(a);for(var r=0;r<Ci.length;r++){var c=Ci[r];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ci.length&&(r=Ci[0],r.blockedOn===null);)Cy(r),r.blockedOn===null&&Ci.shift();if(r=(i.ownerDocument||i).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],p=r[c+1],v=f[Re]||null;if(typeof p=="function")v||wy(r);else if(v){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[Re]||null)b=v.formAction;else if(Cf(f)!==null)continue}else b=v.action;typeof b=="function"?r[c+1]=b:(r.splice(c,3),c-=3),wy(r)}}}function wf(i){this._internalRoot=i}qo.prototype.render=wf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var r=a.current,c=Ge();vy(r,c,i,a,null,null)},qo.prototype.unmount=wf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;vy(i.current,2,null,i,null,null),wo(),a[Cs]=null}};function qo(i){this._internalRoot=i}qo.prototype.unstable_scheduleHydration=function(i){if(i){var a=Fg();i={blockedOn:null,target:i,priority:a};for(var r=0;r<Ci.length&&a!==0&&a<Ci[r].priority;r++);Ci.splice(r,0,i),r===0&&Cy(i)}};var Ay=t.version;if(Ay!=="19.1.0")throw Error(s(527,Ay,"19.1.0"));Y.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var M1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{za=Go.inject(M1),Ue=Go}catch{}}return kl.createRoot=function(i,a){if(!l(i))throw Error(s(299));var r=!1,c="",f=Fm,p=Ym,v=qm,b=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks)),a=_y(i,1,!1,null,null,r,c,f,p,v,b,null),i[Cs]=a.current,of(i),new wf(a)},kl.hydrateRoot=function(i,a,r){if(!l(i))throw Error(s(299));var c=!1,f="",p=Fm,v=Ym,b=qm,x=null,D=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks),r.formState!==void 0&&(D=r.formState)),a=_y(i,1,!0,a,r??null,c,f,p,v,b,x,D),a.context=yy(null),r=a.current,c=Ge(),c=mu(c),f=ri(c),f.callback=null,oi(r,f,c),r=c,a.current.lanes=r,Ha(a,r),xn(a),i[Cs]=a.current,of(i),new qo(a)},kl.version="19.1.0",kl}var Hy;function V1(){if(Hy)return Mf.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mf.exports=j1(),Mf.exports}var F1=V1(),Ll={},By;function Y1(){if(By)return Ll;By=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=u,Ll.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,S){const E=new o,T=y.length;if(T<2)return E;const C=(S==null?void 0:S.decode)||m;let R=0;do{const H=y.indexOf("=",R);if(H===-1)break;const I=y.indexOf(";",R),F=I===-1?T:I;if(H>F){R=y.lastIndexOf(";",H-1)+1;continue}const V=h(y,R,H),Q=d(y,H,V),tt=y.slice(V,Q);if(E[tt]===void 0){let $=h(y,H+1,F),it=d(y,F,$);const at=C(y.slice($,it));E[tt]=at}R=F+1}while(R<T);return E}function h(y,S,E){do{const T=y.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<E);return E}function d(y,S,E){for(;S>E;){const T=y.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return E}function g(y,S,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=T(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let R=y+"="+C;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!s.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!_(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function _(y){return l.call(y)==="[object Date]"}return Ll}Y1();var Uy="popstate";function q1(n={}){function t(s,l){let{pathname:o,search:u,hash:h}=s.location;return gc("",{pathname:o,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(s,l){return typeof l=="string"?l:va(l)}return jb(t,e,null,n)}function G1(n={}){function t(l,o){let{pathname:u="/",search:h="",hash:d=""}=Ss(l.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),gc("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(l,o){let u=l.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=l.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof o=="string"?o:va(o))}function s(l,o){on(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return jb(t,e,s,n)}function qt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function on(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W1(){return Math.random().toString(36).substring(2,10)}function Py(n,t){return{usr:n.state,key:n.key,idx:t}}function gc(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ss(t):t,state:e,key:t&&t.key||s||W1()}}function va({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Ss(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function jb(n,t,e,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,u=l.history,h="POP",d=null,g=m();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function m(){return(u.state||{idx:null}).idx}function _(){h="POP";let C=m(),R=C==null?null:C-g;g=C,d&&d({action:h,location:T.location,delta:R})}function y(C,R){h="PUSH";let H=gc(T.location,C,R);e&&e(H,C),g=m()+1;let I=Py(H,g),F=T.createHref(H);try{u.pushState(I,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(F)}o&&d&&d({action:h,location:T.location,delta:1})}function S(C,R){h="REPLACE";let H=gc(T.location,C,R);e&&e(H,C),g=m();let I=Py(H,g),F=T.createHref(H);u.replaceState(I,"",F),o&&d&&d({action:h,location:T.location,delta:0})}function E(C){let R=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof C=="string"?C:va(C);return H=H.replace(/ $/,"%20"),qt(R,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,R)}let T={get action(){return h},get location(){return n(l,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(Uy,_),d=C,()=>{l.removeEventListener(Uy,_),d=null}},createHref(C){return t(l,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:S,go(C){return u.go(C)}};return T}function Vb(n,t,e="/"){return X1(n,t,e,!1)}function X1(n,t,e,s){let l=typeof t=="string"?Ss(t):t,o=Zn(l.pathname||"/",e);if(o==null)return null;let u=Fb(n);Q1(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let g=lC(o);h=sC(u[d],g,s)}return h}function Fb(n,t=[],e=[],s=""){let l=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(qt(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let g=Qn([s,d.relativePath]),m=e.concat(d);o.children&&o.children.length>0&&(qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Fb(o.children,t,m,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:nC(g,o.index),routesMeta:m})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))l(o,u);else for(let d of Yb(o.path))l(o,u,d)}),t}function Yb(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,l=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let u=Yb(s.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),l&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Q1(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:iC(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var K1=/^:[\w-]+$/,Z1=3,$1=2,J1=1,tC=10,eC=-2,jy=n=>n==="*";function nC(n,t){let e=n.split("/"),s=e.length;return e.some(jy)&&(s+=eC),t&&(s+=$1),e.filter(l=>!jy(l)).reduce((l,o)=>l+(K1.test(o)?Z1:o===""?J1:tC),s)}function iC(n,t){return n.length===t.length&&n.slice(0,-1).every((s,l)=>s===t[l])?n[n.length-1]-t[t.length-1]:0}function sC(n,t,e=!1){let{routesMeta:s}=n,l={},o="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],g=h===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=pc({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},m),y=d.route;if(!_&&g&&e&&!s[s.length-1].route.index&&(_=pc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!_)return null;Object.assign(l,_.params),u.push({params:l,pathname:Qn([o,_.pathname]),pathnameBase:uC(Qn([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=Qn([o,_.pathnameBase]))}return u}function pc(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=aC(n.path,n.caseSensitive,n.end),l=t.match(e);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((g,{paramName:m,isOptional:_},y)=>{if(m==="*"){let E=h[y]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[y];return _&&!S?g[m]=void 0:g[m]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function aC(n,t=!1,e=!0){on(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function lC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return on(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Zn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}function rC(n,t="/"){let{pathname:e,search:s="",hash:l=""}=typeof n=="string"?Ss(n):n;return{pathname:e?e.startsWith("/")?e:oC(e,t):t,search:hC(s),hash:fC(l)}}function oC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function kf(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Nd(n){let t=cC(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function kd(n,t,e,s=!1){let l;typeof n=="string"?l=Ss(n):(l={...n},qt(!l.pathname||!l.pathname.includes("?"),kf("?","pathname","search",l)),qt(!l.pathname||!l.pathname.includes("#"),kf("#","pathname","hash",l)),qt(!l.search||!l.search.includes("#"),kf("#","search","hash",l)));let o=n===""||l.pathname==="",u=o?"/":l.pathname,h;if(u==null)h=e;else{let _=t.length-1;if(!s&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),_-=1;l.pathname=y.join("/")}h=_>=0?t[_]:"/"}let d=rC(l,h),g=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||m)&&(d.pathname+="/"),d}var Qn=n=>n.join("/").replace(/\/\/+/g,"/"),uC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var qb=["POST","PUT","PATCH","DELETE"];new Set(qb);var gC=["GET",...qb];new Set(gC);var Aa=z.createContext(null);Aa.displayName="DataRouter";var qc=z.createContext(null);qc.displayName="DataRouterState";var Gb=z.createContext({isTransitioning:!1});Gb.displayName="ViewTransition";var pC=z.createContext(new Map);pC.displayName="Fetchers";var mC=z.createContext(null);mC.displayName="Await";var _n=z.createContext(null);_n.displayName="Navigation";var Sr=z.createContext(null);Sr.displayName="Location";var An=z.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Ld=z.createContext(null);Ld.displayName="RouteError";function _C(n,{relative:t}={}){qt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=z.useContext(_n),{hash:l,pathname:o,search:u}=Er(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Qn([e,o])),s.createHref({pathname:h,search:u,hash:l})}function Ra(){return z.useContext(Sr)!=null}function Ui(){return qt(Ra(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Sr).location}var Wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xb(n){z.useContext(_n).static||z.useLayoutEffect(n)}function Ma(){let{isDataRoute:n}=z.useContext(An);return n?OC():yC()}function yC(){qt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Aa),{basename:t,navigator:e}=z.useContext(_n),{matches:s}=z.useContext(An),{pathname:l}=Ui(),o=JSON.stringify(Nd(s)),u=z.useRef(!1);return Xb(()=>{u.current=!0}),z.useCallback((d,g={})=>{if(on(u.current,Wb),!u.current)return;if(typeof d=="number"){e.go(d);return}let m=kd(d,JSON.parse(o),l,g.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Qn([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,o,l,n])}z.createContext(null);function Er(n,{relative:t}={}){let{matches:e}=z.useContext(An),{pathname:s}=Ui(),l=JSON.stringify(Nd(e));return z.useMemo(()=>kd(n,JSON.parse(l),s,t==="path"),[n,l,s,t])}function vC(n,t){return Qb(n,t)}function Qb(n,t,e,s){var H;qt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:o}=z.useContext(_n),{matches:u}=z.useContext(An),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",_=h&&h.route;{let I=_&&_.path||"";Kb(g,!_||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Ui(),S;if(t){let I=typeof t=="string"?Ss(t):t;qt(m==="/"||((H=I.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${I.pathname}" was given in the \`location\` prop.`),S=I}else S=y;let E=S.pathname||"/",T=E;if(m!=="/"){let I=m.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=!o&&e&&e.matches&&e.matches.length>0?e.matches:Vb(n,{pathname:T});on(_||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),on(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=CC(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Qn([m,l.encodeLocation?l.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?m:Qn([m,l.encodeLocation?l.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),u,e,s);return t&&R?z.createElement(Sr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function bC(){let n=MC(),t=dC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:l},e):null,u)}var SC=z.createElement(bC,null),EC=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?z.createElement(An.Provider,{value:this.props.routeContext},z.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xC({routeContext:n,match:t,children:e}){let s=z.useContext(Aa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(An.Provider,{value:n},e)}function CC(n,t=[],e=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,o=e==null?void 0:e.errors;if(o!=null){let d=l.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<l.length;d++){let g=l[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:m,errors:_}=e,y=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||y){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,g,m)=>{let _,y=!1,S=null,E=null;e&&(_=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||SC,u&&(h<0&&m===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):h===m&&(y=!0,E=g.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,m+1)),C=()=>{let R;return _?R=S:y?R=E:g.route.Component?R=z.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=d,z.createElement(xC,{match:g,routeContext:{outlet:d,matches:T,isDataRoute:e!=null},children:R})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?z.createElement(EC,{location:e.location,revalidation:e.revalidation,component:S,error:_,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}function zd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(n){let t=z.useContext(Aa);return qt(t,zd(n)),t}function wC(n){let t=z.useContext(qc);return qt(t,zd(n)),t}function AC(n){let t=z.useContext(An);return qt(t,zd(n)),t}function Id(n){let t=AC(n),e=t.matches[t.matches.length-1];return qt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function RC(){return Id("useRouteId")}function MC(){var s;let n=z.useContext(Ld),t=wC("useRouteError"),e=Id("useRouteError");return n!==void 0?n:(s=t.errors)==null?void 0:s[e]}function OC(){let{router:n}=TC("useNavigate"),t=Id("useNavigate"),e=z.useRef(!1);return Xb(()=>{e.current=!0}),z.useCallback(async(l,o={})=>{on(e.current,Wb),e.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:t,...o}))},[n,t])}var Vy={};function Kb(n,t,e){!t&&!Vy[n]&&(Vy[n]=!0,on(!1,e))}z.memo(DC);function DC({routes:n,future:t,state:e}){return Qb(n,void 0,e,t)}function NC({to:n,replace:t,state:e,relative:s}){qt(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(_n);on(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=z.useContext(An),{pathname:u}=Ui(),h=Ma(),d=kd(n,Nd(o),u,s==="path"),g=JSON.stringify(d);return z.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:s})},[h,g,s,t,e]),null}function fa(n){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zb({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:l,static:o=!1}){qt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof e=="string"&&(e=Ss(e));let{pathname:d="/",search:g="",hash:m="",state:_=null,key:y="default"}=e,S=z.useMemo(()=>{let E=Zn(d,u);return E==null?null:{location:{pathname:E,search:g,hash:m,state:_,key:y},navigationType:s}},[u,d,g,m,_,y,s]);return on(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:z.createElement(_n.Provider,{value:h},z.createElement(Sr.Provider,{children:t,value:S}))}function kC({children:n,location:t}){return vC(ed(n),t)}function ed(n,t=[]){let e=[];return z.Children.forEach(n,(s,l)=>{if(!z.isValidElement(s))return;let o=[...t,l];if(s.type===z.Fragment){e.push.apply(e,ed(s.props.children,o));return}qt(s.type===fa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ed(s.props.children,o)),e.push(u)}),e}var cc="get",uc="application/x-www-form-urlencoded";function Gc(n){return n!=null&&typeof n.tagName=="string"}function LC(n){return Gc(n)&&n.tagName.toLowerCase()==="button"}function zC(n){return Gc(n)&&n.tagName.toLowerCase()==="form"}function IC(n){return Gc(n)&&n.tagName.toLowerCase()==="input"}function HC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BC(n,t){return n.button===0&&(!t||t==="_self")&&!HC(n)}var Wo=null;function UC(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var PC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lf(n){return n!=null&&!PC.has(n)?(on(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function jC(n,t){let e,s,l,o,u;if(zC(n)){let h=n.getAttribute("action");s=h?Zn(h,t):null,e=n.getAttribute("method")||cc,l=Lf(n.getAttribute("enctype"))||uc,o=new FormData(n)}else if(LC(n)||IC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(s=d?Zn(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||cc,l=Lf(n.getAttribute("formenctype"))||Lf(h.getAttribute("enctype"))||uc,o=new FormData(h,n),!UC()){let{name:g,type:m,value:_}=n;if(m==="image"){let y=g?`${g}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else g&&o.append(g,_)}}else{if(Gc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=cc,s=null,l=uc,u=n}return o&&l==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:l,formData:o,body:u}}function Hd(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function VC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YC(n,t,e){let s=await Promise.all(n.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await VC(o,e);return u.links?u.links():[]}return[]}));return XC(s.flat(1).filter(FC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fy(n,t,e,s,l,o){let u=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>{var m;return e[g].pathname!==d.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,g)=>u(d,g)||h(d,g)):o==="data"?t.filter((d,g)=>{var _;let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function qC(n,t,{includeHydrateFallback:e}={}){return GC(n.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function GC(n){return[...new Set(n)]}function WC(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function XC(n,t){let e=new Set;return new Set(t),n.reduce((s,l)=>{let o=JSON.stringify(WC(l));return e.has(o)||(e.add(o),s.push({key:o,link:l})),s},[])}var QC=new Set([100,101,204,205]);function KC(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Zn(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $b(){let n=z.useContext(Aa);return Hd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZC(){let n=z.useContext(qc);return Hd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bd=z.createContext(void 0);Bd.displayName="FrameworkContext";function Jb(){let n=z.useContext(Bd);return Hd(n,"You must render this element inside a <HydratedRouter> element"),n}function $C(n,t){let e=z.useContext(Bd),[s,l]=z.useState(!1),[o,u]=z.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:m,onTouchStart:_}=t,y=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=R=>{R.forEach(H=>{u(H.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[n]),z.useEffect(()=>{if(s){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[s]);let S=()=>{l(!0)},E=()=>{l(!1),u(!1)};return e?n!=="intent"?[o,y,{}]:[o,y,{onFocus:zl(h,S),onBlur:zl(d,E),onMouseEnter:zl(g,S),onMouseLeave:zl(m,E),onTouchStart:zl(_,S)}]:[!1,y,{}]}function zl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function JC({page:n,...t}){let{router:e}=$b(),s=z.useMemo(()=>Vb(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?z.createElement(eT,{page:n,matches:s,...t}):null}function tT(n){let{manifest:t,routeModules:e}=Jb(),[s,l]=z.useState([]);return z.useEffect(()=>{let o=!1;return YC(n,t,e).then(u=>{o||l(u)}),()=>{o=!0}},[n,t,e]),s}function eT({page:n,matches:t,...e}){let s=Ui(),{manifest:l,routeModules:o}=Jb(),{basename:u}=$b(),{loaderData:h,matches:d}=ZC(),g=z.useMemo(()=>Fy(n,t,d,l,s,"data"),[n,t,d,l,s]),m=z.useMemo(()=>Fy(n,t,d,l,s,"assets"),[n,t,d,l,s]),_=z.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let E=new Set,T=!1;if(t.forEach(R=>{var I;let H=l.routes[R.route.id];!H||!H.hasLoader||(!g.some(F=>F.route.id===R.route.id)&&R.route.id in h&&((I=o[R.route.id])!=null&&I.shouldRevalidate)||H.hasClientLoader?T=!0:E.add(R.route.id))}),E.size===0)return[];let C=KC(n,u);return T&&E.size>0&&C.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[u,h,s,l,g,t,n,o]),y=z.useMemo(()=>qC(m,l),[m,l]),S=tT(m);return z.createElement(z.Fragment,null,_.map(E=>z.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),y.map(E=>z.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),S.map(({key:E,link:T})=>z.createElement("link",{key:E,...T})))}function nT(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t0&&(window.__reactRouterVersion="7.5.3")}catch{}function iT({basename:n,children:t,window:e}){let s=z.useRef();s.current==null&&(s.current=q1({window:e,v5Compat:!0}));let l=s.current,[o,u]=z.useState({action:l.action,location:l.location}),h=z.useCallback(d=>{z.startTransition(()=>u(d))},[u]);return z.useLayoutEffect(()=>l.listen(h),[l,h]),z.createElement(Zb,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:l})}function sT({basename:n,children:t,window:e}){let s=z.useRef();s.current==null&&(s.current=G1({window:e,v5Compat:!0}));let l=s.current,[o,u]=z.useState({action:l.action,location:l.location}),h=z.useCallback(d=>{z.startTransition(()=>u(d))},[u]);return z.useLayoutEffect(()=>l.listen(h),[l,h]),z.createElement(Zb,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:l})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=z.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:l,reloadDocument:o,replace:u,state:h,target:d,to:g,preventScrollReset:m,viewTransition:_,...y},S){let{basename:E}=z.useContext(_n),T=typeof g=="string"&&e0.test(g),C,R=!1;if(typeof g=="string"&&T&&(C=g,t0))try{let it=new URL(window.location.href),at=g.startsWith("//")?new URL(it.protocol+g):new URL(g),ft=Zn(at.pathname,E);at.origin===it.origin&&ft!=null?g=ft+at.search+at.hash:R=!0}catch{on(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=_C(g,{relative:l}),[I,F,V]=$C(s,y),Q=oT(g,{replace:u,state:h,target:d,preventScrollReset:m,relative:l,viewTransition:_});function tt(it){t&&t(it),it.defaultPrevented||Q(it)}let $=z.createElement("a",{...y,...V,href:C||H,onClick:R||o?t:tt,ref:nT(S,F),target:d,"data-discover":!T&&e==="render"?"true":void 0});return I&&!T?z.createElement(z.Fragment,null,$,z.createElement(JC,{page:H})):$});n0.displayName="Link";var aT=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:l=!1,style:o,to:u,viewTransition:h,children:d,...g},m){let _=Er(u,{relative:g.relative}),y=Ui(),S=z.useContext(qc),{navigator:E,basename:T}=z.useContext(_n),C=S!=null&&dT(_)&&h===!0,R=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,H=y.pathname,I=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(H=H.toLowerCase(),I=I?I.toLowerCase():null,R=R.toLowerCase()),I&&T&&(I=Zn(I,T)||I);const F=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let V=H===R||!l&&H.startsWith(R)&&H.charAt(F)==="/",Q=I!=null&&(I===R||!l&&I.startsWith(R)&&I.charAt(R.length)==="/"),tt={isActive:V,isPending:Q,isTransitioning:C},$=V?t:void 0,it;typeof s=="function"?it=s(tt):it=[s,V?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let at=typeof o=="function"?o(tt):o;return z.createElement(n0,{...g,"aria-current":$,className:it,ref:m,style:at,to:u,viewTransition:h},typeof d=="function"?d(tt):d)});aT.displayName="NavLink";var lT=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:l,state:o,method:u=cc,action:h,onSubmit:d,relative:g,preventScrollReset:m,viewTransition:_,...y},S)=>{let E=hT(),T=fT(h,{relative:g}),C=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&e0.test(h),H=I=>{if(d&&d(I),I.defaultPrevented)return;I.preventDefault();let F=I.nativeEvent.submitter,V=(F==null?void 0:F.getAttribute("formmethod"))||u;E(F||I.currentTarget,{fetcherKey:t,method:V,navigate:e,replace:l,state:o,relative:g,preventScrollReset:m,viewTransition:_})};return z.createElement("form",{ref:S,method:C,action:T,onSubmit:s?d:H,...y,"data-discover":!R&&n==="render"?"true":void 0})});lT.displayName="Form";function rT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(n){let t=z.useContext(Aa);return qt(t,rT(n)),t}function oT(n,{target:t,replace:e,state:s,preventScrollReset:l,relative:o,viewTransition:u}={}){let h=Ma(),d=Ui(),g=Er(n,{relative:o});return z.useCallback(m=>{if(BC(m,t)){m.preventDefault();let _=e!==void 0?e:va(d)===va(g);h(n,{replace:_,state:s,preventScrollReset:l,relative:o,viewTransition:u})}},[d,h,g,e,s,t,n,l,o,u])}var cT=0,uT=()=>`__${String(++cT)}__`;function hT(){let{router:n}=i0("useSubmit"),{basename:t}=z.useContext(_n),e=RC();return z.useCallback(async(s,l={})=>{let{action:o,method:u,encType:h,formData:d,body:g}=jC(s,t);if(l.navigate===!1){let m=l.fetcherKey||uT();await n.fetch(m,e,l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:g,formMethod:l.method||u,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:g,formMethod:l.method||u,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,t,e])}function fT(n,{relative:t}={}){let{basename:e}=z.useContext(_n),s=z.useContext(An);qt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...Er(n||".",{relative:t})},u=Ui();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let m=h.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Qn([e,o.pathname])),va(o)}function dT(n,t={}){let e=z.useContext(Gb);qt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),l=Er(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Zn(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=Zn(e.nextLocation.pathname,s)||e.nextLocation.pathname;return pc(l.pathname,u)!=null||pc(l.pathname,o)!=null}new TextEncoder;[...QC];const gT=()=>{};var Yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(n,t){if(!n)throw Oa(t)},Oa=function(n){return new Error("Firebase Database ("+s0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},pT=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const l=n[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const o=n[e++];t[s++]=String.fromCharCode((l&31)<<6|o&63)}else if(l>239&&l<365){const o=n[e++],u=n[e++],h=n[e++],d=((l&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],u=n[e++];t[s++]=String.fromCharCode((l&15)<<12|(o&63)<<6|u&63)}}return t.join("")},Ud={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const o=n[l],u=l+1<n.length,h=u?n[l+1]:0,d=l+2<n.length,g=d?n[l+2]:0,m=o>>2,_=(o&3)<<4|h>>4;let y=(h&15)<<2|g>>6,S=g&63;d||(S=64,u||(y=64)),s.push(e[m],e[_],e[y],e[S])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(a0(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pT(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const o=e[n.charAt(l++)],h=l<n.length?e[n.charAt(l)]:0;++l;const g=l<n.length?e[n.charAt(l)]:64;++l;const _=l<n.length?e[n.charAt(l)]:64;if(++l,o==null||h==null||g==null||_==null)throw new mT;const y=o<<2|h>>4;if(s.push(y),g!==64){const S=h<<4&240|g>>2;if(s.push(S),_!==64){const E=g<<6&192|_;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l0=function(n){const t=a0(n);return Ud.encodeByteArray(t,!0)},mc=function(n){return l0(n).replace(/\./g,"")},nd=function(n){try{return Ud.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n){return r0(void 0,n)}function r0(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!yT(e)||(n[e]=r0(n[e],t[e]));return n}function yT(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>vT().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof Yy>"u")return;const n=Yy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ET=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&nd(n[1]);return t&&JSON.parse(t)},o0=()=>{try{return gT()||bT()||ST()||ET()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xT=n=>{var t,e;return(e=(t=o0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},CT=n=>{const t=xT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},c0=()=>{var n;return(n=o0())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mc(JSON.stringify(e)),mc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wT())}function AT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){return s0.NODE_ADMIN===!0}function MT(){try{return typeof indexedDB=="object"}catch{return!1}}function OT(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var o;t(((o=l.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="FirebaseError";class Cr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=DT,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,o=this.errors[t],u=o?NT(o,s):"Error",h=`${this.serviceName}: ${u} (${l}).`;return new Cr(l,h,s)}}function NT(n,t){return n.replace(kT,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const kT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n){return JSON.parse(n)}function ge(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(n){let t={},e={},s={},l="";try{const o=n.split(".");t=rr(nd(o[0])||""),e=rr(nd(o[1])||""),l=o[2],s=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:s,signature:l}},LT=function(n){const t=f0(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},zT=function(n){const t=f0(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ba(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function qy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _c(n,t,e){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=t.call(e,n[l],l,n));return s}function yc(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const o=n[l],u=t[l];if(Gy(o)&&Gy(u)){if(!yc(o,u))return!1}else if(o!==u)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function Gy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const s=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)s[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)s[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const y=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(y<<1|y>>>31)&4294967295}let l=this.chain_[0],o=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^o&(u^h),m=1518500249):(g=o^u^h,m=1859775393):_<60?(g=o&u|h&(o|u),m=2400959708):(g=o^u^h,m=3395469782);const y=(l<<5|l>>>27)+g+d+m+s[_]&4294967295;d=h,h=u,u=(o<<30|o>>>2)&4294967295,o=l,l=y}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const s=e-this.blockSize;let l=0;const o=this.buf_;let u=this.inbuf_;for(;l<e;){if(u===0)for(;l<=s;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(o[u]=t.charCodeAt(l),++u,++l,u===this.blockSize){this.compress_(o),u=0;break}}else for(;l<e;)if(o[u]=t[l],++u,++l,u===this.blockSize){this.compress_(o),u=0;break}}this.inbuf_=u,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=e&255,e/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let o=24;o>=0;o-=8)t[s]=this.chain_[l]>>o&255,++s;return t}}function Wc(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const o=l-55296;s++,q(s<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(s)-56320;l=65536+(o<<10)+u}l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):l<65536?(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},Xc=function(n){let t=0;for(let e=0;e<n.length;e++){const s=n.charCodeAt(e);s<128?t++:s<2048?t+=2:s>=55296&&s<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(n){return n&&n._delegate?n._delegate:n}class or{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new xr;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jT(t))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:l});s.resolve(o)}catch{}}}}clearInstance(t=cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=cs){return this.instances.has(t)}getOptions(t=cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&u.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),o=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;o.add(t),this.onInitCallbacks.set(l,o);const u=this.instances.get(l);return u&&t(u,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PT(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=cs){return this.component?this.component.multipleInstances?t:cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(n){return n===cs?void 0:n}function jT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new UT(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const FT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},YT=Ut.INFO,qT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},GT=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),l=qT[t];if(l)console[l](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d0{constructor(t){this.name=t,this._logLevel=YT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const WT=(n,t)=>t.some(e=>n instanceof e);let Wy,Xy;function XT(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,id=new WeakMap,p0=new WeakMap,zf=new WeakMap,Pd=new WeakMap;function KT(n){const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Oi(n.result)),l()},u=()=>{s(n.error),l()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&g0.set(e,n)}).catch(()=>{}),Pd.set(t,n),t}function ZT(n){if(id.has(n))return;const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),l()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});id.set(n,t)}let sd={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return id.get(n);if(t==="objectStoreNames")return n.objectStoreNames||p0.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Oi(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function $T(n){sd=n(sd)}function JT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(If(this),t,...e);return p0.set(s,t.sort?t.sort():[t]),Oi(s)}:QT().includes(n)?function(...t){return n.apply(If(this),t),Oi(g0.get(this))}:function(...t){return Oi(n.apply(If(this),t))}}function tw(n){return typeof n=="function"?JT(n):(n instanceof IDBTransaction&&ZT(n),WT(n,XT())?new Proxy(n,sd):n)}function Oi(n){if(n instanceof IDBRequest)return KT(n);if(zf.has(n))return zf.get(n);const t=tw(n);return t!==n&&(zf.set(n,t),Pd.set(t,n)),t}const If=n=>Pd.get(n);function ew(n,t,{blocked:e,upgrade:s,blocking:l,terminated:o}={}){const u=indexedDB.open(n,t),h=Oi(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Oi(u.result),d.oldVersion,d.newVersion,Oi(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),l&&d.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const nw=["get","getKey","getAll","getAllKeys","count"],iw=["put","add","delete","clear"],Hf=new Map;function Qy(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Hf.get(t))return Hf.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=iw.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||nw.includes(e)))return;const o=async function(u,...h){const d=this.transaction(u,l?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),l&&d.done]))[0]};return Hf.set(t,o),o}$T(n=>({...n,get:(t,e,s)=>Qy(t,e)||n.get(t,e,s),has:(t,e)=>!!Qy(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(aw(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function aw(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ad="@firebase/app",Ky="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new d0("@firebase/app"),lw="@firebase/app-compat",rw="@firebase/analytics-compat",ow="@firebase/analytics",cw="@firebase/app-check-compat",uw="@firebase/app-check",hw="@firebase/auth",fw="@firebase/auth-compat",dw="@firebase/database",gw="@firebase/data-connect",pw="@firebase/database-compat",mw="@firebase/functions",_w="@firebase/functions-compat",yw="@firebase/installations",vw="@firebase/installations-compat",bw="@firebase/messaging",Sw="@firebase/messaging-compat",Ew="@firebase/performance",xw="@firebase/performance-compat",Cw="@firebase/remote-config",Tw="@firebase/remote-config-compat",ww="@firebase/storage",Aw="@firebase/storage-compat",Rw="@firebase/firestore",Mw="@firebase/vertexai",Ow="@firebase/firestore-compat",Dw="firebase",Nw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",kw={[ad]:"fire-core",[lw]:"fire-core-compat",[ow]:"fire-analytics",[rw]:"fire-analytics-compat",[uw]:"fire-app-check",[cw]:"fire-app-check-compat",[hw]:"fire-auth",[fw]:"fire-auth-compat",[dw]:"fire-rtdb",[gw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[mw]:"fire-fn",[_w]:"fire-fn-compat",[yw]:"fire-iid",[vw]:"fire-iid-compat",[bw]:"fire-fcm",[Sw]:"fire-fcm-compat",[Ew]:"fire-perf",[xw]:"fire-perf-compat",[Cw]:"fire-rc",[Tw]:"fire-rc-compat",[ww]:"fire-gcs",[Aw]:"fire-gcs-compat",[Rw]:"fire-fst",[Ow]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[Dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,Lw=new Map,rd=new Map;function Zy(n,t){try{n.container.addComponent(t)}catch(e){$n.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function bc(n){const t=n.name;if(rd.has(t))return $n.debug(`There were multiple attempts to register component ${t}.`),!1;rd.set(t,n);for(const e of vc.values())Zy(e,n);for(const e of Lw.values())Zy(e,n);return!0}function zw(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Iw(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new h0("app","Firebase",Hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=Nw;function m0(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ld,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Di.create("bad-app-name",{appName:String(l)});if(e||(e=c0()),!e)throw Di.create("no-options");const o=vc.get(l);if(o){if(yc(e,o.options)&&yc(s,o.config))return o;throw Di.create("duplicate-app",{appName:l})}const u=new VT(l);for(const d of rd.values())u.addComponent(d);const h=new Bw(e,s,u);return vc.set(l,h),h}function Pw(n=ld){const t=vc.get(n);if(!t&&n===ld&&c0())return m0();if(!t)throw Di.create("no-app",{appName:n});return t}function ga(n,t,e){var s;let l=(s=kw[n])!==null&&s!==void 0?s:n;e&&(l+=`-${e}`);const o=l.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$n.warn(h.join(" "));return}bc(new or(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Vw=1,cr="firebase-heartbeat-store";let Bf=null;function _0(){return Bf||(Bf=ew(jw,Vw,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(cr)}catch(e){console.warn(e)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),Bf}async function Fw(n){try{const e=(await _0()).transaction(cr),s=await e.objectStore(cr).get(y0(n));return await e.done,s}catch(t){if(t instanceof Cr)$n.warn(t.message);else{const e=Di.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$n.warn(e.message)}}}async function $y(n,t){try{const s=(await _0()).transaction(cr,"readwrite");await s.objectStore(cr).put(t,y0(n)),await s.done}catch(e){if(e instanceof Cr)$n.warn(e.message);else{const s=Di.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});$n.warn(s.message)}}}function y0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=1024,qw=30;class Gw{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Xw(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:l}),this._heartbeatsCache.heartbeats.length>qw){const u=Qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$n.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jy(),{heartbeatsToSend:s,unsentEntries:l}=Ww(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $n.warn(e),""}}}function Jy(){return new Date().toISOString().substring(0,10)}function Ww(n,t=Yw){const e=[];let s=n.slice();for(const l of n){const o=e.find(u=>u.agent===l.agent);if(o){if(o.dates.push(l.date),tv(e)>t){o.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),tv(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class Xw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MT()?OT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Fw(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return $y(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return $y(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function tv(n){return mc(JSON.stringify({version:2,heartbeats:n})).length}function Qw(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){bc(new or("platform-logger",t=>new sw(t),"PRIVATE")),bc(new or("heartbeat",t=>new Gw(t),"PRIVATE")),ga(ad,Ky,n),ga(ad,Ky,"esm2017"),ga("fire-js","")}Kw("");var Zw="firebase",$w="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(Zw,$w,"app");var ev={};const nv="@firebase/database",iv="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0="";function Jw(n){v0=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:rr(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tA(t)}}catch{}return new eA},fs=b0("localStorage"),nA=b0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new d0("@firebase/database"),iA=function(){let n=1;return function(){return n++}}(),S0=function(n){const t=BT(n),e=new HT;e.update(t);const s=e.digest();return Ud.encodeByteArray(s)},wr=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=wr.apply(null,s):typeof s=="object"?t+=ge(s):t+=s,t+=" "}return t};let Zl=null,sv=!0;const sA=function(n,t){q(!0,"Can't turn on custom loggers persistently."),pa.logLevel=Ut.VERBOSE,Zl=pa.log.bind(pa)},ve=function(...n){if(sv===!0&&(sv=!1,Zl===null&&nA.get("logging_enabled")===!0&&sA()),Zl){const t=wr.apply(null,n);Zl(t)}},Ar=function(n){return function(...t){ve(n,...t)}},od=function(...n){const t="FIREBASE INTERNAL ERROR: "+wr(...n);pa.error(t)},Jn=function(...n){const t=`FIREBASE FATAL ERROR: ${wr(...n)}`;throw pa.error(t),new Error(t)},Ae=function(...n){const t="FIREBASE WARNING: "+wr(...n);pa.warn(t)},aA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ae("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jd=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},lA=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Sa="[MIN_NAME]",ps="[MAX_NAME]",Es=function(n,t){if(n===t)return 0;if(n===Sa||t===ps)return-1;if(t===Sa||n===ps)return 1;{const e=av(n),s=av(t);return e!==null?s!==null?e-s===0?n.length-t.length:e-s:-1:s!==null?1:n<t?-1:1}},rA=function(n,t){return n===t?0:n<t?-1:1},Il=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+ge(t))},Vd=function(n){if(typeof n!="object"||n===null)return ge(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)s!==0&&(e+=","),e+=ge(t[s]),e+=":",e+=Vd(n[t[s]]);return e+="}",e},E0=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)l+t>e?s.push(n.substring(l,e)):s.push(n.substring(l,l+t));return s};function Se(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const x0=function(n){q(!jd(n),"Invalid JSON number");const t=11,e=52,s=(1<<t-1)-1;let l,o,u,h,d;n===0?(o=0,u=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),o=h+s,u=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,u=Math.round(n/Math.pow(2,1-s-e))));const g=[];for(d=e;d;d-=1)g.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(l?1:0),g.reverse();const m=g.join("");let _="";for(d=0;d<64;d+=8){let y=parseInt(m.substr(d,8),2).toString(16);y.length===1&&(y="0"+y),_=_+y}return _.toLowerCase()},oA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uA(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}const hA=new RegExp("^-?(0*)\\d{1,10}$"),fA=-2147483648,dA=2147483647,av=function(n){if(hA.test(n)){const t=Number(n);if(t>=fA&&t<=dA)return t}return null},Da=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Ae("Exception was thrown by user callback.",e),t},Math.floor(0))}},gA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$l=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,Iw(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e==null?void 0:e.getImmediate({optional:!0}),this.appCheck||e==null||e.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Ae(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ae(t)}}class hc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}hc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="5",C0="v",T0="s",w0="r",A0="f",R0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M0="ls",O0="p",cd="ac",D0="websocket",N0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,e,s,l,o=!1,u="",h=!1,d=!1,g=null){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function _A(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function L0(n,t,e){q(typeof t=="string","typeof type must == string"),q(typeof e=="object","typeof params must == object");let s;if(t===D0)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===N0)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);_A(n)&&(e.ns=n.namespace);const l=[];return Se(e,(o,u)=>{l.push(o+"="+u)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.counters_={}}incrementCounter(t,e=1){Rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return _T(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf={},Pf={};function Yd(n){const t=n.toString();return Uf[t]||(Uf[t]=new yA),Uf[t]}function vA(n,t){const e=n.toString();return Pf[e]||(Pf[e]=t()),Pf[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Da(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="start",SA="close",EA="pLPCommand",xA="pRTLPCB",z0="id",I0="pw",H0="ser",CA="cb",TA="seg",wA="ts",AA="d",RA="dframe",B0=1870,U0=30,MA=B0-U0,OA=25e3,DA=3e4;class da{constructor(t,e,s,l,o,u,h){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ar(t),this.stats_=Yd(e),this.urlFn=d=>(this.appCheckToken&&(d[cd]=this.appCheckToken),L0(e,N0,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DA)),lA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qd((...o)=>{const[u,h,d,g,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===lv)this.id=h,this.password=d;else if(u===SA)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[lv]="t",s[H0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[CA]=this.scriptTagHolder.uniqueCallbackIdentifier),s[C0]=Fd,this.transportSessionId&&(s[T0]=this.transportSessionId),this.lastSessionId&&(s[M0]=this.lastSessionId),this.applicationId&&(s[O0]=this.applicationId),this.appCheckToken&&(s[cd]=this.appCheckToken),typeof location<"u"&&location.hostname&&R0.test(location.hostname)&&(s[w0]=A0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){da.forceAllow_=!0}static forceDisallow(){da.forceDisallow_=!0}static isAvailable(){return da.forceAllow_?!0:!da.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oA()&&!cA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=ge(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=l0(e),l=E0(s,MA);for(let o=0;o<l.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const s={};s[RA]="t",s[z0]=t,s[I0]=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=ge(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class qd{constructor(t,e,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iA(),window[EA+this.uniqueCallbackIdentifier]=t,window[xA+this.uniqueCallbackIdentifier]=e,this.myIFrame=qd.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){ve("frame writing exception"),h.stack&&ve(h.stack),ve(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ve("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[z0]=this.myID,t[I0]=this.myPW,t[H0]=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+U0+s.length<=B0;){const u=this.pendingSegs.shift();s=s+"&"+TA+l+"="+u.seg+"&"+wA+l+"="+u.ts+"&"+AA+l+"="+u.d,l++}return e=e+s,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(OA)),o=()=>{clearTimeout(l),s()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=16384,kA=45e3;let Sc=null;typeof MozWebSocket<"u"?Sc=MozWebSocket:typeof WebSocket<"u"&&(Sc=WebSocket);class fn{constructor(t,e,s,l,o,u,h){this.connId=t,this.applicationId=s,this.appCheckToken=l,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ar(this.connId),this.stats_=Yd(e),this.connURL=fn.connectionURL_(e,u,h,l,s),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,s,l,o){const u={};return u[C0]=Fd,typeof location<"u"&&location.hostname&&R0.test(location.hostname)&&(u[w0]=A0),e&&(u[T0]=e),s&&(u[M0]=s),l&&(u[cd]=l),o&&(u[O0]=o),L0(t,D0,u)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let s;RT(),this.mySock=new Sc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(e);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&Sc!==null&&!fn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const s=rr(e);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const s=this.extractFrameCount_(e);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const e=ge(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=E0(e,NA);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kA))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{static get ALL_TRANSPORTS(){return[da,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=fn&&fn.isAvailable();let s=e&&!fn.previouslyFailed();if(t.webSocketOnly&&(e||Ae("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[fn];else{const l=this.transports_=[];for(const o of ur.ALL_TRANSPORTS)o&&o.isAvailable()&&l.push(o);ur.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ur.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6e4,zA=5e3,IA=10*1024,HA=100*1024,jf="t",rv="d",BA="s",ov="r",UA="e",cv="o",uv="a",hv="n",fv="p",PA="h";class jA{constructor(t,e,s,l,o,u,h,d,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ar("c:"+this.id+":"),this.transportManager_=new ur(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=$l(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(jf in t){const e=t[jf];e===uv?this.upgradeIfSecondaryHealthy_():e===ov?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===cv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Il("t",t),s=Il("d",t);if(e==="c")this.onSecondaryControl_(s);else if(e==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Il("t",t),s=Il("d",t);e==="c"?this.onControl_(s):e==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Il(jf,t);if(rv in t){const s=t[rv];if(e===PA){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(e===hv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===BA?this.onConnectionShutdown_(s):e===ov?this.onReset_(s):e===UA?od("Server Error: "+s):e===cv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):od("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Fd!==s&&Ae("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),$l(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LA))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$l(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let o=0;o<l.length;o++)if(l[o].callback===e&&(!s||s===l[o].context)){l.splice(o,1);return}}validateEventType_(t){q(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends j0{static getInstance(){return new Ec}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!u0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=32,gv=768;class zt{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function At(){return new zt("")}function yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ii(n){return n.pieces_.length-n.pieceNum_}function Pt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new zt(n.pieces_,t)}function Gd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function VA(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function hr(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function V0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new zt(t,0)}function Qt(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof zt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new zt(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function ze(n,t){const e=yt(n),s=yt(t);if(e===null)return t;if(e===s)return ze(Pt(n),Pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function FA(n,t){const e=hr(n,0),s=hr(t,0);for(let l=0;l<e.length&&l<s.length;l++){const o=Es(e[l],s[l]);if(o!==0)return o}return e.length===s.length?0:e.length<s.length?-1:1}function Wd(n,t){if(Ii(n)!==Ii(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function ln(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ii(n)>Ii(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class YA{constructor(t,e){this.errorPrefix_=e,this.parts_=hr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Xc(this.parts_[s]);F0(this)}}function qA(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Xc(t),F0(n)}function GA(n){const t=n.parts_.pop();n.byteLength_-=Xc(t),n.parts_.length>0&&(n.byteLength_-=1)}function F0(n){if(n.byteLength_>gv)throw new Error(n.errorPrefix_+"has a key path longer than "+gv+" bytes ("+n.byteLength_+").");if(n.parts_.length>dv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dv+") or object contains a cycle "+us(n))}function us(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends j0{static getInstance(){return new Xd}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return q(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=1e3,WA=60*5*1e3,pv=30*1e3,XA=1.3,QA=3e4,KA="server_kill",mv=3;class Kn extends P0{constructor(t,e,s,l,o,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Kn.nextPersistentConnectionId_++,this.log_=Ar("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hl,this.maxReconnectDelay_=WA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ec.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,s){const l=++this.requestNumber_,o={r:l,a:t,b:e};this.log_(ge(o)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),s&&(this.requestCBHash_[l]=s)}get(t){this.initConnection_();const e=new xr,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,s,l){this.initConnection_();const o=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:e,query:t,tag:s};this.listens.get(u).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(s)})}sendListen_(t){const e=t.query,s=e._path.toString(),l=e._queryIdentifier;this.log_("Listen on "+s+" for "+l);const o={p:s},u="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(u,o,h=>{const d=h.d,g=h.s;Kn.warnOnListenWarnings_(d,e),(this.listens.get(s)&&this.listens.get(s).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Rn(t,"w")){const s=ba(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();Ae(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pv)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=LT(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(e,s,l=>{const o=l.s,u=l.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,s=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,s)})}unlisten(t,e){const s=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,t._queryObject,e)}sendUnlisten_(t,e,s,l){this.log_("Unlisten on "+t+" for "+e);const o={p:t},u="n";l&&(o.q=s,o.t=l),this.sendRequest(u,o)}onDisconnectPut(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:s})}onDisconnectMerge(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:s})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,s,l){const o={p:e,d:s};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,u=>{l&&setTimeout(()=>{l(u.s,u.d)},Math.floor(0))})}put(t,e,s,l){this.putInternal("p",t,e,s,l)}merge(t,e,s,l){this.putInternal("m",t,e,s,l)}putInternal(t,e,s,l,o){this.initConnection_();const u={p:e,d:s};o!==void 0&&(u.h=o),this.outstandingPuts_.push({action:t,request:u,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,s,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,s=>{if(s.s!=="ok"){const o=s.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ge(t));const e=t.r,s=this.requestCBHash_[e];s&&(delete this.requestCBHash_[e],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):od("Unrecognized action received from server: "+ge(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QA&&(this.reconnectDelay_=Hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Kn.nextConnectionId_++,o=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},g=function(_){q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?ve("getToken() completed but was canceled"):(ve("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,h=new jA(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,s,S=>{Ae(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(KA)},o))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Ae(_),d())}}}interrupt(t){ve("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ve("Resuming connection for reason: "+t),delete this.interruptReasons_[t],qy(this.interruptReasons_)&&(this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let s;e?s=e.map(o=>Vd(o)).join("$"):s="default";const l=this.removeListen_(t,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,e){const s=new zt(t).toString();let l;if(this.listens.has(s)){const o=this.listens.get(s);l=o.get(e),o.delete(e),o.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(t,e){ve("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mv&&(this.reconnectDelay_=pv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){ve("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+v0.replace(/\./g,"-")]=1,u0()?t["framework.cordova"]=1:AT()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ec.getInstance().currentlyOnline();return qy(this.interruptReasons_)&&t}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new vt(Sa,t),l=new vt(Sa,e);return this.compare(s,l)!==0}minPost(){return vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo;class Y0 extends Qc{static get __EMPTY_NODE(){return Xo}static set __EMPTY_NODE(t){Xo=t}compare(t,e){return Es(t.name,e.name)}isDefinedOn(t){throw Oa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vt.MIN}maxPost(){return new vt(ps,Xo)}makePost(t,e){return q(typeof t=="string","KeyIndex indexValue must always be a string."),new vt(t,Xo)}toString(){return".key"}}const ma=new Y0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,e,s,l,o=null){this.isReverse_=l,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?s(t.key,e):1,l&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class fe{constructor(t,e,s,l,o){this.key=t,this.value=e,this.color=s??fe.RED,this.left=l??Ie.EMPTY_NODE,this.right=o??Ie.EMPTY_NODE}copy(t,e,s,l,o){return new fe(t??this.key,e??this.value,s??this.color,l??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const o=s(t,l.key);return o<0?l=l.copy(null,null,null,l.left.insert(t,e,s),null):o===0?l=l.copy(null,e,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ie.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let s,l;if(s=this,e(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),e(t,s.key)===0){if(s.right.isEmpty())return Ie.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}fe.RED=!0;fe.BLACK=!1;class ZA{copy(t,e,s,l,o){return this}insert(t,e,s){return new fe(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ie{constructor(t,e=Ie.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ie(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,fe.BLACK,null,null))}remove(t){return new Ie(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,fe.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),e===0)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();)if(e=this.comparator_(t,s.key),e===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else e<0?s=s.left:e>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Qo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Qo(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Qo(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Qo(this.root_,null,this.comparator_,!0,t)}}Ie.EMPTY_NODE=new ZA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,t){return Es(n.name,t.name)}function Qd(n,t){return Es(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;function JA(n){ud=n}const q0=function(n){return typeof n=="number"?"number:"+x0(n):"string:"+n},G0=function(n){if(n.isLeafNode()){const t=n.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Rn(t,".sv"),"Priority must be a string or number.")}else q(n===ud||n.isEmpty(),"priority of unexpected type.");q(n===ud||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v;class he{static set __childrenNodeConstructor(t){_v=t}static get __childrenNodeConstructor(){return _v}constructor(t,e=he.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new he(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Et(t)?this:yt(t)===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:he.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const s=yt(t);return s===null?e:e.isEmpty()&&s!==".priority"?this:(q(s!==".priority"||Ii(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,he.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pt(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+q0(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=x0(this.value_):t+=this.value_,this.lazyHash_=S0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===he.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof he.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,s=typeof this.value_,l=he.VALUE_TYPE_ORDER.indexOf(e),o=he.VALUE_TYPE_ORDER.indexOf(s);return q(l>=0,"Unknown leaf type: "+e),q(o>=0,"Unknown leaf type: "+s),l===o?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}he.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0,X0;function tR(n){W0=n}function eR(n){X0=n}class nR extends Qc{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),o=s.compareTo(l);return o===0?Es(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(ps,new he("[PRIORITY-POST]",X0))}makePost(t,e){const s=W0(t);return new vt(e,new he("[PRIORITY-POST]",s))}toString(){return".priority"}}const Kt=new nR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=Math.log(2);class sR{constructor(t){const e=o=>parseInt(Math.log(o)/iR,10),s=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const l=s(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xc=function(n,t,e,s){n.sort(t);const l=function(d,g){const m=g-d;let _,y;if(m===0)return null;if(m===1)return _=n[d],y=e?e(_):_,new fe(y,_.node,fe.BLACK,null,null);{const S=parseInt(m/2,10)+d,E=l(d,S),T=l(S+1,g);return _=n[S],y=e?e(_):_,new fe(y,_.node,fe.BLACK,E,T)}},o=function(d){let g=null,m=null,_=n.length;const y=function(E,T){const C=_-E,R=_;_-=E;const H=l(C+1,R),I=n[C],F=e?e(I):I;S(new fe(F,I.node,T,null,H))},S=function(E){g?(g.left=E,g=E):(m=E,g=E)};for(let E=0;E<d.count;++E){const T=d.nextBitIsOne(),C=Math.pow(2,d.count-(E+1));T?y(C,fe.BLACK):(y(C,fe.BLACK),y(C,fe.RED))}return m},u=new sR(n.length),h=o(u);return new Ie(s||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;const ca={};class Xn{static get Default(){return q(ca&&Kt,"ChildrenNode.ts has not been loaded"),Vf=Vf||new Xn({".priority":ca},{".priority":Kt}),Vf}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=ba(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ie?e:null}hasIndex(t){return Rn(this.indexSet_,t.toString())}addIndex(t,e){q(t!==ma,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const o=e.getIterator(vt.Wrap);let u=o.getNext();for(;u;)l=l||t.isDefinedOn(u.node),s.push(u),u=o.getNext();let h;l?h=xc(s,t.getCompare()):h=ca;const d=t.toString(),g=Object.assign({},this.indexSet_);g[d]=t;const m=Object.assign({},this.indexes_);return m[d]=h,new Xn(m,g)}addToIndexes(t,e){const s=_c(this.indexes_,(l,o)=>{const u=ba(this.indexSet_,o);if(q(u,"Missing index implementation for "+o),l===ca)if(u.isDefinedOn(t.node)){const h=[],d=e.getIterator(vt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),xc(h,u.getCompare())}else return ca;else{const h=e.get(t.name);let d=l;return h&&(d=d.remove(new vt(t.name,h))),d.insert(t,t.node)}});return new Xn(s,this.indexSet_)}removeFromIndexes(t,e){const s=_c(this.indexes_,l=>{if(l===ca)return l;{const o=e.get(t.name);return o?l.remove(new vt(t.name,o)):l}});return new Xn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;class ot{static get EMPTY_NODE(){return Bl||(Bl=new ot(new Ie(Qd),null,Xn.Default))}constructor(t,e,s){this.children_=t,this.priorityNode_=e,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&G0(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bl}updatePriority(t){return this.children_.isEmpty()?this:new ot(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Bl:e}}getChild(t){const e=yt(t);return e===null?this:this.getImmediateChild(e).getChild(Pt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(q(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const s=new vt(t,e);let l,o;e.isEmpty()?(l=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(s,this.children_));const u=l.isEmpty()?Bl:this.priorityNode_;return new ot(l,u,o)}}updateChild(t,e){const s=yt(t);if(s===null)return e;{q(yt(t)!==".priority"||Ii(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Pt(t),e);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let s=0,l=0,o=!0;if(this.forEachChild(Kt,(u,h)=>{e[u]=h.val(t),s++,o&&ot.INTEGER_REGEXP_.test(u)?l=Math.max(l,Number(u)):o=!1}),!t&&o&&l<2*s){const u=[];for(const h in e)u[h]=e[h];return u}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+q0(this.getPriority().val())+":"),this.forEachChild(Kt,(e,s)=>{const l=s.hash();l!==""&&(t+=":"+e+":"+l)}),this.lazyHash_=t===""?"":S0(t)}return this.lazyHash_}getPredecessorChildName(t,e,s){const l=this.resolveIndex_(s);if(l){const o=l.getPredecessorKey(new vt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null}forEachChild(t,e){const s=this.resolveIndex_(t);return s?s.inorderTraversal(l=>e(l.name,l.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,vt.Wrap);let o=l.peek();for(;o!=null&&e.compare(o,t)<0;)l.getNext(),o=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,vt.Wrap);let o=l.peek();for(;o!=null&&e.compare(o,t)>0;)l.getNext(),o=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rr?-1:0}withIndex(t){if(t===ma||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ot(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===ma||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const s=this.getIterator(Kt),l=e.getIterator(Kt);let o=s.getNext(),u=l.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=s.getNext(),u=l.getNext()}return o===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===ma?null:this.indexMap_.get(t.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aR extends ot{constructor(){super(new Ie(Qd),ot.EMPTY_NODE,Xn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ot.EMPTY_NODE}isEmpty(){return!1}}const Rr=new aR;Object.defineProperties(vt,{MIN:{value:new vt(Sa,ot.EMPTY_NODE)},MAX:{value:new vt(ps,Rr)}});Y0.__EMPTY_NODE=ot.EMPTY_NODE;he.__childrenNodeConstructor=ot;JA(Rr);eR(Rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=!0;function de(n,t=null){if(n===null)return ot.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new he(e,de(t))}if(!(n instanceof Array)&&lR){const e=[];let s=!1;if(Se(n,(u,h)=>{if(u.substring(0,1)!=="."){const d=de(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),e.push(new vt(u,d)))}}),e.length===0)return ot.EMPTY_NODE;const o=xc(e,$A,u=>u.name,Qd);if(s){const u=xc(e,Kt.getCompare());return new ot(o,de(t),new Xn({".priority":u},{".priority":Kt}))}else return new ot(o,de(t),Xn.Default)}else{let e=ot.EMPTY_NODE;return Se(n,(s,l)=>{if(Rn(n,s)&&s.substring(0,1)!=="."){const o=de(l);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(s,o))}}),e.updatePriority(de(t))}}tR(de);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends Qc{constructor(t){super(),this.indexPath_=t,q(!Et(t)&&yt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),o=s.compareTo(l);return o===0?Es(t.name,e.name):o}makePost(t,e){const s=de(t),l=ot.EMPTY_NODE.updateChild(this.indexPath_,s);return new vt(e,l)}maxPost(){const t=ot.EMPTY_NODE.updateChild(this.indexPath_,Rr);return new vt(ps,t)}toString(){return hr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Qc{compare(t,e){const s=t.node.compareTo(e.node);return s===0?Es(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(t,e){const s=de(t);return new vt(e,s)}toString(){return".value"}}const cR=new oR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){return{type:"value",snapshotNode:n}}function Ea(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function fr(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function dr(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function uR(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t){this.index_=t}updateChild(t,e,s,l,o,u){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?t.hasChild(e)?u.trackChildChange(fr(e,h)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Ea(e,s)):u.trackChildChange(dr(e,s,h))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return s!=null&&(t.isLeafNode()||t.forEachChild(Kt,(l,o)=>{e.hasChild(l)||s.trackChildChange(fr(l,o))}),e.isLeafNode()||e.forEachChild(Kt,(l,o)=>{if(t.hasChild(l)){const u=t.getImmediateChild(l);u.equals(o)||s.trackChildChange(dr(l,o,u))}else s.trackChildChange(Ea(l,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ot.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.indexedFilter_=new Kd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gr.getStartPost_(t),this.endPost_=gr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,l,o,u){return this.matches(new vt(e,s))||(s=ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,o,u)}updateFullNode(t,e,s){e.isLeafNode()&&(e=ot.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ot.EMPTY_NODE);const o=this;return e.forEachChild(Kt,(u,h)=>{o.matches(new vt(u,h))||(l=l.updateImmediateChild(u,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new gr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,l,o,u){return this.rangedFilter_.matches(new vt(e,s))||(s=ot.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,o,u):this.fullLimitUpdateChild_(t,e,s,o,u)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){l=ot.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{l=e.withIndex(this.index_),l=l.updatePriority(ot.EMPTY_NODE);let o;this.reverse_?o=l.getReverseIterator(this.index_):o=l.getIterator(this.index_);let u=0;for(;o.hasNext();){const h=o.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:l=l.updateImmediateChild(h.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,o){let u;if(this.reverse_){const _=this.index_.getCompare();u=(y,S)=>_(S,y)}else u=this.index_.getCompare();const h=t;q(h.numChildren()===this.limit_,"");const d=new vt(e,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(h.hasChild(e)){const _=h.getImmediateChild(e);let y=l.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===e||h.hasChild(y.name));)y=l.getChildAfterChild(this.index_,y,this.reverse_);const S=y==null?1:u(y,d);if(m&&!s.isEmpty()&&S>=0)return o!=null&&o.trackChildChange(dr(e,s,_)),h.updateImmediateChild(e,s);{o!=null&&o.trackChildChange(fr(e,_));const T=h.updateImmediateChild(e,ot.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(Ea(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}}else return s.isEmpty()?t:m&&u(g,d)>=0?(o!=null&&(o.trackChildChange(fr(g.name,g.node)),o.trackChildChange(Ea(e,s))),h.updateImmediateChild(e,s).updateImmediateChild(g.name,ot.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sa}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kt}copy(){const t=new Zd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fR(n){return n.loadsAllData()?new Kd(n.getIndex()):n.hasLimit()?new hR(n):new gr(n)}function yv(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Kt?e="$priority":n.index_===cR?e="$value":n.index_===ma?e="$key":(q(n.index_ instanceof rR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=ge(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=ge(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+ge(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=ge(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+ge(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function vv(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Kt&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends P0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ar("p:rest:"),this.listens_={}}listen(t,e,s,l){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=Cc.getListenId_(t,s),h={};this.listens_[u]=h;const d=yv(t._queryParams);this.restRequest_(o+".json",d,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(o,_,!1,s),ba(this.listens_,u)===h){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",l(y,null)}})}unlisten(t,e){const s=Cc.getListenId_(t,e);delete this.listens_[s]}get(t){const e=yv(t._queryParams),s=t._path.toString(),l=new xr;return this.restRequest_(s+".json",e,(o,u)=>{let h=u;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,o])=>{l&&l.accessToken&&(e.auth=l.accessToken),o&&o.token&&(e.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+IT(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=rr(h.responseText)}catch{Ae("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Ae("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(){return{value:null,children:new Map}}function K0(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const s=yt(t);n.children.has(s)||n.children.set(s,Tc());const l=n.children.get(s);t=Pt(t),K0(l,t,e)}}function hd(n,t,e){n.value!==null?e(t,n.value):gR(n,(s,l)=>{const o=new zt(t.toString()+"/"+s);hd(l,o,e)})}function gR(n,t){n.children.forEach((e,s)=>{t(s,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Se(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=10*1e3,mR=30*1e3,_R=5*60*1e3;class yR{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new pR(t);const s=bv+(mR-bv)*Math.random();$l(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Se(t,(l,o)=>{o>0&&Rn(this.statsToReport_,l)&&(e[l]=o,s=!0)}),s&&this.server_.reportStats(e),$l(this.reportStats_.bind(this),Math.floor(Math.random()*2*_R))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function $d(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=dn.ACK_USER_WRITE,this.source=$d()}operationForChild(t){if(Et(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new zt(t));return new wc(At(),e,this.revert)}}else return q(yt(this.path)===t,"operationForChild called for unrelated child."),new wc(Pt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,e){this.source=t,this.path=e,this.type=dn.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new pr(this.source,At()):new pr(this.source,Pt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=dn.OVERWRITE}operationForChild(t){return Et(this.path)?new ms(this.source,At(),this.snap.getImmediateChild(t)):new ms(this.source,Pt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=dn.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new zt(t));return e.isEmpty()?null:e.value?new ms(this.source,At(),e.value):new xa(this.source,At(),e)}else return q(yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xa(this.source,Pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function bR(n,t,e,s){const l=[],o=[];return t.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(uR(u.childName,u.snapshotNode))}),Ul(n,l,"child_removed",t,s,e),Ul(n,l,"child_added",t,s,e),Ul(n,l,"child_moved",o,s,e),Ul(n,l,"child_changed",t,s,e),Ul(n,l,"value",t,s,e),l}function Ul(n,t,e,s,l,o){const u=s.filter(h=>h.type===e);u.sort((h,d)=>ER(n,h,d)),u.forEach(h=>{const d=SR(n,h,o);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function SR(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function ER(n,t,e){if(t.childName==null||e.childName==null)throw Oa("Should only compare child_ events.");const s=new vt(t.childName,t.snapshotNode),l=new vt(e.childName,e.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n,t){return{eventCache:n,serverCache:t}}function Jl(n,t,e,s){return Kc(new _s(t,e,s),n.serverCache)}function Z0(n,t,e,s){return Kc(n.eventCache,new _s(t,e,s))}function fd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ys(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;const xR=()=>(Ff||(Ff=new Ie(rA)),Ff);class Bt{static fromObject(t){let e=new Bt(null);return Se(t,(s,l)=>{e=e.set(new zt(s),l)}),e}constructor(t,e=xR()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:At(),value:this.value};if(Et(t))return null;{const s=yt(t),l=this.children.get(s);if(l!==null){const o=l.findRootMostMatchingPathAndValue(Pt(t),e);return o!=null?{path:Qt(new zt(s),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=yt(t),s=this.children.get(e);return s!==null?s.subtree(Pt(t)):new Bt(null)}}set(t,e){if(Et(t))return new Bt(e,this.children);{const s=yt(t),o=(this.children.get(s)||new Bt(null)).set(Pt(t),e),u=this.children.insert(s,o);return new Bt(this.value,u)}}remove(t){if(Et(t))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const e=yt(t),s=this.children.get(e);if(s){const l=s.remove(Pt(t));let o;return l.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,l),this.value===null&&o.isEmpty()?new Bt(null):new Bt(this.value,o)}else return this}}get(t){if(Et(t))return this.value;{const e=yt(t),s=this.children.get(e);return s?s.get(Pt(t)):null}}setTree(t,e){if(Et(t))return e;{const s=yt(t),o=(this.children.get(s)||new Bt(null)).setTree(Pt(t),e);let u;return o.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,o),new Bt(this.value,u)}}fold(t){return this.fold_(At(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,o)=>{s[l]=o.fold_(Qt(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,At(),e)}findOnPath_(t,e,s){const l=this.value?s(e,this.value):!1;if(l)return l;if(Et(t))return null;{const o=yt(t),u=this.children.get(o);return u?u.findOnPath_(Pt(t),Qt(e,o),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,At(),e)}foreachOnPath_(t,e,s){if(Et(t))return this;{this.value&&s(e,this.value);const l=yt(t),o=this.children.get(l);return o?o.foreachOnPath_(Pt(t),Qt(e,l),s):new Bt(null)}}foreach(t){this.foreach_(At(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(Qt(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.writeTree_=t}static empty(){return new gn(new Bt(null))}}function tr(n,t,e){if(Et(t))return new gn(new Bt(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(s!=null){const l=s.path;let o=s.value;const u=ze(l,t);return o=o.updateChild(u,e),new gn(n.writeTree_.set(l,o))}else{const l=new Bt(e),o=n.writeTree_.setTree(t,l);return new gn(o)}}}function dd(n,t,e){let s=n;return Se(e,(l,o)=>{s=tr(s,Qt(t,l),o)}),s}function Sv(n,t){if(Et(t))return gn.empty();{const e=n.writeTree_.setTree(t,new Bt(null));return new gn(e)}}function gd(n,t){return xs(n,t)!=null}function xs(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(ze(e.path,t)):null}function Ev(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Kt,(s,l)=>{t.push(new vt(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&t.push(new vt(s,l.value))}),t}function Ni(n,t){if(Et(t))return n;{const e=xs(n,t);return e!=null?new gn(new Bt(e)):new gn(n.writeTree_.subtree(t))}}function pd(n){return n.writeTree_.isEmpty()}function Ca(n,t){return $0(At(),n.writeTree_,t)}function $0(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,o)=>{l===".priority"?(q(o.value!==null,"Priority writes must always be leaf nodes"),s=o.value):e=$0(Qt(n,l),o,e)}),!e.getChild(n).isEmpty()&&s!==null&&(e=e.updateChild(Qt(n,".priority"),s)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,t){return nS(t,n)}function CR(n,t,e,s,l){q(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=tr(n.visibleWrites,t,e)),n.lastWriteId=s}function TR(n,t,e,s){q(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=dd(n.visibleWrites,t,e),n.lastWriteId=s}function wR(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}function AR(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);q(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,o=!1,u=n.allWrites.length-1;for(;l&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&RR(h,s.path)?l=!1:ln(s.path,h.path)&&(o=!0)),u--}if(l){if(o)return MR(n),!0;if(s.snap)n.visibleWrites=Sv(n.visibleWrites,s.path);else{const h=s.children;Se(h,d=>{n.visibleWrites=Sv(n.visibleWrites,Qt(s.path,d))})}return!0}else return!1}function RR(n,t){if(n.snap)return ln(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ln(Qt(n.path,e),t))return!0;return!1}function MR(n){n.visibleWrites=J0(n.allWrites,OR,At()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function OR(n){return n.visible}function J0(n,t,e){let s=gn.empty();for(let l=0;l<n.length;++l){const o=n[l];if(t(o)){const u=o.path;let h;if(o.snap)ln(e,u)?(h=ze(e,u),s=tr(s,h,o.snap)):ln(u,e)&&(h=ze(u,e),s=tr(s,At(),o.snap.getChild(h)));else if(o.children){if(ln(e,u))h=ze(e,u),s=dd(s,h,o.children);else if(ln(u,e))if(h=ze(u,e),Et(h))s=dd(s,At(),o.children);else{const d=ba(o.children,yt(h));if(d){const g=d.getChild(Pt(h));s=tr(s,At(),g)}}}else throw Oa("WriteRecord should have .snap or .children")}}return s}function tS(n,t,e,s,l){if(!s&&!l){const o=xs(n.visibleWrites,t);if(o!=null)return o;{const u=Ni(n.visibleWrites,t);if(pd(u))return e;if(e==null&&!gd(u,At()))return null;{const h=e||ot.EMPTY_NODE;return Ca(u,h)}}}else{const o=Ni(n.visibleWrites,t);if(!l&&pd(o))return e;if(!l&&e==null&&!gd(o,At()))return null;{const u=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(ln(g.path,t)||ln(t,g.path))},h=J0(n.allWrites,u,t),d=e||ot.EMPTY_NODE;return Ca(h,d)}}}function DR(n,t,e){let s=ot.EMPTY_NODE;const l=xs(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Kt,(o,u)=>{s=s.updateImmediateChild(o,u)}),s;if(e){const o=Ni(n.visibleWrites,t);return e.forEachChild(Kt,(u,h)=>{const d=Ca(Ni(o,new zt(u)),h);s=s.updateImmediateChild(u,d)}),Ev(o).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const o=Ni(n.visibleWrites,t);return Ev(o).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function NR(n,t,e,s,l){q(s||l,"Either existingEventSnap or existingServerSnap must exist");const o=Qt(t,e);if(gd(n.visibleWrites,o))return null;{const u=Ni(n.visibleWrites,o);return pd(u)?l.getChild(e):Ca(u,l.getChild(e))}}function kR(n,t,e,s){const l=Qt(t,e),o=xs(n.visibleWrites,l);if(o!=null)return o;if(s.isCompleteForChild(e)){const u=Ni(n.visibleWrites,l);return Ca(u,s.getNode().getImmediateChild(e))}else return null}function LR(n,t){return xs(n.visibleWrites,t)}function zR(n,t,e,s,l,o,u){let h;const d=Ni(n.visibleWrites,t),g=xs(d,At());if(g!=null)h=g;else if(e!=null)h=Ca(d,e);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=u.getCompare(),y=o?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let S=y.getNext();for(;S&&m.length<l;)_(S,s)!==0&&m.push(S),S=y.getNext();return m}else return[]}function IR(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Ac(n,t,e,s){return tS(n.writeTree,n.treePath,t,e,s)}function ng(n,t){return DR(n.writeTree,n.treePath,t)}function xv(n,t,e,s){return NR(n.writeTree,n.treePath,t,e,s)}function Rc(n,t){return LR(n.writeTree,Qt(n.treePath,t))}function HR(n,t,e,s,l,o){return zR(n.writeTree,n.treePath,t,e,s,l,o)}function ig(n,t,e){return kR(n.writeTree,n.treePath,t,e)}function eS(n,t){return nS(Qt(n.treePath,t),n.writeTree)}function nS(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;q(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),q(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const o=l.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(s,dr(s,t.snapshotNode,l.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(s);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(s,fr(s,l.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(s,Ea(s,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(s,dr(s,t.snapshotNode,l.oldSnap));else throw Oa("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}}const iS=new UR;class sg{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ig(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ys(this.viewCache_),o=HR(this.writes_,l,e,1,s,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){return{filter:n}}function jR(n,t){q(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function VR(n,t,e,s,l){const o=new BR;let u,h;if(e.type===dn.OVERWRITE){const g=e;g.source.fromUser?u=md(n,t,g.path,g.snap,s,l,o):(q(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Et(g.path),u=Mc(n,t,g.path,g.snap,s,l,h,o))}else if(e.type===dn.MERGE){const g=e;g.source.fromUser?u=YR(n,t,g.path,g.children,s,l,o):(q(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),u=_d(n,t,g.path,g.children,s,l,h,o))}else if(e.type===dn.ACK_USER_WRITE){const g=e;g.revert?u=WR(n,t,g.path,s,l,o):u=qR(n,t,g.path,g.affectedTree,s,l,o)}else if(e.type===dn.LISTEN_COMPLETE)u=GR(n,t,e.path,s,o);else throw Oa("Unknown operation type: "+e.type);const d=o.getChanges();return FR(t,u,d),{viewCache:u,changes:d}}function FR(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),o=fd(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(o)||!s.getNode().getPriority().equals(o.getPriority()))&&e.push(Q0(fd(t)))}}function sS(n,t,e,s,l,o){const u=t.eventCache;if(Rc(s,e)!=null)return t;{let h,d;if(Et(e))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ys(t),m=g instanceof ot?g:ot.EMPTY_NODE,_=ng(s,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const g=Ac(s,ys(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=yt(e);if(g===".priority"){q(Ii(e)===1,"Can't have a priority with additional path components");const m=u.getNode();d=t.serverCache.getNode();const _=xv(s,e,m,d);_!=null?h=n.filter.updatePriority(m,_):h=u.getNode()}else{const m=Pt(e);let _;if(u.isCompleteForChild(g)){d=t.serverCache.getNode();const y=xv(s,e,u.getNode(),d);y!=null?_=u.getNode().getImmediateChild(g).updateChild(m,y):_=u.getNode().getImmediateChild(g)}else _=ig(s,g,t.serverCache);_!=null?h=n.filter.updateChild(u.getNode(),g,_,m,l,o):h=u.getNode()}}return Jl(t,h,u.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function Mc(n,t,e,s,l,o,u,h){const d=t.serverCache;let g;const m=u?n.filter:n.filter.getIndexedFilter();if(Et(e))g=m.updateFullNode(d.getNode(),s,null);else if(m.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(e,s);g=m.updateFullNode(d.getNode(),S,null)}else{const S=yt(e);if(!d.isCompleteForPath(e)&&Ii(e)>1)return t;const E=Pt(e),C=d.getNode().getImmediateChild(S).updateChild(E,s);S===".priority"?g=m.updatePriority(d.getNode(),C):g=m.updateChild(d.getNode(),S,C,E,iS,null)}const _=Z0(t,g,d.isFullyInitialized()||Et(e),m.filtersNodes()),y=new sg(l,_,o);return sS(n,_,e,l,y,h)}function md(n,t,e,s,l,o,u){const h=t.eventCache;let d,g;const m=new sg(l,t,o);if(Et(e))g=n.filter.updateFullNode(t.eventCache.getNode(),s,u),d=Jl(t,g,!0,n.filter.filtersNodes());else{const _=yt(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),s),d=Jl(t,g,h.isFullyInitialized(),h.isFiltered());else{const y=Pt(e),S=h.getNode().getImmediateChild(_);let E;if(Et(y))E=s;else{const T=m.getCompleteChild(_);T!=null?Gd(y)===".priority"&&T.getChild(V0(y)).isEmpty()?E=T:E=T.updateChild(y,s):E=ot.EMPTY_NODE}if(S.equals(E))d=t;else{const T=n.filter.updateChild(h.getNode(),_,E,y,m,u);d=Jl(t,T,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function Cv(n,t){return n.eventCache.isCompleteForChild(t)}function YR(n,t,e,s,l,o,u){let h=t;return s.foreach((d,g)=>{const m=Qt(e,d);Cv(t,yt(m))&&(h=md(n,h,m,g,l,o,u))}),s.foreach((d,g)=>{const m=Qt(e,d);Cv(t,yt(m))||(h=md(n,h,m,g,l,o,u))}),h}function Tv(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function _d(n,t,e,s,l,o,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;Et(e)?g=s:g=new Bt(null).setTree(e,s);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,y)=>{if(m.hasChild(_)){const S=t.serverCache.getNode().getImmediateChild(_),E=Tv(n,S,y);d=Mc(n,d,new zt(_),E,l,o,u,h)}}),g.children.inorderTraversal((_,y)=>{const S=!t.serverCache.isCompleteForChild(_)&&y.value===null;if(!m.hasChild(_)&&!S){const E=t.serverCache.getNode().getImmediateChild(_),T=Tv(n,E,y);d=Mc(n,d,new zt(_),T,l,o,u,h)}}),d}function qR(n,t,e,s,l,o,u){if(Rc(l,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(s.value!=null){if(Et(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return Mc(n,t,e,d.getNode().getChild(e),l,o,h,u);if(Et(e)){let g=new Bt(null);return d.getNode().forEachChild(ma,(m,_)=>{g=g.set(new zt(m),_)}),_d(n,t,e,g,l,o,h,u)}else return t}else{let g=new Bt(null);return s.foreach((m,_)=>{const y=Qt(e,m);d.isCompleteForPath(y)&&(g=g.set(m,d.getNode().getChild(y)))}),_d(n,t,e,g,l,o,h,u)}}function GR(n,t,e,s,l){const o=t.serverCache,u=Z0(t,o.getNode(),o.isFullyInitialized()||Et(e),o.isFiltered());return sS(n,u,e,s,iS,l)}function WR(n,t,e,s,l,o){let u;if(Rc(s,e)!=null)return t;{const h=new sg(s,t,l),d=t.eventCache.getNode();let g;if(Et(e)||yt(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Ac(s,ys(t));else{const _=t.serverCache.getNode();q(_ instanceof ot,"serverChildren would be complete if leaf node"),m=ng(s,_)}m=m,g=n.filter.updateFullNode(d,m,o)}else{const m=yt(e);let _=ig(s,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=d.getImmediateChild(m)),_!=null?g=n.filter.updateChild(d,m,_,Pt(e),h,o):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(d,m,ot.EMPTY_NODE,Pt(e),h,o):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=Ac(s,ys(t)),u.isLeafNode()&&(g=n.filter.updateFullNode(g,u,o)))}return u=t.serverCache.isFullyInitialized()||Rc(s,At())!=null,Jl(t,g,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Kd(s.getIndex()),o=fR(s);this.processor_=PR(o);const u=e.serverCache,h=e.eventCache,d=l.updateFullNode(ot.EMPTY_NODE,u.getNode(),null),g=o.updateFullNode(ot.EMPTY_NODE,h.getNode(),null),m=new _s(d,u.isFullyInitialized(),l.filtersNodes()),_=new _s(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Kc(_,m),this.eventGenerator_=new vR(this.query_)}get query(){return this.query_}}function QR(n){return n.viewCache_.serverCache.getNode()}function KR(n,t){const e=ys(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(yt(t)).isEmpty())?e.getChild(t):null}function wv(n){return n.eventRegistrations_.length===0}function ZR(n,t){n.eventRegistrations_.push(t)}function Av(n,t,e){const s=[];if(e){q(t==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(e,l);u&&s.push(u)})}if(t){let l=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(!u.matches(t))l.push(u);else if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Rv(n,t,e,s){t.type===dn.MERGE&&t.source.queryId!==null&&(q(ys(n.viewCache_),"We should always have a full cache before handling merges"),q(fd(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,o=VR(n.processor_,l,t,e,s);return jR(n.processor_,o.viewCache),q(o.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,aS(n,o.changes,o.viewCache.eventCache.getNode(),null)}function $R(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Kt,(o,u)=>{s.push(Ea(o,u))}),e.isFullyInitialized()&&s.push(Q0(e.getNode())),aS(n,s,e.getNode(),t)}function aS(n,t,e,s){const l=s?[s]:n.eventRegistrations_;return bR(n.eventGenerator_,t,e,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc;class JR{constructor(){this.views=new Map}}function tM(n){q(!Oc,"__referenceConstructor has already been defined"),Oc=n}function eM(){return q(Oc,"Reference.ts has not been loaded"),Oc}function nM(n){return n.views.size===0}function ag(n,t,e,s){const l=t.source.queryId;if(l!==null){const o=n.views.get(l);return q(o!=null,"SyncTree gave us an op for an invalid query."),Rv(o,t,e,s)}else{let o=[];for(const u of n.views.values())o=o.concat(Rv(u,t,e,s));return o}}function iM(n,t,e,s,l){const o=t._queryIdentifier,u=n.views.get(o);if(!u){let h=Ac(e,l?s:null),d=!1;h?d=!0:s instanceof ot?(h=ng(e,s),d=!1):(h=ot.EMPTY_NODE,d=!1);const g=Kc(new _s(h,d,!1),new _s(s,l,!1));return new XR(t,g)}return u}function sM(n,t,e,s,l,o){const u=iM(n,t,s,l,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),ZR(u,e),$R(u,e)}function aM(n,t,e,s){const l=t._queryIdentifier,o=[];let u=[];const h=Hi(n);if(l==="default")for(const[d,g]of n.views.entries())u=u.concat(Av(g,e,s)),wv(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||o.push(g.query));else{const d=n.views.get(l);d&&(u=u.concat(Av(d,e,s)),wv(d)&&(n.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query)))}return h&&!Hi(n)&&o.push(new(eM())(t._repo,t._path)),{removed:o,events:u}}function lS(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function _a(n,t){let e=null;for(const s of n.views.values())e=e||KR(s,t);return e}function rS(n,t){if(t._queryParams.loadsAllData())return Zc(n);{const s=t._queryIdentifier;return n.views.get(s)}}function oS(n,t){return rS(n,t)!=null}function Hi(n){return Zc(n)!=null}function Zc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;function lM(n){q(!Dc,"__referenceConstructor has already been defined"),Dc=n}function rM(){return q(Dc,"Reference.ts has not been loaded"),Dc}let oM=1;class Mv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=IR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cS(n,t,e,s,l){return CR(n.pendingWriteTree_,t,e,s,l),l?Na(n,new ms($d(),t,e)):[]}function cM(n,t,e,s){TR(n.pendingWriteTree_,t,e,s);const l=Bt.fromObject(e);return Na(n,new xa($d(),t,l))}function Ai(n,t,e=!1){const s=wR(n.pendingWriteTree_,t);if(AR(n.pendingWriteTree_,t)){let o=new Bt(null);return s.snap!=null?o=o.set(At(),!0):Se(s.children,u=>{o=o.set(new zt(u),!0)}),Na(n,new wc(s.path,o,e))}else return[]}function $c(n,t,e){return Na(n,new ms(Jd(),t,e))}function uM(n,t,e){const s=Bt.fromObject(e);return Na(n,new xa(Jd(),t,s))}function hM(n,t){return Na(n,new pr(Jd(),t))}function fM(n,t,e){const s=rg(n,e);if(s){const l=og(s),o=l.path,u=l.queryId,h=ze(o,t),d=new pr(tg(u),h);return cg(n,o,d)}else return[]}function yd(n,t,e,s,l=!1){const o=t._path,u=n.syncPointTree_.get(o);let h=[];if(u&&(t._queryIdentifier==="default"||oS(u,t))){const d=aM(u,t,e,s);nM(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=d.removed;if(h=d.events,!l){const m=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(o,(y,S)=>Hi(S));if(m&&!_){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const S=pM(y);for(let E=0;E<S.length;++E){const T=S[E],C=T.query,R=fS(n,T);n.listenProvider_.startListening(er(C),Nc(n,C),R.hashFn,R.onComplete)}}}!_&&g.length>0&&!s&&(m?n.listenProvider_.stopListening(er(t),null):g.forEach(y=>{const S=n.queryToTagMap.get(Jc(y));n.listenProvider_.stopListening(er(y),S)}))}mM(n,g)}return h}function dM(n,t,e,s){const l=rg(n,s);if(l!=null){const o=og(l),u=o.path,h=o.queryId,d=ze(u,t),g=new ms(tg(h),d,e);return cg(n,u,g)}else return[]}function gM(n,t,e,s){const l=rg(n,s);if(l){const o=og(l),u=o.path,h=o.queryId,d=ze(u,t),g=Bt.fromObject(e),m=new xa(tg(h),d,g);return cg(n,u,m)}else return[]}function Ov(n,t,e,s=!1){const l=t._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(l,(y,S)=>{const E=ze(y,l);o=o||_a(S,E),u=u||Hi(S)});let h=n.syncPointTree_.get(l);h?(u=u||Hi(h),o=o||_a(h,At())):(h=new JR,n.syncPointTree_=n.syncPointTree_.set(l,h));let d;o!=null?d=!0:(d=!1,o=ot.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,E)=>{const T=_a(E,At());T&&(o=o.updateImmediateChild(S,T))}));const g=oS(h,t);if(!g&&!t._queryParams.loadsAllData()){const y=Jc(t);q(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const S=_M();n.queryToTagMap.set(y,S),n.tagToQueryMap.set(S,y)}const m=eg(n.pendingWriteTree_,l);let _=sM(h,t,e,m,o,d);if(!g&&!u&&!s){const y=rS(h,t);_=_.concat(yM(n,t,y))}return _}function lg(n,t,e){const l=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(u,h)=>{const d=ze(u,t),g=_a(h,d);if(g)return g});return tS(l,t,o,e,!0)}function Na(n,t){return uS(t,n.syncPointTree_,null,eg(n.pendingWriteTree_,At()))}function uS(n,t,e,s){if(Et(n.path))return hS(n,t,e,s);{const l=t.get(At());e==null&&l!=null&&(e=_a(l,At()));let o=[];const u=yt(n.path),h=n.operationForChild(u),d=t.children.get(u);if(d&&h){const g=e?e.getImmediateChild(u):null,m=eS(s,u);o=o.concat(uS(h,d,g,m))}return l&&(o=o.concat(ag(l,n,s,e))),o}}function hS(n,t,e,s){const l=t.get(At());e==null&&l!=null&&(e=_a(l,At()));let o=[];return t.children.inorderTraversal((u,h)=>{const d=e?e.getImmediateChild(u):null,g=eS(s,u),m=n.operationForChild(u);m&&(o=o.concat(hS(m,h,d,g)))}),l&&(o=o.concat(ag(l,n,s,e))),o}function fS(n,t){const e=t.query,s=Nc(n,e);return{hashFn:()=>(QR(t)||ot.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?fM(n,e._path,s):hM(n,e._path);{const o=uA(l,e);return yd(n,e,null,o)}}}}function Nc(n,t){const e=Jc(t);return n.queryToTagMap.get(e)}function Jc(n){return n._path.toString()+"$"+n._queryIdentifier}function rg(n,t){return n.tagToQueryMap.get(t)}function og(n){const t=n.indexOf("$");return q(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new zt(n.substr(0,t))}}function cg(n,t,e){const s=n.syncPointTree_.get(t);q(s,"Missing sync point for query tag that we're tracking");const l=eg(n.pendingWriteTree_,t);return ag(s,e,l,null)}function pM(n){return n.fold((t,e,s)=>{if(e&&Hi(e))return[Zc(e)];{let l=[];return e&&(l=lS(e)),Se(s,(o,u)=>{l=l.concat(u)}),l}})}function er(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(rM())(n._repo,n._path):n}function mM(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=Jc(s),o=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(o)}}}function _M(){return oM++}function yM(n,t,e){const s=t._path,l=Nc(n,t),o=fS(n,e),u=n.listenProvider_.startListening(er(t),l,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(s);if(l)q(!Hi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,m,_)=>{if(!Et(g)&&m&&Hi(m))return[Zc(m).query];{let y=[];return m&&(y=y.concat(lS(m).map(S=>S.query))),Se(_,(S,E)=>{y=y.concat(E)}),y}});for(let g=0;g<d.length;++g){const m=d[g];n.listenProvider_.stopListening(er(m),Nc(n,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ug(e)}node(){return this.node_}}class hg{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Qt(this.path_,t);return new hg(this.syncTree_,e)}node(){return lg(this.syncTree_,this.path_)}}const vM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Dv=function(n,t,e){if(!n||typeof n!="object")return n;if(q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return bM(n[".sv"],t,e);if(typeof n[".sv"]=="object")return SM(n[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},bM=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:q(!1,"Unexpected server value: "+n)}},SM=function(n,t,e){n.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&q(!1,"Unexpected increment value: "+s);const l=t.node();if(q(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const u=l.getValue();return typeof u!="number"?s:u+s},dS=function(n,t,e,s){return fg(t,new hg(e,n),s)},gS=function(n,t,e){return fg(n,new ug(t),e)};function fg(n,t,e){const s=n.getPriority().val(),l=Dv(s,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const u=n,h=Dv(u.getValue(),t,e);return h!==u.getValue()||l!==u.getPriority().val()?new he(h,de(l)):n}else{const u=n;return o=u,l!==u.getPriority().val()&&(o=o.updatePriority(new he(l))),u.forEachChild(Kt,(h,d)=>{const g=fg(d,t.getImmediateChild(h),e);g!==d&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function gg(n,t){let e=t instanceof zt?t:new zt(t),s=n,l=yt(e);for(;l!==null;){const o=ba(s.node.children,l)||{children:{},childCount:0};s=new dg(l,s,o),e=Pt(e),l=yt(e)}return s}function ka(n){return n.node.value}function pS(n,t){n.node.value=t,vd(n)}function mS(n){return n.node.childCount>0}function EM(n){return ka(n)===void 0&&!mS(n)}function tu(n,t){Se(n.node.children,(e,s)=>{t(new dg(e,n,s))})}function _S(n,t,e,s){e&&t(n),tu(n,l=>{_S(l,t,!0)})}function xM(n,t,e){let s=n.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function Mr(n){return new zt(n.parent===null?n.name:Mr(n.parent)+"/"+n.name)}function vd(n){n.parent!==null&&CM(n.parent,n.name,n)}function CM(n,t,e){const s=EM(e),l=Rn(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,vd(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,vd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/[\[\].#$\/\u0000-\u001F\u007F]/,wM=/[\[\].#$\u0000-\u001F\u007F]/,Yf=10*1024*1024,pg=function(n){return typeof n=="string"&&n.length!==0&&!TM.test(n)},yS=function(n){return typeof n=="string"&&n.length!==0&&!wM.test(n)},AM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yS(n)},RM=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!jd(n)||n&&typeof n=="object"&&Rn(n,".sv")},MM=function(n,t,e,s){eu(Wc(n,"value"),t,e)},eu=function(n,t,e){const s=e instanceof zt?new YA(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+us(s));if(typeof t=="function")throw new Error(n+"contains a function "+us(s)+" with contents = "+t.toString());if(jd(t))throw new Error(n+"contains "+t.toString()+" "+us(s));if(typeof t=="string"&&t.length>Yf/3&&Xc(t)>Yf)throw new Error(n+"contains a string greater than "+Yf+" utf8 bytes "+us(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,o=!1;if(Se(t,(u,h)=>{if(u===".value")l=!0;else if(u!==".priority"&&u!==".sv"&&(o=!0,!pg(u)))throw new Error(n+" contains an invalid key ("+u+") "+us(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qA(s,u),eu(n,h,s),GA(s)}),l&&o)throw new Error(n+' contains ".value" child '+us(s)+" in addition to actual children.")}},OM=function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const o=hr(s);for(let u=0;u<o.length;u++)if(!(o[u]===".priority"&&u===o.length-1)){if(!pg(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(FA);let l=null;for(e=0;e<t.length;e++){if(s=t[e],l!==null&&ln(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},DM=function(n,t,e,s){const l=Wc(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const o=[];Se(t,(u,h)=>{const d=new zt(u);if(eu(l,h,Qt(e,d)),Gd(d)===".priority"&&!RM(h))throw new Error(l+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),OM(l,o)},vS=function(n,t,e,s){if(!yS(e))throw new Error(Wc(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NM=function(n,t,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),vS(n,t,e)},bS=function(n,t){if(yt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},kM=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!AM(e))throw new Error(Wc(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nu(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],o=l.getPath();e!==null&&!Wd(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(l)}e&&n.eventLists_.push(e)}function SS(n,t,e){nu(n,e),ES(n,s=>Wd(s,t))}function pn(n,t,e){nu(n,e),ES(n,s=>ln(s,t)||ln(t,s))}function ES(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const o=l.path;t(o)?(zM(n.eventLists_[s]),n.eventLists_[s]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function zM(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const s=e.getEventRunner();Zl&&ve("event: "+e.toString()),Da(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="repo_interrupt",HM=25;class BM{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tc(),this.transactionQueueTree_=new dg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UM(n,t,e){if(n.stats_=Yd(n.repoInfo_),n.forceRestClient_||gA())n.server_=new Cc(n.repoInfo_,(s,l,o,u)=>{Nv(n,s,l,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>kv(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Kn(n.repoInfo_,t,(s,l,o,u)=>{Nv(n,s,l,o,u)},s=>{kv(n,s)},s=>{jM(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=vA(n.repoInfo_,()=>new yR(n.stats_,n.server_)),n.infoData_=new dR,n.infoSyncTree_=new Mv({startListening:(s,l,o,u)=>{let h=[];const d=n.infoData_.getNode(s._path);return d.isEmpty()||(h=$c(n.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),mg(n,"connected",!1),n.serverSyncTree_=new Mv({startListening:(s,l,o,u)=>(n.server_.listen(s,o,l,(h,d)=>{const g=u(h,d);pn(n.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function PM(n){const e=n.infoData_.getNode(new zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function iu(n){return vM({timestamp:PM(n)})}function Nv(n,t,e,s,l){n.dataUpdateCount++;const o=new zt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(l)if(s){const d=_c(e,g=>de(g));u=gM(n.serverSyncTree_,o,d,l)}else{const d=de(e);u=dM(n.serverSyncTree_,o,d,l)}else if(s){const d=_c(e,g=>de(g));u=uM(n.serverSyncTree_,o,d)}else{const d=de(e);u=$c(n.serverSyncTree_,o,d)}let h=o;u.length>0&&(h=Ta(n,o)),pn(n.eventQueue_,h,u)}function kv(n,t){mg(n,"connected",t),t===!1&&YM(n)}function jM(n,t){Se(t,(e,s)=>{mg(n,e,s)})}function mg(n,t,e){const s=new zt("/.info/"+t),l=de(e);n.infoData_.updateSnapshot(s,l);const o=$c(n.infoSyncTree_,s,l);pn(n.eventQueue_,s,o)}function _g(n){return n.nextWriteId_++}function VM(n,t,e,s,l){su(n,"set",{path:t.toString(),value:e,priority:s});const o=iu(n),u=de(e,s),h=lg(n.serverSyncTree_,t),d=gS(u,h,o),g=_g(n),m=cS(n.serverSyncTree_,t,d,g,!0);nu(n.eventQueue_,m),n.server_.put(t.toString(),u.val(!0),(y,S)=>{const E=y==="ok";E||Ae("set at "+t+" failed: "+y);const T=Ai(n.serverSyncTree_,g,!E);pn(n.eventQueue_,t,T),bd(n,l,y,S)});const _=vg(n,t);Ta(n,_),pn(n.eventQueue_,_,[])}function FM(n,t,e,s){su(n,"update",{path:t.toString(),value:e});let l=!0;const o=iu(n),u={};if(Se(e,(h,d)=>{l=!1,u[h]=dS(Qt(t,h),de(d),n.serverSyncTree_,o)}),l)ve("update() called with empty data.  Don't do anything."),bd(n,s,"ok",void 0);else{const h=_g(n),d=cM(n.serverSyncTree_,t,u,h);nu(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||Ae("update at "+t+" failed: "+g);const y=Ai(n.serverSyncTree_,h,!_),S=y.length>0?Ta(n,t):t;pn(n.eventQueue_,S,y),bd(n,s,g,m)}),Se(e,g=>{const m=vg(n,Qt(t,g));Ta(n,m)}),pn(n.eventQueue_,t,[])}}function YM(n){su(n,"onDisconnectEvents");const t=iu(n),e=Tc();hd(n.onDisconnect_,At(),(l,o)=>{const u=dS(l,o,n.serverSyncTree_,t);K0(e,l,u)});let s=[];hd(e,At(),(l,o)=>{s=s.concat($c(n.serverSyncTree_,l,o));const u=vg(n,l);Ta(n,u)}),n.onDisconnect_=Tc(),pn(n.eventQueue_,At(),s)}function qM(n,t,e){let s;yt(t._path)===".info"?s=Ov(n.infoSyncTree_,t,e):s=Ov(n.serverSyncTree_,t,e),SS(n.eventQueue_,t._path,s)}function GM(n,t,e){let s;yt(t._path)===".info"?s=yd(n.infoSyncTree_,t,e):s=yd(n.serverSyncTree_,t,e),SS(n.eventQueue_,t._path,s)}function WM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(IM)}function su(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ve(e,...t)}function bd(n,t,e,s){t&&Da(()=>{if(e==="ok")t(null);else{const l=(e||"error").toUpperCase();let o=l;s&&(o+=": "+s);const u=new Error(o);u.code=l,t(u)}})}function xS(n,t,e){return lg(n.serverSyncTree_,t,e)||ot.EMPTY_NODE}function yg(n,t=n.transactionQueueTree_){if(t||au(n,t),ka(t)){const e=TS(n,t);q(e.length>0,"Sending zero length transaction queue"),e.every(l=>l.status===0)&&XM(n,Mr(t),e)}else mS(t)&&tu(t,e=>{yg(n,e)})}function XM(n,t,e){const s=e.map(g=>g.currentWriteId),l=xS(n,t,s);let o=l;const u=l.hash();for(let g=0;g<e.length;g++){const m=e[g];q(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=ze(t,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const h=o.val(!0),d=t;n.server_.put(d.toString(),h,g=>{su(n,"transaction put response",{path:d.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let y=0;y<e.length;y++)e[y].status=2,m=m.concat(Ai(n.serverSyncTree_,e[y].currentWriteId)),e[y].onComplete&&_.push(()=>e[y].onComplete(null,!0,e[y].currentOutputSnapshotResolved)),e[y].unwatcher();au(n,gg(n.transactionQueueTree_,t)),yg(n,n.transactionQueueTree_),pn(n.eventQueue_,t,m);for(let y=0;y<_.length;y++)Da(_[y])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{Ae("transaction at "+d.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}Ta(n,t)}},u)}function Ta(n,t){const e=CS(n,t),s=Mr(e),l=TS(n,e);return QM(n,l,s),s}function QM(n,t,e){if(t.length===0)return;const s=[];let l=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=ze(e,d.path);let m=!1,_;if(q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,_=d.abortReason,l=l.concat(Ai(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=HM)m=!0,_="maxretry",l=l.concat(Ai(n.serverSyncTree_,d.currentWriteId,!0));else{const y=xS(n,d.path,u);d.currentInputSnapshot=y;const S=t[h].update(y.val());if(S!==void 0){eu("transaction failed: Data returned ",S,d.path);let E=de(S);typeof S=="object"&&S!=null&&Rn(S,".priority")||(E=E.updatePriority(y.getPriority()));const C=d.currentWriteId,R=iu(n),H=gS(E,y,R);d.currentOutputSnapshotRaw=E,d.currentOutputSnapshotResolved=H,d.currentWriteId=_g(n),u.splice(u.indexOf(C),1),l=l.concat(cS(n.serverSyncTree_,d.path,H,d.currentWriteId,d.applyLocally)),l=l.concat(Ai(n.serverSyncTree_,C,!0))}else m=!0,_="nodata",l=l.concat(Ai(n.serverSyncTree_,d.currentWriteId,!0))}pn(n.eventQueue_,e,l),l=[],m&&(t[h].status=2,function(y){setTimeout(y,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?s.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):s.push(()=>t[h].onComplete(new Error(_),!1,null))))}au(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)Da(s[h]);yg(n,n.transactionQueueTree_)}function CS(n,t){let e,s=n.transactionQueueTree_;for(e=yt(t);e!==null&&ka(s)===void 0;)s=gg(s,e),t=Pt(t),e=yt(t);return s}function TS(n,t){const e=[];return wS(n,t,e),e.sort((s,l)=>s.order-l.order),e}function wS(n,t,e){const s=ka(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);tu(t,l=>{wS(n,l,e)})}function au(n,t){const e=ka(t);if(e){let s=0;for(let l=0;l<e.length;l++)e[l].status!==2&&(e[s]=e[l],s++);e.length=s,pS(t,e.length>0?e:void 0)}tu(t,s=>{au(n,s)})}function vg(n,t){const e=Mr(CS(n,t)),s=gg(n.transactionQueueTree_,t);return xM(s,l=>{qf(n,l)}),qf(n,s),_S(s,l=>{qf(n,l)}),e}function qf(n,t){const e=ka(t);if(e){const s=[];let l=[],o=-1;for(let u=0;u<e.length;u++)e[u].status===3||(e[u].status===1?(q(o===u-1,"All SENT items should be at beginning of queue."),o=u,e[u].status=3,e[u].abortReason="set"):(q(e[u].status===0,"Unexpected transaction status in abort"),e[u].unwatcher(),l=l.concat(Ai(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&s.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));o===-1?pS(t,void 0):e.length=o+1,pn(n.eventQueue_,Mr(t),l);for(let u=0;u<s.length;u++)Da(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function ZM(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const s=e.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ae(`Invalid query segment '${e}' in query '${n}'`)}return t}const Lv=function(n,t){const e=$M(n),s=e.namespace;e.domain==="firebase.com"&&Jn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&e.domain!=="localhost"&&Jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||aA();const l=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new k0(e.host,e.secure,s,l,t,"",s!==e.subdomain),path:new zt(e.pathString)}},$M=function(n){let t="",e="",s="",l="",o="",u=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(l=KM(n.substring(m,_)));const y=ZM(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")e="localhost";else if(S.split(".").length<=2)e=S;else{const E=t.indexOf(".");s=t.substring(0,E).toLowerCase(),e=t.substring(E+1),o=s}"ns"in y&&(o=y.ns)}return{host:t,port:d,domain:e,subdomain:s,secure:u,scheme:h,pathString:l,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}}class tO{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Et(this._path)?null:Gd(this._path)}get ref(){return new Pi(this._repo,this._path)}get _queryIdentifier(){const t=vv(this._queryParams),e=Vd(t);return e==="{}"?"default":e}get _queryObject(){return vv(this._queryParams)}isEqual(t){if(t=Tr(t),!(t instanceof bg))return!1;const e=this._repo===t._repo,s=Wd(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return e&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+VA(this._path)}}class Pi extends bg{constructor(t,e){super(t,e,new Zd,!1)}get parent(){const t=V0(this._path);return t===null?null:new Pi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class kc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new zt(t),s=Sd(this.ref,t);return new kc(this._node.getChild(e),s,Kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>t(new kc(l,Sd(this.ref,s),Kt)))}hasChild(t){const e=new zt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ki(n,t){return n=Tr(n),n._checkNotDeleted("ref"),t!==void 0?Sd(n._root,t):n._root}function Sd(n,t){return n=Tr(n),yt(n._path)===null?NM("child","path",t):vS("child","path",t),new Pi(n._repo,Qt(n._path,t))}function nO(n){return bS("remove",n._path),AS(n,null)}function AS(n,t){n=Tr(n),bS("set",n._path),MM("set",t,n._path);const e=new xr;return VM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function iO(n,t){DM("update",t,n._path);const e=new xr;return FM(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class Sg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const s=e._queryParams.getIndex();return new JM("value",this,new kc(t.snapshotNode,new Pi(e._repo,e._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new tO(this,t,e):null}matches(t){return t instanceof Sg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sO(n,t,e,s,l){const o=new eO(e,void 0),u=new Sg(o);return qM(n._repo,n,u),()=>GM(n._repo,n,u)}function mr(n,t,e,s){return sO(n,"value",t)}tM(Pi);lM(Pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FIREBASE_DATABASE_EMULATOR_HOST",Ed={};let lO=!1;function rO(n,t,e,s){n.repoInfo_=new k0(t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),s&&(n.authTokenProvider_=s)}function oO(n,t,e,s,l){let o=s||n.options.databaseURL;o===void 0&&(n.options.projectId||Jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ve("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=Lv(o,l),h=u.repoInfo,d;typeof process<"u"&&ev&&(d=ev[aO]),d?(o=`http://${d}?ns=${h.namespace}`,u=Lv(o,l),h=u.repoInfo):u.repoInfo.secure;const g=new mA(n.name,n.options,t);kM("Invalid Firebase Database URL",u),Et(u.path)||Jn("Database URL must point to the root of a Firebase Database (not including a child path).");const m=uO(h,n,g,new pA(n,e));return new hO(m,n)}function cO(n,t){const e=Ed[t];(!e||e[n.key]!==n)&&Jn(`Database ${t}(${n.repoInfo_}) has already been deleted.`),WM(n),delete e[n.key]}function uO(n,t,e,s){let l=Ed[t.name];l||(l={},Ed[t.name]=l);let o=l[n.toURLString()];return o&&Jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BM(n,lO,e,s),l[n.toURLString()]=o,o}class hO{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pi(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jn("Cannot call "+t+" on a deleted database.")}}function fO(n=Pw(),t){const e=zw(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=CT("database");s&&dO(e,...s)}return e}function dO(n,t,e,s={}){n=Tr(n),n._checkNotDeleted("useEmulator");const l=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&yc(s,o.repoInfo_.emulatorOptions))return;Jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new hc(hc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:TT(s.mockUserToken,n.app.options.projectId);u=new hc(h)}rO(o,l,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){Jw(Uw),bc(new or("database",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return oO(s,l,o,e)},"PUBLIC").setMultipleInstances(!0)),ga(nv,iv,n),ga(nv,iv,"esm2017")}Kn.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Kn.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};gO();const pO={apiKey:"AIzaSyBaAQpc3FhzbIu450gLvPBiWsw80WoKd08",authDomain:"birthday-voting-game.firebaseapp.com",databaseURL:"https://birthday-voting-game-default-rtdb.europe-west1.firebasedatabase.app",projectId:"birthday-voting-game",storageBucket:"birthday-voting-game.firebasestorage.app",messagingSenderId:"556117631627",appId:"1:556117631627:web:ec28376e710ceecfdc2a8e"},mO=m0(pO),Li=fO(mO);function _O(){const[n,t]=z.useState([""]),e=Ma(),s=(h,d)=>{const g=[...n];g[h]=d,t(g)},l=()=>t([...n,""]),o=h=>{const d=n.filter((g,m)=>m!==h);t(d)},u=()=>{const h=n.filter(m=>m.trim()!==""),d=ki(Li,"players"),g={};h.forEach((m,_)=>{g[`p${_}`]=m}),AS(d,g),e("/login")};return ut.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-yellow-100 to-pink-100",children:ut.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md space-y-4",children:[ut.jsx("h2",{className:"text-xl font-bold text-center",children:" Setup Players"}),n.map((h,d)=>ut.jsxs("div",{className:"flex space-x-2",children:[ut.jsx("input",{className:"w-full border rounded px-3 py-1",placeholder:`Player ${d+1}`,value:h,onChange:g=>s(d,g.target.value)}),ut.jsx("button",{onClick:()=>o(d),className:"text-red-500 font-bold",children:""})]},d)),ut.jsx("button",{onClick:l,className:"w-full bg-blue-500 text-white py-2 rounded",children:" Add Player"}),ut.jsx("button",{onClick:u,className:"w-full bg-green-500 text-white py-2 rounded font-semibold",children:" Start Game"})]})})}function yO(){const[n,t]=z.useState([]),[e,s]=z.useState(""),l=Ma();z.useEffect(()=>{const u=ki(Li,"players");mr(u,h=>{const d=h.val();d&&t(Object.values(d))})},[]);const o=()=>{if(!e)return alert("Please select your name!");localStorage.setItem("voterName",e),localStorage.removeItem("voted"),l("/vote")};return ut.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-blue-100 to-purple-100",children:ut.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md space-y-4",children:[ut.jsx("h2",{className:"text-xl font-bold text-center text-purple-700",children:" Who are you?"}),ut.jsxs("select",{value:e,onChange:u=>s(u.target.value),className:"w-full border p-2 rounded",children:[ut.jsx("option",{value:"",children:"Select your name"}),n.map((u,h)=>ut.jsx("option",{value:u,children:u},h))]}),ut.jsx("button",{onClick:o,className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 rounded font-semibold",children:" Start Voting"})]})})}function vO(){const[n,t]=z.useState([]),[e,s]=z.useState({}),[l,o]=z.useState(()=>localStorage.getItem("voted")==="yes"),u=Ma();z.useEffect(()=>{const g=ki(Li,"players");mr(g,m=>{const _=m.val();_&&t(Object.values(_))})},[]),z.useEffect(()=>{const g=ki(Li,"votes");mr(g,m=>{s(m.val()||{})})},[]);const h=g=>{if(l)return;const m=localStorage.getItem("voterName");if(!m)return alert("No voter name set!");const _=ki(Li,`votes/${m}`);iO(_,{votedFor:g,timestamp:Date.now()}),localStorage.setItem("voted","yes"),o(!0)},d=Object.keys(e).length>=n.length;return ut.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-100 to-purple-200 p-4",children:ut.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md",children:[ut.jsx("h2",{className:"text-xl font-bold text-center text-purple-700 mb-4",children:" Who fits the question best?"}),l?ut.jsx("p",{className:"text-green-600 text-center",children:" You already voted!"}):ut.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(g=>ut.jsx("button",{onClick:()=>h(g),className:"bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-md font-semibold",children:g},g))}),ut.jsx("button",{onClick:()=>u("/results"),disabled:!d,className:`mt-6 w-full py-2 rounded-lg font-semibold transition-all ${d?"bg-indigo-500 hover:bg-indigo-600 text-white":"bg-gray-400 cursor-not-allowed text-white"}`,children:" Reveal Results"})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Or(n){return n+.5|0}const Ri=(n,t,e)=>Math.max(Math.min(n,e),t);function ql(n){return Ri(Or(n*2.55),0,255)}function zi(n){return Ri(Or(n*255),0,255)}function Wn(n){return Ri(Or(n/2.55)/100,0,1)}function zv(n){return Ri(Or(n*100),0,100)}const an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xd=[..."0123456789ABCDEF"],bO=n=>xd[n&15],SO=n=>xd[(n&240)>>4]+xd[n&15],Ko=n=>(n&240)>>4===(n&15),EO=n=>Ko(n.r)&&Ko(n.g)&&Ko(n.b)&&Ko(n.a);function xO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&an[n[1]]*17,g:255&an[n[2]]*17,b:255&an[n[3]]*17,a:t===5?an[n[4]]*17:255}:(t===7||t===9)&&(e={r:an[n[1]]<<4|an[n[2]],g:an[n[3]]<<4|an[n[4]],b:an[n[5]]<<4|an[n[6]],a:t===9?an[n[7]]<<4|an[n[8]]:255})),e}const CO=(n,t)=>n<255?t(n):"";function TO(n){var t=EO(n)?bO:SO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+CO(n.a,t):void 0}const wO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RS(n,t,e){const s=t*Math.min(e,1-e),l=(o,u=(o+n/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function AO(n,t,e){const s=(l,o=(l+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function RO(n,t,e){const s=RS(n,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)s[l]*=1-t-e,s[l]+=t;return s}function MO(n,t,e,s,l){return n===l?(t-e)/s+(t<e?6:0):t===l?(e-n)/s+2:(n-t)/s+4}function Eg(n){const e=n.r/255,s=n.g/255,l=n.b/255,o=Math.max(e,s,l),u=Math.min(e,s,l),h=(o+u)/2;let d,g,m;return o!==u&&(m=o-u,g=h>.5?m/(2-o-u):m/(o+u),d=MO(e,s,l,m,o),d=d*60+.5),[d|0,g||0,h]}function xg(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(zi)}function Cg(n,t,e){return xg(RS,n,t,e)}function OO(n,t,e){return xg(RO,n,t,e)}function DO(n,t,e){return xg(AO,n,t,e)}function MS(n){return(n%360+360)%360}function NO(n){const t=wO.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?ql(+t[5]):zi(+t[5]));const l=MS(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=OO(l,o,u):t[1]==="hsv"?s=DO(l,o,u):s=Cg(l,o,u),{r:s[0],g:s[1],b:s[2],a:e}}function kO(n,t){var e=Eg(n);e[0]=MS(e[0]+t),e=Cg(e),n.r=e[0],n.g=e[1],n.b=e[2]}function LO(n){if(!n)return;const t=Eg(n),e=t[0],s=zv(t[1]),l=zv(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${l}%, ${Wn(n.a)})`:`hsl(${e}, ${s}%, ${l}%)`}const Iv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zO(){const n={},t=Object.keys(Hv),e=Object.keys(Iv);let s,l,o,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],l=0;l<e.length;l++)o=e[l],h=h.replace(o,Iv[o]);o=parseInt(Hv[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Zo;function IO(n){Zo||(Zo=zO(),Zo.transparent=[0,0,0,0]);const t=Zo[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function BO(n){const t=HO.exec(n);let e=255,s,l,o;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?ql(u):Ri(u*255,0,255)}return s=+t[1],l=+t[3],o=+t[5],s=255&(t[2]?ql(s):Ri(s,0,255)),l=255&(t[4]?ql(l):Ri(l,0,255)),o=255&(t[6]?ql(o):Ri(o,0,255)),{r:s,g:l,b:o,a:e}}}function UO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Wn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Gf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ua=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function PO(n,t,e){const s=ua(Wn(n.r)),l=ua(Wn(n.g)),o=ua(Wn(n.b));return{r:zi(Gf(s+e*(ua(Wn(t.r))-s))),g:zi(Gf(l+e*(ua(Wn(t.g))-l))),b:zi(Gf(o+e*(ua(Wn(t.b))-o))),a:n.a+e*(t.a-n.a)}}function $o(n,t,e){if(n){let s=Eg(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=Cg(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function OS(n,t){return n&&Object.assign(t||{},n)}function Bv(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=zi(n[3]))):(t=OS(n,{r:0,g:0,b:0,a:1}),t.a=zi(t.a)),t}function jO(n){return n.charAt(0)==="r"?BO(n):NO(n)}class _r{constructor(t){if(t instanceof _r)return t;const e=typeof t;let s;e==="object"?s=Bv(t):e==="string"&&(s=xO(t)||IO(t)||jO(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=OS(this._rgb);return t&&(t.a=Wn(t.a)),t}set rgb(t){this._rgb=Bv(t)}rgbString(){return this._valid?UO(this._rgb):void 0}hexString(){return this._valid?TO(this._rgb):void 0}hslString(){return this._valid?LO(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,l=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,d=s.a-l.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-g,s.r=255&g*s.r+o*l.r+.5,s.g=255&g*s.g+o*l.g+.5,s.b=255&g*s.b+o*l.b+.5,s.a=u*s.a+(1-u)*l.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=PO(this._rgb,t._rgb,e)),this}clone(){return new _r(this.rgb)}alpha(t){return this._rgb.a=zi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Or(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $o(this._rgb,2,t),this}darken(t){return $o(this._rgb,2,-t),this}saturate(t){return $o(this._rgb,1,t),this}desaturate(t){return $o(this._rgb,1,-t),this}rotate(t){return kO(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const VO=(()=>{let n=0;return()=>n++})();function Te(n){return n==null}function be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Tt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Cn(n,t){return ti(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const FO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,DS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Vt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ot(n,t,e,s){let l,o,u;if(be(n))for(o=n.length,l=0;l<o;l++)t.call(e,n[l],l);else if(Tt(n))for(u=Object.keys(n),o=u.length,l=0;l<o;l++)t.call(e,n[u[l]],u[l])}function Lc(n,t){let e,s,l,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(l=n[e],o=t[e],l.datasetIndex!==o.datasetIndex||l.index!==o.index)return!1;return!0}function zc(n){if(be(n))return n.map(zc);if(Tt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let l=0;for(;l<s;++l)t[e[l]]=zc(n[e[l]]);return t}return n}function NS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function YO(n,t,e,s){if(!NS(n))return;const l=t[n],o=e[n];Tt(l)&&Tt(o)?yr(l,o,s):t[n]=zc(o)}function yr(n,t,e){const s=be(t)?t:[t],l=s.length;if(!Tt(n))return n;e=e||{};const o=e.merger||YO;let u;for(let h=0;h<l;++h){if(u=s[h],!Tt(u))continue;const d=Object.keys(u);for(let g=0,m=d.length;g<m;++g)o(d[g],n,u,e)}return n}function nr(n,t){return yr(n,t,{merger:qO})}function qO(n,t,e){if(!NS(n))return;const s=t[n],l=e[n];Tt(s)&&Tt(l)?nr(s,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=zc(l))}const Uv={"":n=>n,x:n=>n.x,y:n=>n.y};function GO(n){const t=n.split("."),e=[];let s="";for(const l of t)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function WO(n){const t=GO(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function vr(n,t){return(Uv[t]||(Uv[t]=WO(t)))(n)}function Tg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ic=n=>typeof n<"u",Bi=n=>typeof n=="function",Pv=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function XO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const pe=Math.PI,ie=2*pe,Hc=Number.POSITIVE_INFINITY,QO=pe/180,le=pe/2,as=pe/4,jv=pe*2/3,Vv=Math.sign;function KO(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((l,o)=>l-o).pop(),t}function ZO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bc(n){return!ZO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ds(n){return n*(pe/180)}function $O(n){return n*(180/pe)}function kS(n,t){const e=t.x-n.x,s=t.y-n.y,l=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*pe&&(o+=ie),{angle:o,distance:l}}function JO(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ls(n){return(n%ie+ie)%ie}function Uc(n,t,e,s){const l=ls(n),o=ls(t),u=ls(e),h=ls(o-l),d=ls(u-l),g=ls(l-o),m=ls(l-u);return l===o||l===u||s&&o===u||h>d&&g<m}function rn(n,t,e){return Math.max(t,Math.min(e,n))}function tD(n){return rn(n,-32768,32767)}function Gl(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function wg(n,t,e){e=e||(u=>n[u]<t);let s=n.length-1,l=0,o;for(;s-l>1;)o=l+s>>1,e(o)?l=o:s=o;return{lo:l,hi:s}}const Cd=(n,t,e,s)=>wg(n,e,s?l=>{const o=n[l][t];return o<e||o===e&&n[l+1][t]===e}:l=>n[l][t]<e),eD=(n,t,e)=>wg(n,e,s=>n[s][t]>=e);function nD(n,t,e){let s=0,l=n.length;for(;s<l&&n[s]<t;)s++;for(;l>s&&n[l-1]>e;)l--;return s>0||l<n.length?n.slice(s,l):n}const LS=["push","pop","shift","splice","unshift"];function iD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),LS.forEach(e=>{const s="_onData"+Tg(e),l=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=l.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),u}})})}function Fv(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,l=s.indexOf(t);l!==-1&&s.splice(l,1),!(s.length>0)&&(LS.forEach(o=>{delete n[o]}),delete n._chartjs)}function sD(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const zS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function IS(n,t){let e=[],s=!1;return function(...l){e=l,s||(s=!0,zS.call(window,()=>{s=!1,n.apply(t,e)}))}}function aD(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const HS=n=>n==="start"?"left":n==="end"?"right":"center",Xe=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,lD=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t,Jo=n=>n===0||n===1,Yv=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ie/e)),qv=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ie/e)+1,ir={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*le)+1,easeOutSine:n=>Math.sin(n*le),easeInOutSine:n=>-.5*(Math.cos(pe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Jo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Jo(n)?n:Yv(n,.075,.3),easeOutElastic:n=>Jo(n)?n:qv(n,.075,.3),easeInOutElastic(n){return Jo(n)?n:n<.5?.5*Yv(n*2,.1125,.45):.5+.5*qv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ir.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ir.easeInBounce(n*2)*.5:ir.easeOutBounce(n*2-1)*.5+.5};function BS(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Gv(n){return BS(n)?n:new _r(n)}function Wf(n){return BS(n)?n:new _r(n).saturate(.5).darken(.1).hexString()}const rD=["x","y","borderWidth","radius","tension"],oD=["color","borderColor","backgroundColor"];function cD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:oD},numbers:{type:"number",properties:rD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function uD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Wv=new Map;function hD(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Wv.get(e);return s||(s=new Intl.NumberFormat(n,t),Wv.set(e,s)),s}function fD(n,t,e){return hD(t,e).format(n)}const dD={values(n){return be(n)?n:""+n}};var gD={formatters:dD};function pD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:gD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const vs=Object.create(null),Td=Object.create(null);function sr(n,t){if(!t)return n;const e=t.split(".");for(let s=0,l=e.length;s<l;++s){const o=e[s];n=n[o]||(n[o]=Object.create(null))}return n}function Xf(n,t,e){return typeof t=="string"?yr(sr(n,t),e):yr(sr(n,""),t)}class mD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>Wf(l.backgroundColor),this.hoverBorderColor=(s,l)=>Wf(l.borderColor),this.hoverColor=(s,l)=>Wf(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Xf(this,t,e)}get(t){return sr(this,t)}describe(t,e){return Xf(Td,t,e)}override(t,e){return Xf(vs,t,e)}route(t,e,s,l){const o=sr(this,t),u=sr(this,s),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=u[l];return Tt(d)?Object.assign({},g,d):Dt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var te=new mD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[cD,uD,pD]);function _D(n){return!n||Te(n.size)||Te(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Xv(n,t,e,s,l){let o=t[l];return o||(o=t[l]=n.measureText(l).width,e.push(l)),o>s&&(s=o),s}function rs(n,t,e){const s=n.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*s)/s+l}function Qv(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Kv(n,t,e,s){US(n,t,e,s,null)}function US(n,t,e,s,l){let o,u,h,d,g,m,_,y;const S=t.pointStyle,E=t.rotation,T=t.radius;let C=(E||0)*QO;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),S){default:l?n.ellipse(e,s,l/2,T,0,0,ie):n.arc(e,s,T,0,ie),n.closePath();break;case"triangle":m=l?l/2:T,n.moveTo(e+Math.sin(C)*m,s-Math.cos(C)*T),C+=jv,n.lineTo(e+Math.sin(C)*m,s-Math.cos(C)*T),C+=jv,n.lineTo(e+Math.sin(C)*m,s-Math.cos(C)*T),n.closePath();break;case"rectRounded":g=T*.516,d=T-g,u=Math.cos(C+as)*d,_=Math.cos(C+as)*(l?l/2-g:d),h=Math.sin(C+as)*d,y=Math.sin(C+as)*(l?l/2-g:d),n.arc(e-_,s-h,g,C-pe,C-le),n.arc(e+y,s-u,g,C-le,C),n.arc(e+_,s+h,g,C,C+le),n.arc(e-y,s+u,g,C+le,C+pe),n.closePath();break;case"rect":if(!E){d=Math.SQRT1_2*T,m=l?l/2:d,n.rect(e-m,s-d,2*m,2*d);break}C+=as;case"rectRot":_=Math.cos(C)*(l?l/2:T),u=Math.cos(C)*T,h=Math.sin(C)*T,y=Math.sin(C)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+y,s-u),n.lineTo(e+_,s+h),n.lineTo(e-y,s+u),n.closePath();break;case"crossRot":C+=as;case"cross":_=Math.cos(C)*(l?l/2:T),u=Math.cos(C)*T,h=Math.sin(C)*T,y=Math.sin(C)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+y,s-u),n.lineTo(e-y,s+u);break;case"star":_=Math.cos(C)*(l?l/2:T),u=Math.cos(C)*T,h=Math.sin(C)*T,y=Math.sin(C)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+y,s-u),n.lineTo(e-y,s+u),C+=as,_=Math.cos(C)*(l?l/2:T),u=Math.cos(C)*T,h=Math.sin(C)*T,y=Math.sin(C)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+y,s-u),n.lineTo(e-y,s+u);break;case"line":u=l?l/2:Math.cos(C)*T,h=Math.sin(C)*T,n.moveTo(e-u,s-h),n.lineTo(e+u,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(C)*(l?l/2:T),s+Math.sin(C)*T);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function PS(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ag(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Rg(n){n.restore()}function yD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Te(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function vD(n,t,e,s,l){if(l.strikethrough||l.underline){const o=n.measureText(s),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,m=l.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(u,m),n.lineTo(h,m),n.stroke()}}function bD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Pc(n,t,e,s,l,o={}){const u=be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,g;for(n.save(),n.font=l.string,yD(n,o),d=0;d<u.length;++d)g=u[d],o.backdrop&&bD(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Te(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,s,o.maxWidth)),n.fillText(g,e,s,o.maxWidth),vD(n,e,s,g,o),s+=Number(l.lineHeight);n.restore()}function wd(n,t){const{x:e,y:s,w:l,h:o,radius:u}=t;n.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*pe,pe,!0),n.lineTo(e,s+o-u.bottomLeft),n.arc(e+u.bottomLeft,s+o-u.bottomLeft,u.bottomLeft,pe,le,!0),n.lineTo(e+l-u.bottomRight,s+o),n.arc(e+l-u.bottomRight,s+o-u.bottomRight,u.bottomRight,le,0,!0),n.lineTo(e+l,s+u.topRight),n.arc(e+l-u.topRight,s+u.topRight,u.topRight,0,-le,!0),n.lineTo(e+u.topLeft,s)}const SD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ED=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xD(n,t){const e=(""+n).match(SD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const CD=n=>+n||0;function Mg(n,t){const e={},s=Tt(t),l=s?Object.keys(t):t,o=Tt(n)?s?u=>Dt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of l)e[u]=CD(o(u));return e}function TD(n){return Mg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ar(n){return Mg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(n){const t=TD(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function He(n,t){n=n||{},t=t||te.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Dt(n.style,t.style);s&&!(""+s).match(ED)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:Dt(n.family,t.family),lineHeight:xD(Dt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Dt(n.weight,t.weight),string:""};return l.string=_D(l),l}function tc(n,t,e,s){let l,o,u;for(l=0,o=n.length;l<o;++l)if(u=n[l],u!==void 0&&u!==void 0)return u}function wD(n,t,e){const{min:s,max:l}=n,o=DS(t,(l-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(o)),max:u(l,o)}}function La(n,t){return Object.assign(Object.create(n),t)}function Og(n,t=[""],e,s,l=()=>n[0]){const o=e||n;typeof s>"u"&&(s=YS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:s,_getTarget:l,override:h=>Og([h,...n],t,o,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return VS(h,d,()=>LD(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return $v(h).includes(d)},ownKeys(h){return $v(h)},set(h,d,g){const m=h._storage||(h._storage=l());return h[d]=m[d]=g,delete h._keys,!0}})}function wa(n,t,e,s){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:jS(n,s),setContext:o=>wa(n,o,e,s),override:o=>wa(n.override(o),t,e,s)};return new Proxy(l,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return VS(o,u,()=>RD(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function jS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:e,indexable:s,isScriptable:Bi(e)?e:()=>e,isIndexable:Bi(s)?s:()=>s}}const AD=(n,t)=>n?n+Tg(t):t,Dg=(n,t)=>Tt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function RD(n,t,e){const{_proxy:s,_context:l,_subProxy:o,_descriptors:u}=n;let h=s[t];return Bi(h)&&u.isScriptable(t)&&(h=MD(t,h,n,e)),be(h)&&h.length&&(h=OD(t,h,n,u.isIndexable)),Dg(t,h)&&(h=wa(h,l,o&&o[t],u)),h}function MD(n,t,e,s){const{_proxy:l,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,u||s);return h.delete(n),Dg(n,d)&&(d=Ng(l._scopes,l,n,d)),d}function OD(n,t,e,s){const{_proxy:l,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&s(n))return t[o.index%t.length];if(Tt(t[0])){const d=t,g=l._scopes.filter(m=>m!==d);t=[];for(const m of d){const _=Ng(g,l,n,m);t.push(wa(_,o,u&&u[n],h))}}return t}function FS(n,t,e){return Bi(n)?n(t,e):n}const DD=(n,t)=>n===!0?t:typeof n=="string"?vr(t,n):void 0;function ND(n,t,e,s,l){for(const o of t){const u=DD(e,o);if(u){n.add(u);const h=FS(u._fallback,e,l);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function Ng(n,t,e,s){const l=t._rootScopes,o=FS(t._fallback,e,s),u=[...n,...l],h=new Set;h.add(s);let d=Zv(h,u,e,o||e,s);return d===null||typeof o<"u"&&o!==e&&(d=Zv(h,u,o,d,s),d===null)?!1:Og(Array.from(h),[""],l,o,()=>kD(t,e,s))}function Zv(n,t,e,s,l){for(;e;)e=ND(n,t,e,s,l);return e}function kD(n,t,e){const s=n._getTarget();t in s||(s[t]={});const l=s[t];return be(l)&&Tt(e)?e:l||{}}function LD(n,t,e,s){let l;for(const o of t)if(l=YS(AD(o,n),e),typeof l<"u")return Dg(n,l)?Ng(e,s,n,l):l}function YS(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function $v(n){let t=n._keys;return t||(t=n._keys=zD(n._scopes)),t}function zD(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(s);return Array.from(t)}function kg(){return typeof window<"u"&&typeof document<"u"}function Lg(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function jc(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const lu=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ID(n,t){return lu(n).getPropertyValue(t)}const HD=["top","right","bottom","left"];function gs(n,t,e){const s={};e=e?"-"+e:"";for(let l=0;l<4;l++){const o=HD[l];s[o]=parseFloat(n[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const BD=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function UD(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:l,offsetY:o}=s;let u=!1,h,d;if(BD(l,o,n.target))h=l,d=o;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,d=s.clientY-g.top,u=!0}return{x:h,y:d,box:u}}function hs(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,l=lu(e),o=l.boxSizing==="border-box",u=gs(l,"padding"),h=gs(l,"border","width"),{x:d,y:g,box:m}=UD(n,e),_=u.left+(m&&h.left),y=u.top+(m&&h.top);let{width:S,height:E}=t;return o&&(S-=u.width+h.width,E-=u.height+h.height),{x:Math.round((d-_)/S*e.width/s),y:Math.round((g-y)/E*e.height/s)}}function PD(n,t,e){let s,l;if(t===void 0||e===void 0){const o=n&&Lg(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=lu(o),d=gs(h,"border","width"),g=gs(h,"padding");t=u.width-g.width-d.width,e=u.height-g.height-d.height,s=jc(h.maxWidth,o,"clientWidth"),l=jc(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||Hc,maxHeight:l||Hc}}const ec=n=>Math.round(n*10)/10;function jD(n,t,e,s){const l=lu(n),o=gs(l,"margin"),u=jc(l.maxWidth,n,"clientWidth")||Hc,h=jc(l.maxHeight,n,"clientHeight")||Hc,d=PD(n,t,e);let{width:g,height:m}=d;if(l.boxSizing==="content-box"){const y=gs(l,"border","width"),S=gs(l,"padding");g-=S.width+y.width,m-=S.height+y.height}return g=Math.max(0,g-o.width),m=Math.max(0,s?g/s:m-o.height),g=ec(Math.min(g,u,d.maxWidth)),m=ec(Math.min(m,h,d.maxHeight)),g&&!m&&(m=ec(g/2)),(t!==void 0||e!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,g=ec(Math.floor(m*s))),{width:g,height:m}}function Jv(n,t,e){const s=t||1,l=Math.floor(n.height*s),o=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||u.height!==l||u.width!==o?(n.currentDevicePixelRatio=s,u.height=l,u.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const VD=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};kg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function tb(n,t){const e=ID(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const FD=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},YD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ya(n,t,e){return n?FD(t,e):YD()}function qS(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function GS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function nc(n,t,e){return n.options.clip?n[e]:t[e]}function qD(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:nc(e,t,"left"),right:nc(e,t,"right"),top:nc(s,t,"top"),bottom:nc(s,t,"bottom")}:t}function GD(n,t){const e=t._clip;if(e.disabled)return!1;const s=qD(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class WD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,l){const o=e.listeners[l],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=zS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const o=s.items;let u=o.length-1,h=!1,d;for(;u>=0;--u)d=o[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(l.draw(),this._notify(l,s,t,"progress")),o.length||(s.running=!1,this._notify(l,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qn=new WD;const eb="transparent",XD={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Gv(n||eb),l=s.valid&&Gv(t||eb);return l&&l.valid?l.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class QD{constructor(t,e,s,l){const o=e[s];l=tc([t.to,l,o,t.from]);const u=tc([t.from,o,l]);this._active=!0,this._fn=t.fn||XD[t.type||typeof u],this._easing=ir[t.easing]||ir.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const l=this._target[this._prop],o=s-this._start,u=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=tc([t.to,e,l,t.from]),this._from=tc([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,l=this._prop,o=this._from,u=this._loop,h=this._to;let d;if(this._active=o!==h&&(u||e<s),!this._active){this._target[l]=h,this._notify(!0);return}if(e<0){this._target[l]=o;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][e]()}}class WS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Tt(t))return;const e=Object.keys(te.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const o=t[l];if(!Tt(o))return;const u={};for(const h of e)u[h]=o[h];(be(o.properties)&&o.properties||[l]).forEach(h=>{(h===l||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,l=ZD(t,s);if(!l)return[];const o=this._createAnimations(l,s);return s.$shared&&KD(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,l=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const g=u[d];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(t,e));continue}const m=e[g];let _=o[g];const y=s.get(g);if(_)if(y&&_.active()){_.update(y,m,h);continue}else _.cancel();if(!y||!y.duration){t[g]=m;continue}o[g]=_=new QD(y,t,g,m),l.push(_)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return qn.add(this._chart,s),!0}}function KD(n,t){const e=[],s=Object.keys(t);for(let l=0;l<s.length;l++){const o=n[s[l]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function ZD(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function nb(n,t){const e=n&&n.options||{},s=e.reverse,l=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:s?o:l,end:s?l:o}}function $D(n,t,e){if(e===!1)return!1;const s=nb(n,e),l=nb(t,e);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function JD(n){let t,e,s,l;return Tt(n)?(t=n.top,e=n.right,s=n.bottom,l=n.left):t=e=s=l=n,{top:t,right:e,bottom:s,left:l,disabled:n===!1}}function XS(n,t){const e=[],s=n._getSortedDatasetMetas(t);let l,o;for(l=0,o=s.length;l<o;++l)e.push(s[l].index);return e}function ib(n,t,e,s={}){const l=n.keys,o=s.mode==="single";let u,h,d,g;if(t===null)return;let m=!1;for(u=0,h=l.length;u<h;++u){if(d=+l[u],d===e){if(m=!0,s.all)continue;break}g=n.values[d],ti(g)&&(o||t===0||Vv(t)===Vv(g))&&(t+=g)}return!m&&!s.all?0:t}function t2(n,t){const{iScale:e,vScale:s}=t,l=e.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,g,m;for(d=0,g=u.length;d<g;++d)m=u[d],h[d]={[l]:m,[o]:n[m]};return h}function Qf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function e2(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function n2(n){const{min:t,max:e,minDefined:s,maxDefined:l}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function i2(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function sb(n,t,e,s){for(const l of t.getMatchingVisibleMetas(s).reverse()){const o=n[l.index];if(e&&o>0||!e&&o<0)return l.index}return null}function ab(n,t){const{chart:e,_cachedMeta:s}=n,l=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=s,d=o.axis,g=u.axis,m=e2(o,u,s),_=t.length;let y;for(let S=0;S<_;++S){const E=t[S],{[d]:T,[g]:C}=E,R=E._stacks||(E._stacks={});y=R[g]=i2(l,m,T),y[h]=C,y._top=sb(y,u,!0,s.type),y._bottom=sb(y,u,!1,s.type);const H=y._visualValues||(y._visualValues={});H[h]=C}}function Kf(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function s2(n,t){return La(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function a2(n,t,e){return La(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Pl(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const l of t){const o=l._stacks;if(!o||o[s]===void 0||o[s][e]===void 0)return;delete o[s][e],o[s]._visualValues!==void 0&&o[s]._visualValues[e]!==void 0&&delete o[s]._visualValues[e]}}}const Zf=n=>n==="reset"||n==="none",lb=(n,t)=>t?n:Object.assign({},n),l2=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:XS(e,!0),values:null};class lr{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Qf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Pl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),l=(_,y,S,E)=>_==="x"?y:_==="r"?E:S,o=e.xAxisID=Dt(s.xAxisID,Kf(t,"x")),u=e.yAxisID=Dt(s.yAxisID,Kf(t,"y")),h=e.rAxisID=Dt(s.rAxisID,Kf(t,"r")),d=e.indexAxis,g=e.iAxisID=l(d,o,u,h),m=e.vAxisID=l(d,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Fv(this._data,this),t._stacked&&Pl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Tt(e)){const l=this._cachedMeta;this._data=t2(e,l)}else if(s!==e){if(s){Fv(s,this);const l=this._cachedMeta;Pl(l),l._parsed=[]}e&&Object.isExtensible(e)&&iD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const o=e._stacked;e._stacked=Qf(e.vScale,e),e.stack!==s.stack&&(l=!0,Pl(e),e.stack=s.stack),this._resyncElements(t),(l||o!==e._stacked)&&(ab(this,e._parsed),e._stacked=Qf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:l}=this,{iScale:o,_stacked:u}=s,h=o.axis;let d=t===0&&e===l.length?!0:s._sorted,g=t>0&&s._parsed[t-1],m,_,y;if(this._parsing===!1)s._parsed=l,s._sorted=!0,y=l;else{be(l[t])?y=this.parseArrayData(s,l,t,e):Tt(l[t])?y=this.parseObjectData(s,l,t,e):y=this.parsePrimitiveData(s,l,t,e);const S=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)s._parsed[m+t]=_=y[m],d&&(S()&&(d=!1),g=_);s._sorted=d}u&&ab(this,y)}parsePrimitiveData(t,e,s,l){const{iScale:o,vScale:u}=t,h=o.axis,d=u.axis,g=o.getLabels(),m=o===u,_=new Array(l);let y,S,E;for(y=0,S=l;y<S;++y)E=y+s,_[y]={[h]:m||o.parse(g[E],E),[d]:u.parse(e[E],E)};return _}parseArrayData(t,e,s,l){const{xScale:o,yScale:u}=t,h=new Array(l);let d,g,m,_;for(d=0,g=l;d<g;++d)m=d+s,_=e[m],h[d]={x:o.parse(_[0],m),y:u.parse(_[1],m)};return h}parseObjectData(t,e,s,l){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(l);let m,_,y,S;for(m=0,_=l;m<_;++m)y=m+s,S=e[y],g[m]={x:o.parse(vr(S,h),y),y:u.parse(vr(S,d),y)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const l=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:XS(l,!0),values:e._stacks[t.axis]._visualValues};return ib(h,u,o.index,{mode:s})}updateRangeFromParsed(t,e,s,l){const o=s[e.axis];let u=o===null?NaN:o;const h=l&&s._stacks[e.axis];l&&h&&(l.values=h,u=ib(l,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,l=s._parsed,o=s._sorted&&t===s.iScale,u=l.length,h=this._getOtherScale(t),d=l2(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=n2(h);let y,S;function E(){S=l[y];const T=S[h.axis];return!ti(S[t.axis])||m>T||_<T}for(y=0;y<u&&!(!E()&&(this.updateRangeFromParsed(g,t,S,d),o));++y);if(o){for(y=u-1;y>=0;--y)if(!E()){this.updateRangeFromParsed(g,t,S,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let l,o,u;for(l=0,o=e.length;l<o;++l)u=e[l][t.axis],ti(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,l=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:l?""+l.getLabelForValue(o[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=JD(Dt(this.options.clip,$D(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,l=s.data||[],o=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||l.length-h,g=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,o,h,d),m=h;m<h+d;++m){const _=l[m];_.hidden||(_.active&&g?u.push(_):_.draw(t,o))}for(m=0;m<u.length;++m)u[m].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const l=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=a2(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=l.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=s2(this.chart.getContext(),this.index)),o.dataset=l,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const l=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],d=this.enableOptionSharing&&Ic(s);if(h)return lb(h,d);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=l?[`${t}Hover`,"hover",t,""]:[t,""],y=g.getOptionScopes(this.getDataset(),m),S=Object.keys(te.elements[t]),E=()=>this.getContext(s,l,e),T=g.resolveNamedOptions(y,S,E,_);return T.$shared&&(T.$shared=d,o[u]=Object.freeze(lb(T,d))),T}_resolveAnimations(t,e,s){const l=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let d;if(l.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),_);d=m.createResolver(y,this.getContext(t,s,e))}const g=new WS(l,d&&d.animations);return d&&d._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Zf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),l=this._sharedOptions,o=this.getSharedOptions(s),u=this.includeOptions(e,o)||o!==l;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:u}}updateElement(t,e,s,l){Zf(l)?Object.assign(t,s):this._resolveAnimations(e,l).update(t,s)}updateSharedOptions(t,e,s){t&&!Zf(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,l){t.active=l;const o=this.getStyle(e,l);this._resolveAnimations(e,s,l).update(t,{options:!l&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const l=s.length,o=e.length,u=Math.min(o,l);u&&this.parse(0,u),o>l?this._insertElements(l,o-l,t):o<l&&this._removeElements(o,l-o)}_insertElements(t,e,s=!0){const l=this._cachedMeta,o=l.data,u=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(d(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,l){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(t,e);s._stacked&&Pl(s,l)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,l]=t;this[e](s,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gt(lr,"defaults",{}),gt(lr,"datasetElementType",null),gt(lr,"dataElementType",null);function r2(n,t,e){let s=1,l=1,o=0,u=0;if(t<ie){const h=n,d=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(d),y=Math.sin(d),S=(I,F,V)=>Uc(I,h,d,!0)?1:Math.max(F,F*e,V,V*e),E=(I,F,V)=>Uc(I,h,d,!0)?-1:Math.min(F,F*e,V,V*e),T=S(0,g,_),C=S(le,m,y),R=E(pe,g,_),H=E(pe+le,m,y);s=(T-R)/2,l=(C-H)/2,o=-(T+R)/2,u=-(C+H)/2}return{ratioX:s,ratioY:l,offsetX:o,offsetY:u}}class Wl extends lr{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let o=d=>+s[d];if(Tt(s[t])){const{key:d="value"}=this._parsing;o=g=>+vr(s[g],d)}let u,h;for(u=t,h=t+e;u<h;++u)l._parsed[u]=o(u)}}_getRotation(){return ds(this.options.rotation-90)}_getCircumference(){return ds(this.options.circumference)}_getRotationExtents(){let t=ie,e=-ie;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,o=l._getRotation(),u=l._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,l=this._cachedMeta,o=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),d=Math.min(FO(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:S,offsetX:E,offsetY:T}=r2(_,m,d),C=(s.width-u)/y,R=(s.height-u)/S,H=Math.max(Math.min(C,R)/2,0),I=DS(this.options.radius,H),F=Math.max(I*d,0),V=(I-F)/this._getVisibleDatasetWeightTotal();this.offsetX=E*I,this.offsetY=T*I,l.total=this.calculateTotal(),this.outerRadius=I-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const s=this.options,l=this._cachedMeta,o=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*o/ie)}updateElements(t,e,s,l){const o=l==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,y=o&&g.animateScale,S=y?0:this.innerRadius,E=y?0:this.outerRadius,{sharedOptions:T,includeOptions:C}=this._getSharedOptions(e,l);let R=this._getRotation(),H;for(H=0;H<e;++H)R+=this._circumference(H,o);for(H=e;H<e+s;++H){const I=this._circumference(H,o),F=t[H],V={x:m+this.offsetX,y:_+this.offsetY,startAngle:R,endAngle:R+I,circumference:I,outerRadius:E,innerRadius:S};C&&(V.options=T||this.resolveDataElementOptions(H,F.active?"active":l)),R+=I,this.updateElement(F,H,V,l)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,l;for(l=0;l<e.length;l++){const o=t._parsed[l];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ie*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,l=s.data.labels||[],o=fD(e._parsed[t],s.options.locale);return{label:l[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const s=this.chart;let l,o,u,h,d;if(!t){for(l=0,o=s.data.datasets.length;l<o;++l)if(s.isDatasetVisible(l)){u=s.getDatasetMeta(l),t=u.data,h=u.controller;break}}if(!t)return 0;for(l=0,o=t.length;l<o;++l)d=h.resolveDataElementOptions(l),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,l=t.length;s<l;++s){const o=this.resolveDataElementOptions(s);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gt(Wl,"id","doughnut"),gt(Wl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gt(Wl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),gt(Wl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:l}}=t.legend.options;return e.labels.map((o,u)=>{const d=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class Ad extends Wl{}gt(Ad,"id","pie"),gt(Ad,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function os(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zg{constructor(t){gt(this,"options");this.options=t||{}}static override(t){Object.assign(zg.prototype,t)}init(){}formats(){return os()}parse(){return os()}format(){return os()}add(){return os()}diff(){return os()}startOf(){return os()}endOf(){return os()}}var o2={_date:zg};function c2(n,t,e,s){const{controller:l,data:o,_sorted:u}=n,h=l._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?eD:Cd;if(s){if(l._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const y=g(o,t,e-_),S=g(o,t,e+_);return{lo:y.lo,hi:S.hi}}}}else{const m=g(o,t,e);if(d){const{vScale:_}=l._cachedMeta,{_parsed:y}=n,S=y.slice(0,m.lo+1).reverse().findIndex(T=>!Te(T[_.axis]));m.lo-=Math.max(0,S);const E=y.slice(m.hi).findIndex(T=>!Te(T[_.axis]));m.hi+=Math.max(0,E)}return m}}return{lo:0,hi:o.length-1}}function ru(n,t,e,s,l){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=o.length;h<d;++h){const{index:g,data:m}=o[h],{lo:_,hi:y}=c2(o[h],t,u,l);for(let S=_;S<=y;++S){const E=m[S];E.skip||s(E,g,S)}}}function u2(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,l){const o=t?Math.abs(s.x-l.x):0,u=e?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function $f(n,t,e,s,l){const o=[];return!l&&!n.isPointInArea(t)||ru(n,e,t,function(h,d,g){!l&&!PS(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&o.push({element:h,datasetIndex:d,index:g})},!0),o}function h2(n,t,e,s){let l=[];function o(u,h,d){const{startAngle:g,endAngle:m}=u.getProps(["startAngle","endAngle"],s),{angle:_}=kS(u,{x:t.x,y:t.y});Uc(_,g,m)&&l.push({element:u,datasetIndex:h,index:d})}return ru(n,e,t,o),l}function f2(n,t,e,s,l,o){let u=[];const h=u2(e);let d=Number.POSITIVE_INFINITY;function g(m,_,y){const S=m.inRange(t.x,t.y,l);if(s&&!S)return;const E=m.getCenterPoint(l);if(!(!!o||n.isPointInArea(E))&&!S)return;const C=h(t,E);C<d?(u=[{element:m,datasetIndex:_,index:y}],d=C):C===d&&u.push({element:m,datasetIndex:_,index:y})}return ru(n,e,t,g),u}function Jf(n,t,e,s,l,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!s?h2(n,t,e,l):f2(n,t,e,s,l,o)}function rb(n,t,e,s,l){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return ru(n,e,t,(d,g,m)=>{d[u]&&d[u](t[e],l)&&(o.push({element:d,datasetIndex:g,index:m}),h=h||d.inRange(t.x,t.y,l))}),s&&!h?[]:o}var d2={modes:{index(n,t,e,s){const l=hs(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?$f(n,l,o,s,u):Jf(n,l,o,!1,s,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&d.push({element:_,datasetIndex:g.index,index:m})}),d):[]},dataset(n,t,e,s){const l=hs(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?$f(n,l,o,s,u):Jf(n,l,o,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:d,index:m})}return h},point(n,t,e,s){const l=hs(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return $f(n,l,o,s,u)},nearest(n,t,e,s){const l=hs(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Jf(n,l,o,e.intersect,s,u)},x(n,t,e,s){const l=hs(t,n);return rb(n,l,"x",e.intersect,s)},y(n,t,e,s){const l=hs(t,n);return rb(n,l,"y",e.intersect,s)}}};const QS=["left","top","right","bottom"];function jl(n,t){return n.filter(e=>e.pos===t)}function ob(n,t){return n.filter(e=>QS.indexOf(e.pos)===-1&&e.box.axis===t)}function Vl(n,t){return n.sort((e,s)=>{const l=t?s:e,o=t?e:s;return l.weight===o.weight?l.index-o.index:l.weight-o.weight})}function g2(n){const t=[];let e,s,l,o,u,h;for(e=0,s=(n||[]).length;e<s;++e)l=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=l,t.push({index:e,box:l,pos:o,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&o+u,stackWeight:h});return t}function p2(n){const t={};for(const e of n){const{stack:s,pos:l,stackWeight:o}=e;if(!s||!QS.includes(l))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function m2(n,t){const e=p2(n),{vBoxMaxWidth:s,hBoxMaxHeight:l}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:d}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*s:d&&t.availableWidth,h.height=l):(h.width=s,h.height=m?m*l:d&&t.availableHeight)}return e}function _2(n){const t=g2(n),e=Vl(t.filter(g=>g.box.fullSize),!0),s=Vl(jl(t,"left"),!0),l=Vl(jl(t,"right")),o=Vl(jl(t,"top"),!0),u=Vl(jl(t,"bottom")),h=ob(t,"x"),d=ob(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:l.concat(d).concat(u).concat(h),chartArea:jl(t,"chartArea"),vertical:s.concat(l).concat(d),horizontal:o.concat(u).concat(h)}}function cb(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function KS(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function y2(n,t,e,s){const{pos:l,box:o}=e,u=n.maxPadding;if(!Tt(l)){e.size&&(n[l]-=e.size);const _=s[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[l]+=e.size}o.getPadding&&KS(u,o.getPadding());const h=Math.max(0,t.outerWidth-cb(u,n,"left","right")),d=Math.max(0,t.outerHeight-cb(u,n,"top","bottom")),g=h!==n.w,m=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:m}:{same:m,other:g}}function v2(n){const t=n.maxPadding;function e(s){const l=Math.max(t[s]-n[s],0);return n[s]+=l,l}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function b2(n,t){const e=t.maxPadding;function s(l){const o={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return s(n?["left","right"]:["top","bottom"])}function Xl(n,t,e,s){const l=[];let o,u,h,d,g,m;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,b2(h.horizontal,t));const{same:_,other:y}=y2(t,e,h,s);g|=_&&l.length,m=m||y,d.fullSize||l.push(h)}return g&&Xl(l,t,e,s)||m}function ic(n,t,e,s,l){n.top=e,n.left=t,n.right=t+s,n.bottom=e+l,n.width=s,n.height=l}function ub(n,t,e,s){const l=e.padding;let{x:o,y:u}=t;for(const h of n){const d=h.box,g=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,y=g.size||d.height;Ic(g.start)&&(u=g.start),d.fullSize?ic(d,l.left,u,e.outerWidth-l.right-l.left,y):ic(d,t.left+g.placed,u,_,y),g.start=u,g.placed+=_,u=d.bottom}else{const _=t.h*m,y=g.size||d.width;Ic(g.start)&&(o=g.start),d.fullSize?ic(d,o,l.top,y,e.outerHeight-l.bottom-l.top):ic(d,o,t.top+g.placed,y,_),g.start=o,g.placed+=_,o=d.right}}t.x=o,t.y=u}var Mi={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const l=mn(n.options.layout.padding),o=Math.max(t-l.width,0),u=Math.max(e-l.height,0),h=_2(n.boxes),d=h.vertical,g=h.horizontal;Ot(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const m=d.reduce((T,C)=>C.box.options&&C.box.options.display===!1?T:T+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/m,hBoxMaxHeight:u/2}),y=Object.assign({},l);KS(y,mn(s));const S=Object.assign({maxPadding:y,w:o,h:u,x:l.left,y:l.top},l),E=m2(d.concat(g),_);Xl(h.fullSize,S,_,E),Xl(d,S,_,E),Xl(g,S,_,E)&&Xl(d,S,_,E),v2(S),ub(h.leftAndTop,S,_,E),S.x+=S.w,S.y+=S.h,ub(h.rightAndBottom,S,_,E),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Ot(h.chartArea,T=>{const C=T.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class ZS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,l){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):s)}}isAttached(t){return!0}updateConfig(t){}}class S2 extends ZS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fc="$chartjs",E2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hb=n=>n===null||n==="";function x2(n,t){const e=n.style,s=n.getAttribute("height"),l=n.getAttribute("width");if(n[fc]={initial:{height:s,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",hb(l)){const o=tb(n,"width");o!==void 0&&(n.width=o)}if(hb(s))if(n.style.height==="")n.height=n.width/(t||2);else{const o=tb(n,"height");o!==void 0&&(n.height=o)}return n}const $S=VD?{passive:!0}:!1;function C2(n,t,e){n&&n.addEventListener(t,e,$S)}function T2(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,$S)}function w2(n,t){const e=E2[n.type]||n.type,{x:s,y:l}=hs(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:l!==void 0?l:null}}function Vc(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function A2(n,t,e){const s=n.canvas,l=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Vc(h.addedNodes,s),u=u&&!Vc(h.removedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function R2(n,t,e){const s=n.canvas,l=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Vc(h.removedNodes,s),u=u&&!Vc(h.addedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const br=new Map;let fb=0;function JS(){const n=window.devicePixelRatio;n!==fb&&(fb=n,br.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function M2(n,t){br.size||window.addEventListener("resize",JS),br.set(n,t)}function O2(n){br.delete(n),br.size||window.removeEventListener("resize",JS)}function D2(n,t,e){const s=n.canvas,l=s&&Lg(s);if(!l)return;const o=IS((h,d)=>{const g=l.clientWidth;e(h,d),g<l.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,m=d.contentRect.height;g===0&&m===0||o(g,m)});return u.observe(l),M2(n,o),u}function td(n,t,e){e&&e.disconnect(),t==="resize"&&O2(n)}function N2(n,t,e){const s=n.canvas,l=IS(o=>{n.ctx!==null&&e(w2(o,n))},n);return C2(s,t,l),l}class k2 extends ZS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(x2(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[fc])return!1;const s=e[fc].initial;["height","width"].forEach(o=>{const u=s[o];Te(u)?e.removeAttribute(o):e.setAttribute(o,u)});const l=s.style||{};return Object.keys(l).forEach(o=>{e.style[o]=l[o]}),e.width=e.width,delete e[fc],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),u={attach:A2,detach:R2,resize:D2}[e]||N2;l[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),l=s[e];if(!l)return;({attach:td,detach:td,resize:td}[e]||T2)(t,e,l),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,l){return jD(t,e,s,l)}isAttached(t){const e=t&&Lg(t);return!!(e&&e.isConnected)}}function L2(n){return!kg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?S2:k2}class bs{constructor(){gt(this,"x");gt(this,"y");gt(this,"active",!1);gt(this,"options");gt(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Bc(this.x)&&Bc(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const l={};return t.forEach(o=>{l[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),l}}gt(bs,"defaults",{}),gt(bs,"defaultRoutes");function z2(n,t){const e=n.options.ticks,s=I2(n),l=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?B2(t):[],u=o.length,h=o[0],d=o[u-1],g=[];if(u>l)return U2(t,g,o,u/l),g;const m=H2(o,t,l);if(u>0){let _,y;const S=u>1?Math.round((d-h)/(u-1)):null;for(sc(t,g,m,Te(S)?0:h-S,h),_=0,y=u-1;_<y;_++)sc(t,g,m,o[_],o[_+1]);return sc(t,g,m,d,Te(S)?t.length:d+S),g}return sc(t,g,m),g}function I2(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),l=n._maxLength/e;return Math.floor(Math.min(s,l))}function H2(n,t,e){const s=P2(n),l=t.length/e;if(!s)return Math.max(l,1);const o=KO(s);for(let u=0,h=o.length-1;u<h;u++){const d=o[u];if(d>l)return d}return Math.max(l,1)}function B2(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function U2(n,t,e,s){let l=0,o=e[0],u;for(s=Math.ceil(s),u=0;u<n.length;u++)u===o&&(t.push(n[u]),l++,o=e[l*s])}function sc(n,t,e,s,l){const o=Dt(s,0),u=Math.min(Dt(l,n.length),n.length);let h=0,d,g,m;for(e=Math.ceil(e),l&&(d=l-s,e=d/Math.floor(d/e)),m=o;m<0;)h++,m=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===m&&(t.push(n[g]),h++,m=Math.round(o+h*e))}function P2(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const j2=n=>n==="left"?"right":n==="right"?"left":n,db=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,gb=(n,t)=>Math.min(t||n,n);function pb(n,t){const e=[],s=n.length/t,l=n.length;let o=0;for(;o<l;o+=s)e.push(n[Math.floor(o)]);return e}function V2(n,t,e){const s=n.ticks.length,l=Math.min(t,s-1),o=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(l),g;if(!(e&&(s===1?g=Math.max(d-o,u-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(l-1))/2,d+=l<t?g:-g,d<o-h||d>u+h)))return d}function F2(n,t){Ot(n,e=>{const s=e.gc,l=s.length/2;let o;if(l>t){for(o=0;o<l;++o)delete e.data[s[o]];s.splice(0,l)}})}function Fl(n){return n.drawTicks?n.tickLength:0}function mb(n,t){if(!n.display)return 0;const e=He(n.font,t),s=mn(n.padding);return(be(n.text)?n.text.length:1)*e.lineHeight+s.height}function Y2(n,t){return La(n,{scale:t,type:"scale"})}function q2(n,t,e){return La(n,{tick:e,index:t,type:"tick"})}function G2(n,t,e){let s=HS(n);return(e&&t!=="right"||!e&&t==="right")&&(s=j2(s)),s}function W2(n,t,e,s){const{top:l,left:o,bottom:u,right:h,chart:d}=n,{chartArea:g,scales:m}=d;let _=0,y,S,E;const T=u-l,C=h-o;if(n.isHorizontal()){if(S=Xe(s,o,h),Tt(e)){const R=Object.keys(e)[0],H=e[R];E=m[R].getPixelForValue(H)+T-t}else e==="center"?E=(g.bottom+g.top)/2+T-t:E=db(n,e,t);y=h-o}else{if(Tt(e)){const R=Object.keys(e)[0],H=e[R];S=m[R].getPixelForValue(H)-C+t}else e==="center"?S=(g.left+g.right)/2-C+t:S=db(n,e,t);E=Xe(s,u,l),_=e==="left"?-le:le}return{titleX:S,titleY:E,maxWidth:y,rotation:_}}class ou extends bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:l}=this;return t=Cn(t,Number.POSITIVE_INFINITY),e=Cn(e,Number.NEGATIVE_INFINITY),s=Cn(s,Number.POSITIVE_INFINITY),l=Cn(l,Number.NEGATIVE_INFINITY),{min:Cn(t,s),max:Cn(e,l),minDefined:ti(t),maxDefined:ti(e)}}getMinMax(t){let{min:e,max:s,minDefined:l,maxDefined:o}=this.getUserBounds(),u;if(l&&o)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)u=h[d].controller.getMinMax(this,t),l||(e=Math.min(e,u.min)),o||(s=Math.max(s,u.max));return e=o&&e>s?s:e,s=l&&e>s?e:s,{min:Cn(e,Cn(s,e)),max:Cn(s,Cn(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:l,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wD(this,o,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?pb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=z2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,l,o;for(s=0,l=t.length;s<l;s++)o=t[s],o.label=Vt(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=gb(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,o=e.maxRotation;let u=l,h,d,g;if(!this._isVisible()||!e.display||l>=o||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,S=rn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),_+6>h&&(h=S/(s-(t.offset?.5:1)),d=this.maxHeight-Fl(t.grid)-e.padding-mb(t.title,this.chart.options.font),g=Math.sqrt(_*_+y*y),u=$O(Math.min(Math.asin(rn((m.highest.height+6)/h,-1,1)),Math.asin(rn(d/g,-1,1))-Math.asin(rn(y/g,-1,1)))),u=Math.max(l,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:l,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=mb(l,e.options.font);if(h?(t.width=this.maxWidth,t.height=Fl(o)+d):(t.height=this.maxHeight,t.width=Fl(o)+d),s.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:y}=this._getLabelSizes(),S=s.padding*2,E=ds(this.labelRotation),T=Math.cos(E),C=Math.sin(E);if(h){const R=s.mirror?0:C*_.width+T*y.height;t.height=Math.min(this.maxHeight,t.height+R+S)}else{const R=s.mirror?0:T*_.width+C*y.height;t.width=Math.min(this.maxWidth,t.width+R+S)}this._calculatePadding(g,m,C,T)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,l){const{ticks:{align:o,padding:u},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,S=0;d?g?(y=l*t.width,S=s*e.height):(y=s*t.height,S=l*e.width):o==="start"?S=e.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,S=e.width/2),this.paddingLeft=Math.max((y-m+u)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-_+u)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Te(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=pb(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:l,_longestTextCache:o}=this,u=[],h=[],d=Math.floor(e/gb(e,s));let g=0,m=0,_,y,S,E,T,C,R,H,I,F,V;for(_=0;_<e;_+=d){if(E=t[_].label,T=this._resolveTickFontOptions(_),l.font=C=T.string,R=o[C]=o[C]||{data:{},gc:[]},H=T.lineHeight,I=F=0,!Te(E)&&!be(E))I=Xv(l,R.data,R.gc,I,E),F=H;else if(be(E))for(y=0,S=E.length;y<S;++y)V=E[y],!Te(V)&&!be(V)&&(I=Xv(l,R.data,R.gc,I,V),F+=H);u.push(I),h.push(F),g=Math.max(I,g),m=Math.max(F,m)}F2(o,e);const Q=u.indexOf(g),tt=h.indexOf(m),$=it=>({width:u[it]||0,height:h[it]||0});return{first:$(0),last:$(e-1),widest:$(Q),highest:$(tt),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return tD(this._alignToPixels?rs(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=q2(this.getContext(),t,s))}return this.$context||(this.$context=Y2(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ds(this.labelRotation),s=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,d=o?o.highest.height+u:0;return this.isHorizontal()?d*s>h*l?h/s:d/l:d*l<h*s?d/s:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,l=this.options,{grid:o,position:u,border:h}=l,d=o.offset,g=this.isHorizontal(),_=this.ticks.length+(d?1:0),y=Fl(o),S=[],E=h.setContext(this.getContext()),T=E.display?E.width:0,C=T/2,R=function(L){return rs(s,L,T)};let H,I,F,V,Q,tt,$,it,at,ft,lt,jt;if(u==="top")H=R(this.bottom),tt=this.bottom-y,it=H-C,ft=R(t.top)+C,jt=t.bottom;else if(u==="bottom")H=R(this.top),ft=t.top,jt=R(t.bottom)-C,tt=H+C,it=this.top+y;else if(u==="left")H=R(this.right),Q=this.right-y,$=H-C,at=R(t.left)+C,lt=t.right;else if(u==="right")H=R(this.left),at=t.left,lt=R(t.right)-C,Q=H+C,$=this.left+y;else if(e==="x"){if(u==="center")H=R((t.top+t.bottom)/2+.5);else if(Tt(u)){const L=Object.keys(u)[0],Y=u[L];H=R(this.chart.scales[L].getPixelForValue(Y))}ft=t.top,jt=t.bottom,tt=H+C,it=tt+y}else if(e==="y"){if(u==="center")H=R((t.left+t.right)/2);else if(Tt(u)){const L=Object.keys(u)[0],Y=u[L];H=R(this.chart.scales[L].getPixelForValue(Y))}Q=H-C,$=Q-y,at=t.left,lt=t.right}const Zt=Dt(l.ticks.maxTicksLimit,_),ct=Math.max(1,Math.ceil(_/Zt));for(I=0;I<_;I+=ct){const L=this.getContext(I),Y=o.setContext(L),K=h.setContext(L),ht=Y.lineWidth,w=Y.color,j=K.dash||[],W=K.dashOffset,G=Y.tickWidth,Z=Y.tickColor,mt=Y.tickBorderDash||[],et=Y.tickBorderDashOffset;F=V2(this,I,d),F!==void 0&&(V=rs(s,F,ht),g?Q=$=at=lt=V:tt=it=ft=jt=V,S.push({tx1:Q,ty1:tt,tx2:$,ty2:it,x1:at,y1:ft,x2:lt,y2:jt,width:ht,color:w,borderDash:j,borderDashOffset:W,tickWidth:G,tickColor:Z,tickBorderDash:mt,tickBorderDashOffset:et}))}return this._ticksLength=_,this._borderValue=H,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:l,ticks:o}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:m,mirror:_}=o,y=Fl(s.grid),S=y+m,E=_?-m:S,T=-ds(this.labelRotation),C=[];let R,H,I,F,V,Q,tt,$,it,at,ft,lt,jt="middle";if(l==="top")Q=this.bottom-E,tt=this._getXAxisLabelAlignment();else if(l==="bottom")Q=this.top+E,tt=this._getXAxisLabelAlignment();else if(l==="left"){const ct=this._getYAxisLabelAlignment(y);tt=ct.textAlign,V=ct.x}else if(l==="right"){const ct=this._getYAxisLabelAlignment(y);tt=ct.textAlign,V=ct.x}else if(e==="x"){if(l==="center")Q=(t.top+t.bottom)/2+S;else if(Tt(l)){const ct=Object.keys(l)[0],L=l[ct];Q=this.chart.scales[ct].getPixelForValue(L)+S}tt=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")V=(t.left+t.right)/2-S;else if(Tt(l)){const ct=Object.keys(l)[0],L=l[ct];V=this.chart.scales[ct].getPixelForValue(L)}tt=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(d==="start"?jt="top":d==="end"&&(jt="bottom"));const Zt=this._getLabelSizes();for(R=0,H=h.length;R<H;++R){I=h[R],F=I.label;const ct=o.setContext(this.getContext(R));$=this.getPixelForTick(R)+o.labelOffset,it=this._resolveTickFontOptions(R),at=it.lineHeight,ft=be(F)?F.length:1;const L=ft/2,Y=ct.color,K=ct.textStrokeColor,ht=ct.textStrokeWidth;let w=tt;u?(V=$,tt==="inner"&&(R===H-1?w=this.options.reverse?"left":"right":R===0?w=this.options.reverse?"right":"left":w="center"),l==="top"?g==="near"||T!==0?lt=-ft*at+at/2:g==="center"?lt=-Zt.highest.height/2-L*at+at:lt=-Zt.highest.height+at/2:g==="near"||T!==0?lt=at/2:g==="center"?lt=Zt.highest.height/2-L*at:lt=Zt.highest.height-ft*at,_&&(lt*=-1),T!==0&&!ct.showLabelBackdrop&&(V+=at/2*Math.sin(T))):(Q=$,lt=(1-ft)*at/2);let j;if(ct.showLabelBackdrop){const W=mn(ct.backdropPadding),G=Zt.heights[R],Z=Zt.widths[R];let mt=lt-W.top,et=0-W.left;switch(jt){case"middle":mt-=G/2;break;case"bottom":mt-=G;break}switch(tt){case"center":et-=Z/2;break;case"right":et-=Z;break;case"inner":R===H-1?et-=Z:R>0&&(et-=Z/2);break}j={left:et,top:mt,width:Z+W.width,height:G+W.height,color:ct.backdropColor}}C.push({label:F,font:it,textOffset:lt,options:{rotation:T,color:Y,strokeColor:K,strokeWidth:ht,textAlign:w,textBaseline:jt,translation:[V,Q],backdrop:j}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ds(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:l,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,d=u.widest.width;let g,m;return e==="left"?l?(m=this.right+o,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m+=d)):(m=this.right-h,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m=this.left)):e==="right"?l?(m=this.left+o,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m-=d)):(m=this.left+h,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:l,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,l,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(o=>o.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(d,g,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(o=0,u=l.length;o<u;++o){const d=l[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:l}}=this,o=s.setContext(this.getContext()),u=s.display?o.width:0;if(!u)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,m,_,y;this.isHorizontal()?(g=rs(t,this.left,u)-u/2,m=rs(t,this.right,h)+h/2,_=y=d):(_=rs(t,this.top,u)-u/2,y=rs(t,this.bottom,h)+h/2,g=m=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&Ag(s,l);const o=this.getLabelItems(t);for(const u of o){const h=u.options,d=u.font,g=u.label,m=u.textOffset;Pc(s,g,0,m,d,h)}l&&Rg(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:l}}=this;if(!s.display)return;const o=He(s.font),u=mn(s.padding),h=s.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Tt(e)?(d+=u.bottom,be(s.text)&&(d+=o.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:g,titleY:m,maxWidth:_,rotation:y}=W2(this,d,e,h);Pc(t,s.text,0,0,o,{color:s.color,maxWidth:_,rotation:y,textAlign:G2(h,e,l),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Dt(t.grid&&t.grid.z,-1),l=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ou.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[s]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return He(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ac{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;K2(e)&&(s=this.register(e));const l=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in l||(l[o]=t,X2(t,u,s),this.override&&te.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,l=this.scope;s in e&&delete e[s],l&&s in te[l]&&(delete te[l][s],this.override&&delete vs[s])}}function X2(n,t,e){const s=yr(Object.create(null),[e?te.get(e):{},te.get(t),n.defaults]);te.set(t,s),n.defaultRoutes&&Q2(t,n.defaultRoutes),n.descriptors&&te.describe(t,n.descriptors)}function Q2(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),l=s.pop(),o=[n].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");te.route(o,l,d,h)})}function K2(n){return"id"in n&&"defaults"in n}class Z2{constructor(){this.controllers=new ac(lr,"datasets",!0),this.elements=new ac(bs,"elements"),this.plugins=new ac(Object,"plugins"),this.scales=new ac(ou,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(l=>{const o=s||this._getRegistryForType(l);s||o.isForType(l)||o===this.plugins&&l.id?this._exec(t,o,l):Ot(l,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const l=Tg(t);Vt(s["before"+l],[],s),e[t](s),Vt(s["after"+l],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return l}}var wn=new Z2;class $2{constructor(){this._init=[]}notify(t,e,s,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(o,t,e,s);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,s,l){l=l||{};for(const o of t){const u=o.plugin,h=u[s],d=[e,l,o.options];if(Vt(h,d,u)===!1&&l.cancelable)return!1}return!0}invalidate(){Te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,l=Dt(s.options&&s.options.plugins,{}),o=J2(s);return l===!1&&!e?[]:eN(t,o,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,l=(o,u)=>o.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(l(e,s),t,"stop"),this._notify(l(s,e),t,"start")}}function J2(n){const t={},e=[],s=Object.keys(wn.plugins.items);for(let o=0;o<s.length;o++)e.push(wn.getPlugin(s[o]));const l=n.plugins||[];for(let o=0;o<l.length;o++){const u=l[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function tN(n,t){return!t&&n===!1?null:n===!0?{}:n}function eN(n,{plugins:t,localIds:e},s,l){const o=[],u=n.getContext();for(const h of t){const d=h.id,g=tN(s[d],l);g!==null&&o.push({plugin:h,options:nN(n.config,{plugin:h,local:e[d]},g,u)})}return o}function nN(n,{plugin:t,local:e},s,l){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(s,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rd(n,t){const e=te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function iN(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function sN(n,t){return n===t?"_index_":"_value_"}function _b(n){if(n==="x"||n==="y"||n==="r")return n}function aN(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Md(n,...t){if(_b(n))return n;for(const e of t){const s=e.axis||aN(e.position)||n.length>1&&_b(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function yb(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function lN(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return yb(n,"x",e[0])||yb(n,"y",e[0])}return{}}function rN(n,t){const e=vs[n.type]||{scales:{}},s=t.scales||{},l=Rd(n.type,t),o=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!Tt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=Md(u,h,lN(u,n),te.scales[h.type]),g=sN(d,l),m=e.scales||{};o[u]=nr(Object.create(null),[{axis:d},h,m[d],m[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||Rd(h,t),m=(vs[h]||{}).scales||{};Object.keys(m).forEach(_=>{const y=iN(_,d),S=u[y+"AxisID"]||y;o[S]=o[S]||Object.create(null),nr(o[S],[{axis:y},s[S],m[_]])})}),Object.keys(o).forEach(u=>{const h=o[u];nr(h,[te.scales[h.type],te.scale])}),o}function tE(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=rN(n,t)}function eE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function oN(n){return n=n||{},n.data=eE(n.data),tE(n),n}const vb=new Map,nE=new Set;function lc(n,t){let e=vb.get(n);return e||(e=t(),vb.set(n,e),nE.add(e)),e}const Yl=(n,t,e)=>{const s=vr(t,e);s!==void 0&&n.add(s)};class cN{constructor(t){this._config=oN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=eE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),tE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return lc(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let l=s.get(t);return(!l||e)&&(l=new Map,s.set(t,l)),l}getOptionScopes(t,e,s){const{options:l,type:o}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(m=>{t&&(d.add(t),m.forEach(_=>Yl(d,t,_))),m.forEach(_=>Yl(d,l,_)),m.forEach(_=>Yl(d,vs[o]||{},_)),m.forEach(_=>Yl(d,te,_)),m.forEach(_=>Yl(d,Td,_))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),nE.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,vs[e]||{},te.datasets[e]||{},{type:e},te,Td]}resolveNamedOptions(t,e,s,l=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=bb(this._resolverCache,t,l);let d=u;if(hN(u,e)){o.$shared=!1,s=Bi(s)?s():s;const g=this.createResolver(t,s,h);d=wa(u,s,g)}for(const g of e)o[g]=d[g];return o}createResolver(t,e,s=[""],l){const{resolver:o}=bb(this._resolverCache,t,s);return Tt(e)?wa(o,e,void 0,l):o}}function bb(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const l=e.join();let o=s.get(l);return o||(o={resolver:Og(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(l,o)),o}const uN=n=>Tt(n)&&Object.getOwnPropertyNames(n).some(t=>Bi(n[t]));function hN(n,t){const{isScriptable:e,isIndexable:s}=jS(n);for(const l of t){const o=e(l),u=s(l),h=(u||o)&&n[l];if(o&&(Bi(h)||uN(h))||u&&be(h))return!0}return!1}var fN="4.4.9";const dN=["top","bottom","left","right","chartArea"];function Sb(n,t){return n==="top"||n==="bottom"||dN.indexOf(n)===-1&&t==="x"}function Eb(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function xb(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Vt(e&&e.onComplete,[n],t)}function gN(n){const t=n.chart,e=t.options.animation;Vt(e&&e.onProgress,[n],t)}function iE(n){return kg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dc={},Cb=n=>{const t=iE(n);return Object.values(dc).filter(e=>e.canvas===t).pop()};function pN(n,t,e){const s=Object.keys(n);for(const l of s){const o=+l;if(o>=t){const u=n[l];delete n[l],(e>0||o>t)&&(n[o+e]=u)}}}function mN(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}var wi;let cu=(wi=class{static register(...t){wn.add(...t),Tb()}static unregister(...t){wn.remove(...t),Tb()}constructor(t,e){const s=this.config=new cN(e),l=iE(t),o=Cb(l);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||L2(l)),this.platform.updateConfig(s);const h=this.platform.acquireContext(l,u.aspectRatio),d=h&&h.canvas,g=d&&d.height,m=d&&d.width;if(this.id=VO(),this.ctx=h,this.canvas=d,this.width=m,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aD(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],dc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",xb),qn.listen(this,"progress",gN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:l,_aspectRatio:o}=this;return Te(t)?e&&o?o:l?s/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qv(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(t,e){qn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,l=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,t,e,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Jv(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Vt(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ot(e,(s,l)=>{s.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,l=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],d=Md(u,h),g=d==="r",m=d==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Ot(o,u=>{const h=u.options,d=h.id,g=Md(d,h),m=Dt(h.type,u.dtype);(h.position===void 0||Sb(h.position,g)!==Sb(u.dposition))&&(h.position=u.dposition),l[d]=!0;let _=null;if(d in s&&s[d].type===m)_=s[d];else{const y=wn.getScale(m);_=new y({id:d,type:m,ctx:this.ctx,chart:this}),s[_.id]=_}_.init(h,t)}),Ot(l,(u,h)=>{u||delete s[h]}),Ot(s,u=>{Mi.configure(this,u,u.options),Mi.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((l,o)=>l.index-o.index),s>e){for(let l=e;l<s;++l)this._destroyDatasetMeta(l);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Eb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,l)=>{e.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=e.length;s<l;s++){const o=e[s];let u=this.getDatasetMeta(s);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=o.indexAxis||Rd(h,this.options),u.order=o.order||0,u.index=s,u.label=""+o.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=wn.getController(h),{datasetElementType:g,dataElementType:m}=te.datasets[h];Object.assign(d,{dataElementType:wn.getElement(m),datasetElementType:g&&wn.getElement(g)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Ot(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),y=!l&&o.indexOf(_)===-1;_.buildOrUpdateElements(y),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),l||Ot(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Eb("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ot(this.scales,t=>{Mi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Pv(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:o}of e){const u=s==="_removeElements"?-o:o;pN(t,l,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),l=s(0);for(let o=1;o<e;o++)if(!Pv(l,s(o)))return;return Array.from(l).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mi.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Ot(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,o)=>{l._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Bi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),l={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),xb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let l,o;for(l=0,o=e.length;l<o;++l){const u=e[l];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},l=GD(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(l&&Ag(e,l),t.controller.draw(),l&&Rg(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return PS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,l){const o=d2.modes[e];return typeof o=="function"?o(this,t,s,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let l=s.filter(o=>o&&o._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=La(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const l=s?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,l);Ic(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(o,{visible:s}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),qn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qv(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},l=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Ot(this.options.events,o=>s(o,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},l=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},o=(d,g)=>{this.canvas&&this.resize(d,g)};let u;const h=()=>{l("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",u)};u=()=>{this.attached=!1,l("resize",o),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Ot(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ot(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const l=s?"set":"remove";let o,u,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Lc(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const l=this.options.hover,o=(d,g)=>d.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),u=o(e,t),h=s?t:o(t,e);u.length&&this.updateHoverStyle(u,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:l=[],options:o}=this,u=e,h=this._getActiveElements(t,l,s,u),d=XO(t),g=mN(t,this._lastEvent,s,d);s&&(this._lastEvent=null,Vt(o.onHover,[t,h,this],this),d&&Vt(o.onClick,[t,h,this],this));const m=!Lc(h,l);return(m||e)&&(this._active=h,this._updateHoverStyles(h,l,e)),this._lastEvent=g,m}_getActiveElements(t,e,s,l){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,l)}},gt(wi,"defaults",te),gt(wi,"instances",dc),gt(wi,"overrides",vs),gt(wi,"registry",wn),gt(wi,"version",fN),gt(wi,"getChart",Cb),wi);function Tb(){return Ot(cu.instances,n=>n._plugins.invalidate())}function _N(n,t,e){const{startAngle:s,pixelMargin:l,x:o,y:u,outerRadius:h,innerRadius:d}=t;let g=l/h;n.beginPath(),n.arc(o,u,h,s-g,e+g),d>l?(g=l/d,n.arc(o,u,d,e+g,s-g,!0)):n.arc(o,u,l,e+le,s-le),n.closePath(),n.clip()}function yN(n){return Mg(n,["outerStart","outerEnd","innerStart","innerEnd"])}function vN(n,t,e,s){const l=yN(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,s*t/2),h=d=>{const g=(e-Math.min(o,d))*s/2;return rn(d,0,Math.min(o,g))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:rn(l.innerStart,0,u),innerEnd:rn(l.innerEnd,0,u)}}function ha(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Fc(n,t,e,s,l,o){const{x:u,y:h,startAngle:d,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+s+e-g,0),y=m>0?m+s+e+g:0;let S=0;const E=l-d;if(s){const ct=m>0?m-s:0,L=_>0?_-s:0,Y=(ct+L)/2,K=Y!==0?E*Y/(Y+s):E;S=(E-K)/2}const T=Math.max(.001,E*_-e/pe)/_,C=(E-T)/2,R=d+C+S,H=l-C-S,{outerStart:I,outerEnd:F,innerStart:V,innerEnd:Q}=vN(t,y,_,H-R),tt=_-I,$=_-F,it=R+I/tt,at=H-F/$,ft=y+V,lt=y+Q,jt=R+V/ft,Zt=H-Q/lt;if(n.beginPath(),o){const ct=(it+at)/2;if(n.arc(u,h,_,it,ct),n.arc(u,h,_,ct,at),F>0){const ht=ha($,at,u,h);n.arc(ht.x,ht.y,F,at,H+le)}const L=ha(lt,H,u,h);if(n.lineTo(L.x,L.y),Q>0){const ht=ha(lt,Zt,u,h);n.arc(ht.x,ht.y,Q,H+le,Zt+Math.PI)}const Y=(H-Q/y+(R+V/y))/2;if(n.arc(u,h,y,H-Q/y,Y,!0),n.arc(u,h,y,Y,R+V/y,!0),V>0){const ht=ha(ft,jt,u,h);n.arc(ht.x,ht.y,V,jt+Math.PI,R-le)}const K=ha(tt,R,u,h);if(n.lineTo(K.x,K.y),I>0){const ht=ha(tt,it,u,h);n.arc(ht.x,ht.y,I,R-le,it)}}else{n.moveTo(u,h);const ct=Math.cos(it)*_+u,L=Math.sin(it)*_+h;n.lineTo(ct,L);const Y=Math.cos(at)*_+u,K=Math.sin(at)*_+h;n.lineTo(Y,K)}n.closePath()}function bN(n,t,e,s,l){const{fullCircles:o,startAngle:u,circumference:h}=t;let d=t.endAngle;if(o){Fc(n,t,e,s,d,l);for(let g=0;g<o;++g)n.fill();isNaN(h)||(d=u+(h%ie||ie))}return Fc(n,t,e,s,d,l),n.fill(),d}function SN(n,t,e,s,l){const{fullCircles:o,startAngle:u,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:y}=d,S=d.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=y,S?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let E=t.endAngle;if(o){Fc(n,t,e,s,E,l);for(let T=0;T<o;++T)n.stroke();isNaN(h)||(E=u+(h%ie||ie))}S&&_N(n,t,E),o||(Fc(n,t,e,s,E,l),n.stroke())}class Ql extends bs{constructor(e){super();gt(this,"circumference");gt(this,"endAngle");gt(this,"fullCircles");gt(this,"innerRadius");gt(this,"outerRadius");gt(this,"pixelMargin");gt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,l){const o=this.getProps(["x","y"],l),{angle:u,distance:h}=kS(o,{x:e,y:s}),{startAngle:d,endAngle:g,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),S=(this.options.spacing+this.options.borderWidth)/2,E=Dt(y,g-d),T=Uc(u,d,g)&&d!==g,C=E>=ie||T,R=Gl(h,m+S,_+S);return C&&R}getCenterPoint(e){const{x:s,y:l,startAngle:o,endAngle:u,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:m}=this.options,_=(o+u)/2,y=(h+d+m+g)/2;return{x:s+Math.cos(_)*y,y:l+Math.sin(_)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:l}=this,o=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>ie?Math.floor(l/ie):0,l===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*o,Math.sin(d)*o);const g=1-Math.sin(Math.min(pe,l||0)),m=o*g;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,bN(e,this,m,u,h),SN(e,this,m,u,h),e.restore()}}gt(Ql,"id","arc"),gt(Ql,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),gt(Ql,"defaultRoutes",{backgroundColor:"backgroundColor"}),gt(Ql,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});const wb=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},EN=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Ab extends bs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Vt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,l)=>t.sort(s,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,l=He(s.font),o=l.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=wb(s,o);let g,m;e.font=l.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(u,o,h,d)+10):(m=this.maxHeight,g=this._fitCols(u,l,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,l){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],m=l+h;let _=t;o.textAlign="left",o.textBaseline="middle";let y=-1,S=-m;return this.legendItems.forEach((E,T)=>{const C=s+e/2+o.measureText(E.text).width;(T===0||g[g.length-1]+C+2*h>u)&&(_+=m,g[g.length-(T>0?0:1)]=0,S+=m,y++),d[T]={left:0,top:S,row:y,width:C,height:l},g[g.length-1]+=C+h}),_}_fitCols(t,e,s,l){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],m=u-t;let _=h,y=0,S=0,E=0,T=0;return this.legendItems.forEach((C,R)=>{const{itemWidth:H,itemHeight:I}=xN(s,e,o,C,l);R>0&&S+I+2*h>m&&(_+=y+h,g.push({width:y,height:S}),E+=y+h,T++,y=S=0),d[R]={left:E,top:S,col:T,width:H,height:I},y=Math.max(y,H),S+=I+h}),_+=y,g.push({width:y,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:l},rtl:o}}=this,u=ya(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=Xe(s,this.left+l,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=Xe(s,this.left+l,this.right-this.lineWidths[h])),g.top+=this.top+t+l,g.left=u.leftForLtr(u.x(d),g.width),d+=g.width+l}else{let h=0,d=Xe(s,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=Xe(s,this.top+t+l,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+l,g.left=u.leftForLtr(u.x(g.left),g.width),d+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ag(t,this),this._draw(),Rg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:l}=this,{align:o,labels:u}=t,h=te.color,d=ya(t.rtl,this.left,this.width),g=He(u.font),{padding:m}=u,_=g.size,y=_/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;const{boxWidth:E,boxHeight:T,itemHeight:C}=wb(u,_),R=function(Q,tt,$){if(isNaN(E)||E<=0||isNaN(T)||T<0)return;l.save();const it=Dt($.lineWidth,1);if(l.fillStyle=Dt($.fillStyle,h),l.lineCap=Dt($.lineCap,"butt"),l.lineDashOffset=Dt($.lineDashOffset,0),l.lineJoin=Dt($.lineJoin,"miter"),l.lineWidth=it,l.strokeStyle=Dt($.strokeStyle,h),l.setLineDash(Dt($.lineDash,[])),u.usePointStyle){const at={radius:T*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:it},ft=d.xPlus(Q,E/2),lt=tt+y;US(l,at,ft,lt,u.pointStyleWidth&&E)}else{const at=tt+Math.max((_-T)/2,0),ft=d.leftForLtr(Q,E),lt=ar($.borderRadius);l.beginPath(),Object.values(lt).some(jt=>jt!==0)?wd(l,{x:ft,y:at,w:E,h:T,radius:lt}):l.rect(ft,at,E,T),l.fill(),it!==0&&l.stroke()}l.restore()},H=function(Q,tt,$){Pc(l,$.text,Q,tt+C/2,g,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},I=this.isHorizontal(),F=this._computeTitleHeight();I?S={x:Xe(o,this.left+m,this.right-s[0]),y:this.top+m+F,line:0}:S={x:this.left+m,y:Xe(o,this.top+F+m,this.bottom-e[0].height),line:0},qS(this.ctx,t.textDirection);const V=C+m;this.legendItems.forEach((Q,tt)=>{l.strokeStyle=Q.fontColor,l.fillStyle=Q.fontColor;const $=l.measureText(Q.text).width,it=d.textAlign(Q.textAlign||(Q.textAlign=u.textAlign)),at=E+y+$;let ft=S.x,lt=S.y;d.setWidth(this.width),I?tt>0&&ft+at+m>this.right&&(lt=S.y+=V,S.line++,ft=S.x=Xe(o,this.left+m,this.right-s[S.line])):tt>0&&lt+V>this.bottom&&(ft=S.x=ft+e[S.line].width+m,S.line++,lt=S.y=Xe(o,this.top+F+m,this.bottom-e[S.line].height));const jt=d.x(ft);if(R(jt,lt,Q),ft=lD(it,ft+E+y,I?ft+at:this.right,t.rtl),H(d.x(ft),lt,Q),I)S.x+=at+m;else if(typeof Q.text!="string"){const Zt=g.lineHeight;S.y+=sE(Q,Zt)+m}else S.y+=V}),GS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=He(e.font),l=mn(e.padding);if(!e.display)return;const o=ya(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,g=l.top+d;let m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+g,_=Xe(t.align,_,this.right-y);else{const E=this.columnSizes.reduce((T,C)=>Math.max(T,C.height),0);m=g+Xe(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const S=Xe(h,_,_+y);u.textAlign=o.textAlign(HS(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,Pc(u,e.text,S,m,s)}_computeTitleHeight(){const t=this.options.title,e=He(t.font),s=mn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,l,o;if(Gl(t,this.left,this.right)&&Gl(e,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(l=o[s],Gl(t,l.left,l.left+l.width)&&Gl(e,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!wN(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,o=EN(l,s);l&&!o&&Vt(e.onLeave,[t,l,this],this),this._hoveredItem=s,s&&!o&&Vt(e.onHover,[t,s,this],this)}else s&&Vt(e.onClick,[t,s,this],this)}}function xN(n,t,e,s,l){const o=CN(s,n,t,e),u=TN(l,s,t.lineHeight);return{itemWidth:o,itemHeight:u}}function CN(n,t,e,s){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+s.measureText(l).width}function TN(n,t,e){let s=n;return typeof t.text!="string"&&(s=sE(t,e)),s}function sE(n,t){const e=n.text?n.text.length:0;return t*e}function wN(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var AN={id:"legend",_element:Ab,start(n,t,e){const s=n.legend=new Ab({ctx:n.ctx,options:e,chart:n});Mi.configure(n,s,e),Mi.addBox(n,s)},stop(n){Mi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Mi.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,l=e.chart;l.isDatasetVisible(s)?(l.hide(s),t.hidden=!0):(l.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:l,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),m=mn(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Kl={average(n){if(!n.length)return!1;let t,e,s=new Set,l=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),l+=d.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:l/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,l=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const d=n[o].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),m=JO(t,g);m<l&&(l=m,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function Tn(n,t){return t&&(be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Gn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function RN(n,t){const{element:e,datasetIndex:s,index:l}=t,o=n.getDatasetMeta(s).controller,{label:u,value:h}=o.getLabelAndValue(l);return{chart:n,label:u,parsed:o.getParsed(l),raw:n.data.datasets[s].data[l],formattedValue:h,dataset:o.getDataset(),dataIndex:l,datasetIndex:s,element:e}}function Rb(n,t){const e=n.chart.ctx,{body:s,footer:l,title:o}=n,{boxWidth:u,boxHeight:h}=t,d=He(t.bodyFont),g=He(t.titleFont),m=He(t.footerFont),_=o.length,y=l.length,S=s.length,E=mn(t.padding);let T=E.height,C=0,R=s.reduce((F,V)=>F+V.before.length+V.lines.length+V.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,_&&(T+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),R){const F=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;T+=S*F+(R-S)*d.lineHeight+(R-1)*t.bodySpacing}y&&(T+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let H=0;const I=function(F){C=Math.max(C,e.measureText(F).width+H)};return e.save(),e.font=g.string,Ot(n.title,I),e.font=d.string,Ot(n.beforeBody.concat(n.afterBody),I),H=t.displayColors?u+2+t.boxPadding:0,Ot(s,F=>{Ot(F.before,I),Ot(F.lines,I),Ot(F.after,I)}),H=0,e.font=m.string,Ot(n.footer,I),e.restore(),C+=E.width,{width:C,height:T}}function MN(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function ON(n,t,e,s){const{x:l,width:o}=s,u=e.caretSize+e.caretPadding;if(n==="left"&&l+o+u>t.width||n==="right"&&l-o-u<0)return!0}function DN(n,t,e,s){const{x:l,width:o}=e,{width:u,chartArea:{left:h,right:d}}=n;let g="center";return s==="center"?g=l<=(h+d)/2?"left":"right":l<=o/2?g="left":l>=u-o/2&&(g="right"),ON(g,n,t,e)&&(g="center"),g}function Mb(n,t,e){const s=e.yAlign||t.yAlign||MN(n,e);return{xAlign:e.xAlign||t.xAlign||DN(n,t,e,s),yAlign:s}}function NN(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function kN(n,t,e){let{y:s,height:l}=n;return t==="top"?s+=e:t==="bottom"?s-=l+e:s-=l/2,s}function Ob(n,t,e,s){const{caretSize:l,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,g=l+o,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:S}=ar(u);let E=NN(t,h);const T=kN(t,d,g);return d==="center"?h==="left"?E+=g:h==="right"&&(E-=g):h==="left"?E-=Math.max(m,y)+l:h==="right"&&(E+=Math.max(_,S)+l),{x:rn(E,0,s.width-t.width),y:rn(T,0,s.height-t.height)}}function rc(n,t,e){const s=mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function Db(n){return Tn([],Gn(n))}function LN(n,t,e){return La(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Nb(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const aE={beforeTitle:Yn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Te(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function ke(n,t,e,s){const l=n[t].call(e,s);return typeof l>"u"?aE[t].call(e,s):l}class Od extends bs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&e.options.animation&&s.animations,o=new WS(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=LN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,l=ke(s,"beforeTitle",this,t),o=ke(s,"title",this,t),u=ke(s,"afterTitle",this,t);let h=[];return h=Tn(h,Gn(l)),h=Tn(h,Gn(o)),h=Tn(h,Gn(u)),h}getBeforeBody(t,e){return Db(ke(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,l=[];return Ot(t,o=>{const u={before:[],lines:[],after:[]},h=Nb(s,o);Tn(u.before,Gn(ke(h,"beforeLabel",this,o))),Tn(u.lines,ke(h,"label",this,o)),Tn(u.after,Gn(ke(h,"afterLabel",this,o))),l.push(u)}),l}getAfterBody(t,e){return Db(ke(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,l=ke(s,"beforeFooter",this,t),o=ke(s,"footer",this,t),u=ke(s,"afterFooter",this,t);let h=[];return h=Tn(h,Gn(l)),h=Tn(h,Gn(o)),h=Tn(h,Gn(u)),h}_createItems(t){const e=this._active,s=this.chart.data,l=[],o=[],u=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(RN(this.chart,e[d]));return t.filter&&(h=h.filter((m,_,y)=>t.filter(m,_,y,s))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,s))),Ot(h,m=>{const _=Nb(t.callbacks,m);l.push(ke(_,"labelColor",this,m)),o.push(ke(_,"labelPointStyle",this,m)),u.push(ke(_,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),l=this._active;let o,u=[];if(!l.length)this.opacity!==0&&(o={opacity:0});else{const h=Kl[s.position].call(this,l,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=Rb(this,s),g=Object.assign({},h,d),m=Mb(this.chart,s,g),_=Ob(s,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,l){const o=this.getCaretPosition(t,s,l);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:l,yAlign:o}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:_}=ar(h),{x:y,y:S}=t,{width:E,height:T}=e;let C,R,H,I,F,V;return o==="center"?(F=S+T/2,l==="left"?(C=y,R=C-u,I=F+u,V=F-u):(C=y+E,R=C+u,I=F-u,V=F+u),H=C):(l==="left"?R=y+Math.max(d,m)+u:l==="right"?R=y+E-Math.max(g,_)-u:R=this.caretX,o==="top"?(I=S,F=I-u,C=R-u,H=R+u):(I=S+T,F=I+u,C=R+u,H=R-u),V=I),{x1:C,x2:R,x3:H,y1:I,y2:F,y3:V}}drawTitle(t,e,s){const l=this.title,o=l.length;let u,h,d;if(o){const g=ya(s.rtl,this.x,this.width);for(t.x=rc(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=He(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<o;++d)e.fillText(l[d],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===o&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,l,o){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:g}=o,m=He(o.bodyFont),_=rc(this,"left",o),y=l.x(_),S=d<m.lineHeight?(m.lineHeight-d)/2:0,E=e.y+S;if(o.usePointStyle){const T={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=l.leftForLtr(y,g)+g/2,R=E+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Kv(t,T,C,R),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Kv(t,T,C,R)}else{t.lineWidth=Tt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const T=l.leftForLtr(y,g),C=l.leftForLtr(l.xPlus(y,1),g-2),R=ar(u.borderRadius);Object.values(R).some(H=>H!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,wd(t,{x:T,y:E,w:g,h:d,radius:R}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),wd(t,{x:C,y:E+1,w:g-2,h:d-2,radius:R}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(T,E,g,d),t.strokeRect(T,E,g,d),t.fillStyle=u.backgroundColor,t.fillRect(C,E+1,g-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:l}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:m}=s,_=He(s.bodyFont);let y=_.lineHeight,S=0;const E=ya(s.rtl,this.x,this.width),T=function($){e.fillText($,E.x(t.x+S),t.y+y/2),t.y+=y+o},C=E.textAlign(u);let R,H,I,F,V,Q,tt;for(e.textAlign=u,e.textBaseline="middle",e.font=_.string,t.x=rc(this,C,s),e.fillStyle=s.bodyColor,Ot(this.beforeBody,T),S=h&&C!=="right"?u==="center"?g/2+m:g+2+m:0,F=0,Q=l.length;F<Q;++F){for(R=l[F],H=this.labelTextColors[F],e.fillStyle=H,Ot(R.before,T),I=R.lines,h&&I.length&&(this._drawColorBox(e,t,F,E,s),y=Math.max(_.lineHeight,d)),V=0,tt=I.length;V<tt;++V)T(I[V]),y=_.lineHeight;Ot(R.after,T)}S=0,y=_.lineHeight,Ot(this.afterBody,T),t.y-=o}drawFooter(t,e,s){const l=this.footer,o=l.length;let u,h;if(o){const d=ya(s.rtl,this.x,this.width);for(t.x=rc(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=He(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(l[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,l){const{xAlign:o,yAlign:u}=this,{x:h,y:d}=t,{width:g,height:m}=s,{topLeft:_,topRight:y,bottomLeft:S,bottomRight:E}=ar(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(h+_,d),u==="top"&&this.drawCaret(t,e,s,l),e.lineTo(h+g-y,d),e.quadraticCurveTo(h+g,d,h+g,d+y),u==="center"&&o==="right"&&this.drawCaret(t,e,s,l),e.lineTo(h+g,d+m-E),e.quadraticCurveTo(h+g,d+m,h+g-E,d+m),u==="bottom"&&this.drawCaret(t,e,s,l),e.lineTo(h+S,d+m),e.quadraticCurveTo(h,d+m,h,d+m-S),u==="center"&&o==="left"&&this.drawCaret(t,e,s,l),e.lineTo(h,d+_),e.quadraticCurveTo(h,d,h+_,d),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,l=s&&s.x,o=s&&s.y;if(l||o){const u=Kl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Rb(this,t),d=Object.assign({},u,this._size),g=Mb(e,t,d),m=Ob(t,d,g,e);(l._to!==m.x||o._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=mn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,l,e),qS(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),GS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,l=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),o=!Lc(s,l),u=this._positionChanged(l,e);(o||u)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,s),h=this._positionChanged(u,t),d=e||!Lc(u,o)||h;return d&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,l){const o=this.options;if(t.type==="mouseout")return[];if(!l)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:l,options:o}=this,u=Kl[o.position].call(this,t,e);return u!==!1&&(s!==u.x||l!==u.y)}}gt(Od,"positioners",Kl);var zN={id:"tooltip",_element:Od,positioners:Kl,afterInit(n,t,e){e&&(n.tooltip=new Od({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const uu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Le=Object.keys(uu);function kb(n,t){return n-t}function Lb(n,t){if(Te(t))return null;const e=n._adapter,{parser:s,round:l,isoWeekday:o}=n._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),ti(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(l&&(u=l==="week"&&(Bc(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,l)),+u)}function zb(n,t,e,s){const l=Le.length;for(let o=Le.indexOf(n);o<l-1;++o){const u=uu[Le[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return Le[o]}return Le[l-1]}function IN(n,t,e,s,l){for(let o=Le.length-1;o>=Le.indexOf(e);o--){const u=Le[o];if(uu[u].common&&n._adapter.diff(l,s,u)>=t-1)return u}return Le[e?Le.indexOf(e):0]}function HN(n){for(let t=Le.indexOf(n)+1,e=Le.length;t<e;++t)if(uu[Le[t]].common)return Le[t]}function Ib(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:l}=wg(e,t),o=e[s]>=t?e[s]:e[l];n[o]=!0}}function BN(n,t,e,s){const l=n._adapter,o=+l.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=o;h<=u;h=+l.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function Hb(n,t,e){const s=[],l={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],l[h]=u,s.push({value:h,major:!1});return o===0||!e?s:BN(n,s,l,e)}class Yc extends ou{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),l=this._adapter=new o2._date(t.adapters.date);l.init(e),nr(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Lb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:l,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function d(g){!u&&!isNaN(g.min)&&(l=Math.min(l,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=ti(l)&&!isNaN(l)?l:+e.startOf(Date.now(),s),o=ti(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(l,o-1),this.max=Math.max(l+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const o=this.min,u=this.max,h=nD(l,o,u);return this._unit=e.unit||(s.autoSkip?zb(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):IN(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:HN(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),Hb(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,l,o;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=rn(e,0,u),s=rn(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,l=this.options,o=l.time,u=o.unit||zb(o.minUnit,e,s,this._getLabelCapacity(e)),h=Dt(l.ticks.stepSize,1),d=u==="week"?o.isoWeekday:!1,g=Bc(d)||d===!0,m={};let _=e,y,S;if(g&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,g?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const E=l.ticks.source==="data"&&this.getDataTimestamps();for(y=_,S=0;y<s;y=+t.add(y,h,u),S++)Ib(m,y,E);return(y===s||l.bounds==="ticks"||S===1)&&Ib(m,y,E),Object.keys(m).sort(kb).map(T=>+T)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const l=this.options.time.displayFormats,o=this._unit,u=e||l[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,l){const o=this.options,u=o.ticks.callback;if(u)return Vt(u,[t,e,s],this);const h=o.time.displayFormats,d=this._unit,g=this._majorUnit,m=d&&h[d],_=g&&h[g],y=s[e],S=g&&_&&y&&y.major;return this._adapter.format(t,l||(S?_:m))}generateTickLabels(t){let e,s,l;for(e=0,s=t.length;e<s;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,l=ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(l),u=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*u,h:s*u+h*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,l=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Hb(this,[t],this._majorUnit),l),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,s=l.length;e<s;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const l=this.getLabels();for(e=0,s=l.length;e<s;++e)t.push(Lb(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return sD(t.sort(kb))}}gt(Yc,"id","time"),gt(Yc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oc(n,t,e){let s=0,l=n.length-1,o,u,h,d;e?(t>=n[s].pos&&t<=n[l].pos&&({lo:s,hi:l}=Cd(n,"pos",t)),{pos:o,time:h}=n[s],{pos:u,time:d}=n[l]):(t>=n[s].time&&t<=n[l].time&&({lo:s,hi:l}=Cd(n,"time",t)),{time:o,pos:h}=n[s],{time:u,pos:d}=n[l]);const g=u-o;return g?h+(d-h)*(t-o)/g:h}class Bb extends Yc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=oc(e,this.min),this._tableRange=oc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,l=[],o=[];let u,h,d,g,m;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=s&&l.push(g);if(l.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=l.length;u<h;++u)m=l[u+1],d=l[u-1],g=l[u],Math.round((m+d)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((l,o)=>l-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(oc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return oc(this._table,s*this._tableRange+this._minPos,!0)}}gt(Bb,"id","timeseries"),gt(Bb,"defaults",Yc.defaults);const lE="label";function Ub(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function UN(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function rE(n,t){n.labels=t}function oE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lE;const s=[];n.datasets=t.map(l=>{const o=n.datasets.find(u=>u[e]===l[e]);return!o||!l.data||s.includes(o)?{...l}:(s.push(o),Object.assign(o,l),o)})}function PN(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lE;const e={labels:[],datasets:[]};return rE(e,n.labels),oE(e,n.datasets,t),e}function jN(n,t){const{height:e=150,width:s=300,redraw:l=!1,datasetIdKey:o,type:u,data:h,options:d,plugins:g=[],fallbackContent:m,updateMode:_,...y}=n,S=z.useRef(null),E=z.useRef(null),T=()=>{S.current&&(E.current=new cu(S.current,{type:u,data:PN(h,o),options:d&&{...d},plugins:g}),Ub(t,E.current))},C=()=>{Ub(t,null),E.current&&(E.current.destroy(),E.current=null)};return z.useEffect(()=>{!l&&E.current&&d&&UN(E.current,d)},[l,d]),z.useEffect(()=>{!l&&E.current&&rE(E.current.config.data,h.labels)},[l,h.labels]),z.useEffect(()=>{!l&&E.current&&h.datasets&&oE(E.current.config.data,h.datasets,o)},[l,h.datasets]),z.useEffect(()=>{E.current&&(l?(C(),setTimeout(T)):E.current.update(_))},[l,d,h.labels,h.datasets,_]),z.useEffect(()=>{E.current&&(C(),setTimeout(T))},[u]),z.useEffect(()=>(T(),()=>C()),[]),Pb.createElement("canvas",{ref:S,role:"img",height:e,width:s,...y},m)}const VN=z.forwardRef(jN);function FN(n,t){return cu.register(t),z.forwardRef((e,s)=>Pb.createElement(VN,{...e,ref:s,type:n}))}const YN=FN("pie",Ad);cu.register(Ql,zN,AN);function qN(){const[n,t]=z.useState([]),[e,s]=z.useState({}),l=Ma();z.useEffect(()=>{const _=ki(Li,"players");mr(_,y=>{const S=y.val();S&&t(Object.values(S))})},[]),z.useEffect(()=>{const _=ki(Li,"votes");mr(_,y=>{const S=y.val()||{};s(S)})},[]);const o=()=>{localStorage.removeItem("voted"),nO(ki(Li,"votes")),l("/vote")},u={};Object.values(e).forEach(({votedFor:_})=>{_&&(u[_]=(u[_]||0)+1)});const h=n,d=n.map(_=>u[_]||0),g={labels:h,datasets:[{data:d,backgroundColor:["#f87171","#fb923c","#facc15","#4ade80","#60a5fa","#a78bfa","#f472b6","#34d399","#fcd34d","#818cf8","#c084fc","#f87171","#86efac","#fca5a5"],borderWidth:1}]},m=Object.keys(e).length>0;return ut.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-green-100 to-blue-200 p-4",children:ut.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-2xl",children:[ut.jsx("h2",{className:"text-2xl font-bold text-center text-green-700 mb-6",children:" Voting Results"}),m?ut.jsx("div",{className:"w-full flex justify-center",children:ut.jsx("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md",children:ut.jsx(YN,{data:g})})}):ut.jsx("p",{className:"text-center text-red-500 font-medium",children:"No votes yet! Let everyone cast their vote "}),ut.jsx("button",{onClick:o,className:"mt-8 w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-semibold shadow-md transition-all",children:" Next Question"})]})})}function GN(){return ut.jsx(iT,{children:ut.jsxs(kC,{children:[ut.jsx(fa,{path:"/",element:ut.jsx(NC,{to:"/setup"})}),ut.jsx(fa,{path:"/setup",element:ut.jsx(_O,{})}),ut.jsx(fa,{path:"/login",element:ut.jsx(yO,{})}),ut.jsx(fa,{path:"/vote",element:ut.jsx(vO,{})}),ut.jsx(fa,{path:"/results",element:ut.jsx(qN,{})})]})})}F1.createRoot(document.getElementById("root")).render(ut.jsx(z.StrictMode,{children:ut.jsx(sT,{children:ut.jsx(GN,{})})}));
